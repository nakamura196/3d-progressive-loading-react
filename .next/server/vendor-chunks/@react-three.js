"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@react-three";
exports.ids = ["vendor-chunks/@react-three"];
exports.modules = {

/***/ "(ssr)/./node_modules/@react-three/drei/core/Environment.js":
/*!************************************************************!*\
  !*** ./node_modules/@react-three/drei/core/Environment.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Environment: () => (/* binding */ Environment),\n/* harmony export */   EnvironmentCube: () => (/* binding */ EnvironmentCube),\n/* harmony export */   EnvironmentMap: () => (/* binding */ EnvironmentMap),\n/* harmony export */   EnvironmentPortal: () => (/* binding */ EnvironmentPortal)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"(ssr)/./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-three/fiber */ \"(ssr)/./node_modules/@react-three/fiber/dist/events-e3cb66e2.esm.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.core.js\");\n/* harmony import */ var three_stdlib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three-stdlib */ \"(ssr)/./node_modules/three-stdlib/objects/GroundProjectedEnv.js\");\n/* harmony import */ var _useEnvironment_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useEnvironment.js */ \"(ssr)/./node_modules/@react-three/drei/core/useEnvironment.js\");\n\n\n\n\n\n\nconst isRef = (obj)=>obj.current && obj.current.isScene;\nconst resolveScene = (scene)=>isRef(scene) ? scene.current : scene;\nfunction setEnvProps(background, scene, defaultScene, texture, sceneProps = {}) {\n    var _target$backgroundRot, _target$backgroundRot2, _target$environmentRo, _target$environmentRo2;\n    // defaults\n    sceneProps = {\n        backgroundBlurriness: 0,\n        backgroundIntensity: 1,\n        backgroundRotation: [\n            0,\n            0,\n            0\n        ],\n        environmentIntensity: 1,\n        environmentRotation: [\n            0,\n            0,\n            0\n        ],\n        ...sceneProps\n    };\n    const target = resolveScene(scene || defaultScene);\n    const oldbg = target.background;\n    const oldenv = target.environment;\n    const oldSceneProps = {\n        // @ts-ignore\n        backgroundBlurriness: target.backgroundBlurriness,\n        // @ts-ignore\n        backgroundIntensity: target.backgroundIntensity,\n        // @ts-ignore\n        backgroundRotation: (_target$backgroundRot = (_target$backgroundRot2 = target.backgroundRotation) == null || _target$backgroundRot2.clone == null ? void 0 : _target$backgroundRot2.clone()) !== null && _target$backgroundRot !== void 0 ? _target$backgroundRot : [\n            0,\n            0,\n            0\n        ],\n        // @ts-ignore\n        environmentIntensity: target.environmentIntensity,\n        // @ts-ignore\n        environmentRotation: (_target$environmentRo = (_target$environmentRo2 = target.environmentRotation) == null || _target$environmentRo2.clone == null ? void 0 : _target$environmentRo2.clone()) !== null && _target$environmentRo !== void 0 ? _target$environmentRo : [\n            0,\n            0,\n            0\n        ]\n    };\n    if (background !== 'only') target.environment = texture;\n    if (background) target.background = texture;\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.s)(target, sceneProps);\n    return ()=>{\n        if (background !== 'only') target.environment = oldenv;\n        if (background) target.background = oldbg;\n        (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.s)(target, oldSceneProps);\n    };\n}\nfunction EnvironmentMap({ scene, background = false, map, ...config }) {\n    const defaultScene = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.C)({\n        \"EnvironmentMap.useThree[defaultScene]\": (state)=>state.scene\n    }[\"EnvironmentMap.useThree[defaultScene]\"]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect({\n        \"EnvironmentMap.useLayoutEffect\": ()=>{\n            if (map) return setEnvProps(background, scene, defaultScene, map, config);\n        }\n    }[\"EnvironmentMap.useLayoutEffect\"]);\n    return null;\n}\nfunction EnvironmentCube({ background = false, scene, blur, backgroundBlurriness, backgroundIntensity, backgroundRotation, environmentIntensity, environmentRotation, ...rest }) {\n    const texture = (0,_useEnvironment_js__WEBPACK_IMPORTED_MODULE_3__.useEnvironment)(rest);\n    const defaultScene = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.C)({\n        \"EnvironmentCube.useThree[defaultScene]\": (state)=>state.scene\n    }[\"EnvironmentCube.useThree[defaultScene]\"]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect({\n        \"EnvironmentCube.useLayoutEffect\": ()=>{\n            return setEnvProps(background, scene, defaultScene, texture, {\n                backgroundBlurriness: blur !== null && blur !== void 0 ? blur : backgroundBlurriness,\n                backgroundIntensity,\n                backgroundRotation,\n                environmentIntensity,\n                environmentRotation\n            });\n        }\n    }[\"EnvironmentCube.useLayoutEffect\"]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"EnvironmentCube.useEffect\": ()=>{\n            return ({\n                \"EnvironmentCube.useEffect\": ()=>{\n                    texture.dispose();\n                }\n            })[\"EnvironmentCube.useEffect\"];\n        }\n    }[\"EnvironmentCube.useEffect\"], [\n        texture\n    ]);\n    return null;\n}\nfunction EnvironmentPortal({ children, near = 0.1, far = 1000, resolution = 256, frames = 1, map, background = false, blur, backgroundBlurriness, backgroundIntensity, backgroundRotation, environmentIntensity, environmentRotation, scene, files, path, preset = undefined, extensions }) {\n    const gl = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.C)({\n        \"EnvironmentPortal.useThree[gl]\": (state)=>state.gl\n    }[\"EnvironmentPortal.useThree[gl]\"]);\n    const defaultScene = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.C)({\n        \"EnvironmentPortal.useThree[defaultScene]\": (state)=>state.scene\n    }[\"EnvironmentPortal.useThree[defaultScene]\"]);\n    const camera = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const [virtualScene] = react__WEBPACK_IMPORTED_MODULE_1__.useState({\n        \"EnvironmentPortal.useState\": ()=>new three__WEBPACK_IMPORTED_MODULE_4__.Scene()\n    }[\"EnvironmentPortal.useState\"]);\n    const fbo = react__WEBPACK_IMPORTED_MODULE_1__.useMemo({\n        \"EnvironmentPortal.useMemo[fbo]\": ()=>{\n            const fbo = new three__WEBPACK_IMPORTED_MODULE_4__.WebGLCubeRenderTarget(resolution);\n            fbo.texture.type = three__WEBPACK_IMPORTED_MODULE_4__.HalfFloatType;\n            return fbo;\n        }\n    }[\"EnvironmentPortal.useMemo[fbo]\"], [\n        resolution\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"EnvironmentPortal.useEffect\": ()=>{\n            return ({\n                \"EnvironmentPortal.useEffect\": ()=>{\n                    fbo.dispose();\n                }\n            })[\"EnvironmentPortal.useEffect\"];\n        }\n    }[\"EnvironmentPortal.useEffect\"], [\n        fbo\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect({\n        \"EnvironmentPortal.useLayoutEffect\": ()=>{\n            if (frames === 1) {\n                const autoClear = gl.autoClear;\n                gl.autoClear = true;\n                camera.current.update(gl, virtualScene);\n                gl.autoClear = autoClear;\n            }\n            return setEnvProps(background, scene, defaultScene, fbo.texture, {\n                backgroundBlurriness: blur !== null && blur !== void 0 ? blur : backgroundBlurriness,\n                backgroundIntensity,\n                backgroundRotation,\n                environmentIntensity,\n                environmentRotation\n            });\n        }\n    }[\"EnvironmentPortal.useLayoutEffect\"], [\n        children,\n        virtualScene,\n        fbo.texture,\n        scene,\n        defaultScene,\n        background,\n        frames,\n        gl\n    ]);\n    let count = 1;\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.D)({\n        \"EnvironmentPortal.useFrame\": ()=>{\n            if (frames === Infinity || count < frames) {\n                const autoClear = gl.autoClear;\n                gl.autoClear = true;\n                camera.current.update(gl, virtualScene);\n                gl.autoClear = autoClear;\n                count++;\n            }\n        }\n    }[\"EnvironmentPortal.useFrame\"]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.o)(/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, children, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"cubeCamera\", {\n        ref: camera,\n        args: [\n            near,\n            far,\n            fbo\n        ]\n    }), files || preset ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(EnvironmentCube, {\n        background: true,\n        files: files,\n        preset: preset,\n        path: path,\n        extensions: extensions\n    }) : map ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(EnvironmentMap, {\n        background: true,\n        map: map,\n        extensions: extensions\n    }) : null), virtualScene));\n}\nfunction EnvironmentGround(props) {\n    var _props$ground, _props$ground2, _scale, _props$ground3;\n    const textureDefault = (0,_useEnvironment_js__WEBPACK_IMPORTED_MODULE_3__.useEnvironment)(props);\n    const texture = props.map || textureDefault;\n    react__WEBPACK_IMPORTED_MODULE_1__.useMemo({\n        \"EnvironmentGround.useMemo\": ()=>(0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.e)({\n                GroundProjectedEnvImpl: three_stdlib__WEBPACK_IMPORTED_MODULE_5__.GroundProjectedEnv\n            })\n    }[\"EnvironmentGround.useMemo\"], []);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"EnvironmentGround.useEffect\": ()=>{\n            return ({\n                \"EnvironmentGround.useEffect\": ()=>{\n                    textureDefault.dispose();\n                }\n            })[\"EnvironmentGround.useEffect\"];\n        }\n    }[\"EnvironmentGround.useEffect\"], [\n        textureDefault\n    ]);\n    const args = react__WEBPACK_IMPORTED_MODULE_1__.useMemo({\n        \"EnvironmentGround.useMemo[args]\": ()=>[\n                texture\n            ]\n    }[\"EnvironmentGround.useMemo[args]\"], [\n        texture\n    ]);\n    const height = (_props$ground = props.ground) == null ? void 0 : _props$ground.height;\n    const radius = (_props$ground2 = props.ground) == null ? void 0 : _props$ground2.radius;\n    const scale = (_scale = (_props$ground3 = props.ground) == null ? void 0 : _props$ground3.scale) !== null && _scale !== void 0 ? _scale : 1000;\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(EnvironmentMap, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n        map: texture\n    })), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"groundProjectedEnvImpl\", {\n        args: args,\n        scale: scale,\n        height: height,\n        radius: radius\n    }));\n}\nfunction Environment(props) {\n    return props.ground ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(EnvironmentGround, props) : props.map ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(EnvironmentMap, props) : props.children ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(EnvironmentPortal, props) : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(EnvironmentCube, props);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvY29yZS9FbnZpcm9ubWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUEwRDtBQUMzQjtBQUMyRDtBQUN0QjtBQUNsQjtBQUNHO0FBRXJELE1BQU1ZLFFBQVFDLENBQUFBLE1BQU9BLElBQUlDLE9BQU8sSUFBSUQsSUFBSUMsT0FBTyxDQUFDQyxPQUFPO0FBQ3ZELE1BQU1DLGVBQWVDLENBQUFBLFFBQVNMLE1BQU1LLFNBQVNBLE1BQU1ILE9BQU8sR0FBR0c7QUFDN0QsU0FBU0MsWUFBWUMsVUFBVSxFQUFFRixLQUFLLEVBQUVHLFlBQVksRUFBRUMsT0FBTyxFQUFFQyxhQUFhLENBQUMsQ0FBQztJQUM1RSxJQUFJQyx1QkFBdUJDLHdCQUF3QkMsdUJBQXVCQztJQUMxRSxXQUFXO0lBQ1hKLGFBQWE7UUFDWEssc0JBQXNCO1FBQ3RCQyxxQkFBcUI7UUFDckJDLG9CQUFvQjtZQUFDO1lBQUc7WUFBRztTQUFFO1FBQzdCQyxzQkFBc0I7UUFDdEJDLHFCQUFxQjtZQUFDO1lBQUc7WUFBRztTQUFFO1FBQzlCLEdBQUdULFVBQVU7SUFDZjtJQUNBLE1BQU1VLFNBQVNoQixhQUFhQyxTQUFTRztJQUNyQyxNQUFNYSxRQUFRRCxPQUFPYixVQUFVO0lBQy9CLE1BQU1lLFNBQVNGLE9BQU9HLFdBQVc7SUFDakMsTUFBTUMsZ0JBQWdCO1FBQ3BCLGFBQWE7UUFDYlQsc0JBQXNCSyxPQUFPTCxvQkFBb0I7UUFDakQsYUFBYTtRQUNiQyxxQkFBcUJJLE9BQU9KLG1CQUFtQjtRQUMvQyxhQUFhO1FBQ2JDLG9CQUFvQixDQUFDTix3QkFBd0IsQ0FBQ0MseUJBQXlCUSxPQUFPSCxrQkFBa0IsS0FBSyxRQUFRTCx1QkFBdUJhLEtBQUssSUFBSSxPQUFPLEtBQUssSUFBSWIsdUJBQXVCYSxLQUFLLEVBQUMsTUFBTyxRQUFRZCwwQkFBMEIsS0FBSyxJQUFJQSx3QkFBd0I7WUFBQztZQUFHO1lBQUc7U0FB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REFBbUIsQ0FBQ3FDLGdCQUFnQnRDLDhFQUFRQSxDQUFDLENBQUMsR0FBRzRFLE9BQU87UUFDaklyQyxLQUFLbEI7SUFDUCxLQUFLLFdBQVcsR0FBRXBCLGdEQUFtQixDQUFDLDBCQUEwQjtRQUM5RHlFLE1BQU1BO1FBQ05ZLE9BQU9BO1FBQ1BILFFBQVFBO1FBQ1JFLFFBQVFBO0lBQ1Y7QUFDRjtBQUNBLFNBQVNFLFlBQVlYLEtBQUs7SUFDeEIsT0FBT0EsTUFBTVEsTUFBTSxHQUFHLFdBQVcsR0FBRW5GLGdEQUFtQixDQUFDMEUsbUJBQW1CQyxTQUFTQSxNQUFNckMsR0FBRyxHQUFHLFdBQVcsR0FBRXRDLGdEQUFtQixDQUFDcUMsZ0JBQWdCc0MsU0FBU0EsTUFBTTNCLFFBQVEsR0FBRyxXQUFXLEdBQUVoRCxnREFBbUIsQ0FBQytDLG1CQUFtQjRCLFNBQVMsV0FBVyxHQUFFM0UsZ0RBQW1CLENBQUMwQyxpQkFBaUJpQztBQUMzUjtBQUUyRSIsInNvdXJjZXMiOlsiL1VzZXJzL25ha2FtdXJhL2dpdC8zZC9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvY29yZS9FbnZpcm9ubWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VUaHJlZSwgdXNlRnJhbWUsIGNyZWF0ZVBvcnRhbCwgYXBwbHlQcm9wcywgZXh0ZW5kIH0gZnJvbSAnQHJlYWN0LXRocmVlL2ZpYmVyJztcbmltcG9ydCB7IFNjZW5lLCBXZWJHTEN1YmVSZW5kZXJUYXJnZXQsIEhhbGZGbG9hdFR5cGUgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBHcm91bmRQcm9qZWN0ZWRFbnYgfSBmcm9tICd0aHJlZS1zdGRsaWInO1xuaW1wb3J0IHsgdXNlRW52aXJvbm1lbnQgfSBmcm9tICcuL3VzZUVudmlyb25tZW50LmpzJztcblxuY29uc3QgaXNSZWYgPSBvYmogPT4gb2JqLmN1cnJlbnQgJiYgb2JqLmN1cnJlbnQuaXNTY2VuZTtcbmNvbnN0IHJlc29sdmVTY2VuZSA9IHNjZW5lID0+IGlzUmVmKHNjZW5lKSA/IHNjZW5lLmN1cnJlbnQgOiBzY2VuZTtcbmZ1bmN0aW9uIHNldEVudlByb3BzKGJhY2tncm91bmQsIHNjZW5lLCBkZWZhdWx0U2NlbmUsIHRleHR1cmUsIHNjZW5lUHJvcHMgPSB7fSkge1xuICB2YXIgX3RhcmdldCRiYWNrZ3JvdW5kUm90LCBfdGFyZ2V0JGJhY2tncm91bmRSb3QyLCBfdGFyZ2V0JGVudmlyb25tZW50Um8sIF90YXJnZXQkZW52aXJvbm1lbnRSbzI7XG4gIC8vIGRlZmF1bHRzXG4gIHNjZW5lUHJvcHMgPSB7XG4gICAgYmFja2dyb3VuZEJsdXJyaW5lc3M6IDAsXG4gICAgYmFja2dyb3VuZEludGVuc2l0eTogMSxcbiAgICBiYWNrZ3JvdW5kUm90YXRpb246IFswLCAwLCAwXSxcbiAgICBlbnZpcm9ubWVudEludGVuc2l0eTogMSxcbiAgICBlbnZpcm9ubWVudFJvdGF0aW9uOiBbMCwgMCwgMF0sXG4gICAgLi4uc2NlbmVQcm9wc1xuICB9O1xuICBjb25zdCB0YXJnZXQgPSByZXNvbHZlU2NlbmUoc2NlbmUgfHwgZGVmYXVsdFNjZW5lKTtcbiAgY29uc3Qgb2xkYmcgPSB0YXJnZXQuYmFja2dyb3VuZDtcbiAgY29uc3Qgb2xkZW52ID0gdGFyZ2V0LmVudmlyb25tZW50O1xuICBjb25zdCBvbGRTY2VuZVByb3BzID0ge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBiYWNrZ3JvdW5kQmx1cnJpbmVzczogdGFyZ2V0LmJhY2tncm91bmRCbHVycmluZXNzLFxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBiYWNrZ3JvdW5kSW50ZW5zaXR5OiB0YXJnZXQuYmFja2dyb3VuZEludGVuc2l0eSxcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgYmFja2dyb3VuZFJvdGF0aW9uOiAoX3RhcmdldCRiYWNrZ3JvdW5kUm90ID0gKF90YXJnZXQkYmFja2dyb3VuZFJvdDIgPSB0YXJnZXQuYmFja2dyb3VuZFJvdGF0aW9uKSA9PSBudWxsIHx8IF90YXJnZXQkYmFja2dyb3VuZFJvdDIuY2xvbmUgPT0gbnVsbCA/IHZvaWQgMCA6IF90YXJnZXQkYmFja2dyb3VuZFJvdDIuY2xvbmUoKSkgIT09IG51bGwgJiYgX3RhcmdldCRiYWNrZ3JvdW5kUm90ICE9PSB2b2lkIDAgPyBfdGFyZ2V0JGJhY2tncm91bmRSb3QgOiBbMCwgMCwgMF0sXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGVudmlyb25tZW50SW50ZW5zaXR5OiB0YXJnZXQuZW52aXJvbm1lbnRJbnRlbnNpdHksXG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGVudmlyb25tZW50Um90YXRpb246IChfdGFyZ2V0JGVudmlyb25tZW50Um8gPSAoX3RhcmdldCRlbnZpcm9ubWVudFJvMiA9IHRhcmdldC5lbnZpcm9ubWVudFJvdGF0aW9uKSA9PSBudWxsIHx8IF90YXJnZXQkZW52aXJvbm1lbnRSbzIuY2xvbmUgPT0gbnVsbCA/IHZvaWQgMCA6IF90YXJnZXQkZW52aXJvbm1lbnRSbzIuY2xvbmUoKSkgIT09IG51bGwgJiYgX3RhcmdldCRlbnZpcm9ubWVudFJvICE9PSB2b2lkIDAgPyBfdGFyZ2V0JGVudmlyb25tZW50Um8gOiBbMCwgMCwgMF1cbiAgfTtcbiAgaWYgKGJhY2tncm91bmQgIT09ICdvbmx5JykgdGFyZ2V0LmVudmlyb25tZW50ID0gdGV4dHVyZTtcbiAgaWYgKGJhY2tncm91bmQpIHRhcmdldC5iYWNrZ3JvdW5kID0gdGV4dHVyZTtcbiAgYXBwbHlQcm9wcyh0YXJnZXQsIHNjZW5lUHJvcHMpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGlmIChiYWNrZ3JvdW5kICE9PSAnb25seScpIHRhcmdldC5lbnZpcm9ubWVudCA9IG9sZGVudjtcbiAgICBpZiAoYmFja2dyb3VuZCkgdGFyZ2V0LmJhY2tncm91bmQgPSBvbGRiZztcbiAgICBhcHBseVByb3BzKHRhcmdldCwgb2xkU2NlbmVQcm9wcyk7XG4gIH07XG59XG5mdW5jdGlvbiBFbnZpcm9ubWVudE1hcCh7XG4gIHNjZW5lLFxuICBiYWNrZ3JvdW5kID0gZmFsc2UsXG4gIG1hcCxcbiAgLi4uY29uZmlnXG59KSB7XG4gIGNvbnN0IGRlZmF1bHRTY2VuZSA9IHVzZVRocmVlKHN0YXRlID0+IHN0YXRlLnNjZW5lKTtcbiAgUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAobWFwKSByZXR1cm4gc2V0RW52UHJvcHMoYmFja2dyb3VuZCwgc2NlbmUsIGRlZmF1bHRTY2VuZSwgbWFwLCBjb25maWcpO1xuICB9KTtcbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBFbnZpcm9ubWVudEN1YmUoe1xuICBiYWNrZ3JvdW5kID0gZmFsc2UsXG4gIHNjZW5lLFxuICBibHVyLFxuICBiYWNrZ3JvdW5kQmx1cnJpbmVzcyxcbiAgYmFja2dyb3VuZEludGVuc2l0eSxcbiAgYmFja2dyb3VuZFJvdGF0aW9uLFxuICBlbnZpcm9ubWVudEludGVuc2l0eSxcbiAgZW52aXJvbm1lbnRSb3RhdGlvbixcbiAgLi4ucmVzdFxufSkge1xuICBjb25zdCB0ZXh0dXJlID0gdXNlRW52aXJvbm1lbnQocmVzdCk7XG4gIGNvbnN0IGRlZmF1bHRTY2VuZSA9IHVzZVRocmVlKHN0YXRlID0+IHN0YXRlLnNjZW5lKTtcbiAgUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gc2V0RW52UHJvcHMoYmFja2dyb3VuZCwgc2NlbmUsIGRlZmF1bHRTY2VuZSwgdGV4dHVyZSwge1xuICAgICAgYmFja2dyb3VuZEJsdXJyaW5lc3M6IGJsdXIgIT09IG51bGwgJiYgYmx1ciAhPT0gdm9pZCAwID8gYmx1ciA6IGJhY2tncm91bmRCbHVycmluZXNzLFxuICAgICAgYmFja2dyb3VuZEludGVuc2l0eSxcbiAgICAgIGJhY2tncm91bmRSb3RhdGlvbixcbiAgICAgIGVudmlyb25tZW50SW50ZW5zaXR5LFxuICAgICAgZW52aXJvbm1lbnRSb3RhdGlvblxuICAgIH0pO1xuICB9KTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGV4dHVyZS5kaXNwb3NlKCk7XG4gICAgfTtcbiAgfSwgW3RleHR1cmVdKTtcbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBFbnZpcm9ubWVudFBvcnRhbCh7XG4gIGNoaWxkcmVuLFxuICBuZWFyID0gMC4xLFxuICBmYXIgPSAxMDAwLFxuICByZXNvbHV0aW9uID0gMjU2LFxuICBmcmFtZXMgPSAxLFxuICBtYXAsXG4gIGJhY2tncm91bmQgPSBmYWxzZSxcbiAgYmx1cixcbiAgYmFja2dyb3VuZEJsdXJyaW5lc3MsXG4gIGJhY2tncm91bmRJbnRlbnNpdHksXG4gIGJhY2tncm91bmRSb3RhdGlvbixcbiAgZW52aXJvbm1lbnRJbnRlbnNpdHksXG4gIGVudmlyb25tZW50Um90YXRpb24sXG4gIHNjZW5lLFxuICBmaWxlcyxcbiAgcGF0aCxcbiAgcHJlc2V0ID0gdW5kZWZpbmVkLFxuICBleHRlbnNpb25zXG59KSB7XG4gIGNvbnN0IGdsID0gdXNlVGhyZWUoc3RhdGUgPT4gc3RhdGUuZ2wpO1xuICBjb25zdCBkZWZhdWx0U2NlbmUgPSB1c2VUaHJlZShzdGF0ZSA9PiBzdGF0ZS5zY2VuZSk7XG4gIGNvbnN0IGNhbWVyYSA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3QgW3ZpcnR1YWxTY2VuZV0gPSBSZWFjdC51c2VTdGF0ZSgoKSA9PiBuZXcgU2NlbmUoKSk7XG4gIGNvbnN0IGZibyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGZibyA9IG5ldyBXZWJHTEN1YmVSZW5kZXJUYXJnZXQocmVzb2x1dGlvbik7XG4gICAgZmJvLnRleHR1cmUudHlwZSA9IEhhbGZGbG9hdFR5cGU7XG4gICAgcmV0dXJuIGZibztcbiAgfSwgW3Jlc29sdXRpb25dKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZmJvLmRpc3Bvc2UoKTtcbiAgICB9O1xuICB9LCBbZmJvXSk7XG4gIFJlYWN0LnVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGZyYW1lcyA9PT0gMSkge1xuICAgICAgY29uc3QgYXV0b0NsZWFyID0gZ2wuYXV0b0NsZWFyO1xuICAgICAgZ2wuYXV0b0NsZWFyID0gdHJ1ZTtcbiAgICAgIGNhbWVyYS5jdXJyZW50LnVwZGF0ZShnbCwgdmlydHVhbFNjZW5lKTtcbiAgICAgIGdsLmF1dG9DbGVhciA9IGF1dG9DbGVhcjtcbiAgICB9XG4gICAgcmV0dXJuIHNldEVudlByb3BzKGJhY2tncm91bmQsIHNjZW5lLCBkZWZhdWx0U2NlbmUsIGZiby50ZXh0dXJlLCB7XG4gICAgICBiYWNrZ3JvdW5kQmx1cnJpbmVzczogYmx1ciAhPT0gbnVsbCAmJiBibHVyICE9PSB2b2lkIDAgPyBibHVyIDogYmFja2dyb3VuZEJsdXJyaW5lc3MsXG4gICAgICBiYWNrZ3JvdW5kSW50ZW5zaXR5LFxuICAgICAgYmFja2dyb3VuZFJvdGF0aW9uLFxuICAgICAgZW52aXJvbm1lbnRJbnRlbnNpdHksXG4gICAgICBlbnZpcm9ubWVudFJvdGF0aW9uXG4gICAgfSk7XG4gIH0sIFtjaGlsZHJlbiwgdmlydHVhbFNjZW5lLCBmYm8udGV4dHVyZSwgc2NlbmUsIGRlZmF1bHRTY2VuZSwgYmFja2dyb3VuZCwgZnJhbWVzLCBnbF0pO1xuICBsZXQgY291bnQgPSAxO1xuICB1c2VGcmFtZSgoKSA9PiB7XG4gICAgaWYgKGZyYW1lcyA9PT0gSW5maW5pdHkgfHwgY291bnQgPCBmcmFtZXMpIHtcbiAgICAgIGNvbnN0IGF1dG9DbGVhciA9IGdsLmF1dG9DbGVhcjtcbiAgICAgIGdsLmF1dG9DbGVhciA9IHRydWU7XG4gICAgICBjYW1lcmEuY3VycmVudC51cGRhdGUoZ2wsIHZpcnR1YWxTY2VuZSk7XG4gICAgICBnbC5hdXRvQ2xlYXIgPSBhdXRvQ2xlYXI7XG4gICAgICBjb3VudCsrO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgY3JlYXRlUG9ydGFsKC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBjaGlsZHJlbiwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJjdWJlQ2FtZXJhXCIsIHtcbiAgICByZWY6IGNhbWVyYSxcbiAgICBhcmdzOiBbbmVhciwgZmFyLCBmYm9dXG4gIH0pLCBmaWxlcyB8fCBwcmVzZXQgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFbnZpcm9ubWVudEN1YmUsIHtcbiAgICBiYWNrZ3JvdW5kOiB0cnVlLFxuICAgIGZpbGVzOiBmaWxlcyxcbiAgICBwcmVzZXQ6IHByZXNldCxcbiAgICBwYXRoOiBwYXRoLFxuICAgIGV4dGVuc2lvbnM6IGV4dGVuc2lvbnNcbiAgfSkgOiBtYXAgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFbnZpcm9ubWVudE1hcCwge1xuICAgIGJhY2tncm91bmQ6IHRydWUsXG4gICAgbWFwOiBtYXAsXG4gICAgZXh0ZW5zaW9uczogZXh0ZW5zaW9uc1xuICB9KSA6IG51bGwpLCB2aXJ0dWFsU2NlbmUpKTtcbn1cbmZ1bmN0aW9uIEVudmlyb25tZW50R3JvdW5kKHByb3BzKSB7XG4gIHZhciBfcHJvcHMkZ3JvdW5kLCBfcHJvcHMkZ3JvdW5kMiwgX3NjYWxlLCBfcHJvcHMkZ3JvdW5kMztcbiAgY29uc3QgdGV4dHVyZURlZmF1bHQgPSB1c2VFbnZpcm9ubWVudChwcm9wcyk7XG4gIGNvbnN0IHRleHR1cmUgPSBwcm9wcy5tYXAgfHwgdGV4dHVyZURlZmF1bHQ7XG4gIFJlYWN0LnVzZU1lbW8oKCkgPT4gZXh0ZW5kKHtcbiAgICBHcm91bmRQcm9qZWN0ZWRFbnZJbXBsOiBHcm91bmRQcm9qZWN0ZWRFbnZcbiAgfSksIFtdKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGV4dHVyZURlZmF1bHQuZGlzcG9zZSgpO1xuICAgIH07XG4gIH0sIFt0ZXh0dXJlRGVmYXVsdF0pO1xuICBjb25zdCBhcmdzID0gUmVhY3QudXNlTWVtbygoKSA9PiBbdGV4dHVyZV0sIFt0ZXh0dXJlXSk7XG4gIGNvbnN0IGhlaWdodCA9IChfcHJvcHMkZ3JvdW5kID0gcHJvcHMuZ3JvdW5kKSA9PSBudWxsID8gdm9pZCAwIDogX3Byb3BzJGdyb3VuZC5oZWlnaHQ7XG4gIGNvbnN0IHJhZGl1cyA9IChfcHJvcHMkZ3JvdW5kMiA9IHByb3BzLmdyb3VuZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9wcm9wcyRncm91bmQyLnJhZGl1cztcbiAgY29uc3Qgc2NhbGUgPSAoX3NjYWxlID0gKF9wcm9wcyRncm91bmQzID0gcHJvcHMuZ3JvdW5kKSA9PSBudWxsID8gdm9pZCAwIDogX3Byb3BzJGdyb3VuZDMuc2NhbGUpICE9PSBudWxsICYmIF9zY2FsZSAhPT0gdm9pZCAwID8gX3NjYWxlIDogMTAwMDtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFbnZpcm9ubWVudE1hcCwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgbWFwOiB0ZXh0dXJlXG4gIH0pKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJncm91bmRQcm9qZWN0ZWRFbnZJbXBsXCIsIHtcbiAgICBhcmdzOiBhcmdzLFxuICAgIHNjYWxlOiBzY2FsZSxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICByYWRpdXM6IHJhZGl1c1xuICB9KSk7XG59XG5mdW5jdGlvbiBFbnZpcm9ubWVudChwcm9wcykge1xuICByZXR1cm4gcHJvcHMuZ3JvdW5kID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRW52aXJvbm1lbnRHcm91bmQsIHByb3BzKSA6IHByb3BzLm1hcCA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEVudmlyb25tZW50TWFwLCBwcm9wcykgOiBwcm9wcy5jaGlsZHJlbiA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEVudmlyb25tZW50UG9ydGFsLCBwcm9wcykgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFbnZpcm9ubWVudEN1YmUsIHByb3BzKTtcbn1cblxuZXhwb3J0IHsgRW52aXJvbm1lbnQsIEVudmlyb25tZW50Q3ViZSwgRW52aXJvbm1lbnRNYXAsIEVudmlyb25tZW50UG9ydGFsIH07XG4iXSwibmFtZXMiOlsiX2V4dGVuZHMiLCJSZWFjdCIsInVzZVRocmVlIiwidXNlRnJhbWUiLCJjcmVhdGVQb3J0YWwiLCJhcHBseVByb3BzIiwiZXh0ZW5kIiwiU2NlbmUiLCJXZWJHTEN1YmVSZW5kZXJUYXJnZXQiLCJIYWxmRmxvYXRUeXBlIiwiR3JvdW5kUHJvamVjdGVkRW52IiwidXNlRW52aXJvbm1lbnQiLCJpc1JlZiIsIm9iaiIsImN1cnJlbnQiLCJpc1NjZW5lIiwicmVzb2x2ZVNjZW5lIiwic2NlbmUiLCJzZXRFbnZQcm9wcyIsImJhY2tncm91bmQiLCJkZWZhdWx0U2NlbmUiLCJ0ZXh0dXJlIiwic2NlbmVQcm9wcyIsIl90YXJnZXQkYmFja2dyb3VuZFJvdCIsIl90YXJnZXQkYmFja2dyb3VuZFJvdDIiLCJfdGFyZ2V0JGVudmlyb25tZW50Um8iLCJfdGFyZ2V0JGVudmlyb25tZW50Um8yIiwiYmFja2dyb3VuZEJsdXJyaW5lc3MiLCJiYWNrZ3JvdW5kSW50ZW5zaXR5IiwiYmFja2dyb3VuZFJvdGF0aW9uIiwiZW52aXJvbm1lbnRJbnRlbnNpdHkiLCJlbnZpcm9ubWVudFJvdGF0aW9uIiwidGFyZ2V0Iiwib2xkYmciLCJvbGRlbnYiLCJlbnZpcm9ubWVudCIsIm9sZFNjZW5lUHJvcHMiLCJjbG9uZSIsIkVudmlyb25tZW50TWFwIiwibWFwIiwiY29uZmlnIiwic3RhdGUiLCJ1c2VMYXlvdXRFZmZlY3QiLCJFbnZpcm9ubWVudEN1YmUiLCJibHVyIiwicmVzdCIsInVzZUVmZmVjdCIsImRpc3Bvc2UiLCJFbnZpcm9ubWVudFBvcnRhbCIsImNoaWxkcmVuIiwibmVhciIsImZhciIsInJlc29sdXRpb24iLCJmcmFtZXMiLCJmaWxlcyIsInBhdGgiLCJwcmVzZXQiLCJ1bmRlZmluZWQiLCJleHRlbnNpb25zIiwiZ2wiLCJjYW1lcmEiLCJ1c2VSZWYiLCJ2aXJ0dWFsU2NlbmUiLCJ1c2VTdGF0ZSIsImZibyIsInVzZU1lbW8iLCJ0eXBlIiwiYXV0b0NsZWFyIiwidXBkYXRlIiwiY291bnQiLCJJbmZpbml0eSIsImNyZWF0ZUVsZW1lbnQiLCJGcmFnbWVudCIsInJlZiIsImFyZ3MiLCJFbnZpcm9ubWVudEdyb3VuZCIsInByb3BzIiwiX3Byb3BzJGdyb3VuZCIsIl9wcm9wcyRncm91bmQyIiwiX3NjYWxlIiwiX3Byb3BzJGdyb3VuZDMiLCJ0ZXh0dXJlRGVmYXVsdCIsIkdyb3VuZFByb2plY3RlZEVudkltcGwiLCJoZWlnaHQiLCJncm91bmQiLCJyYWRpdXMiLCJzY2FsZSIsIkVudmlyb25tZW50Il0sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/core/Environment.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/core/Float.js":
/*!******************************************************!*\
  !*** ./node_modules/@react-three/drei/core/Float.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Float: () => (/* binding */ Float)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @react-three/fiber */ \"(ssr)/./node_modules/@react-three/fiber/dist/events-e3cb66e2.esm.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.core.js\");\n\n\n\nconst Float = /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(({ children, enabled = true, speed = 1, rotationIntensity = 1, floatIntensity = 1, floatingRange = [\n    -0.1,\n    0.1\n], autoInvalidate = false, ...props }, forwardRef)=>{\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(forwardRef, {\n        \"Float.useImperativeHandle\": ()=>ref.current\n    }[\"Float.useImperativeHandle\"], []);\n    const offset = react__WEBPACK_IMPORTED_MODULE_0__.useRef(Math.random() * 10000);\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_1__.D)({\n        \"Float.useFrame\": (state)=>{\n            var _floatingRange$, _floatingRange$2;\n            if (!enabled || speed === 0) return;\n            if (autoInvalidate) state.invalidate();\n            const t = offset.current + state.clock.elapsedTime;\n            ref.current.rotation.x = Math.cos(t / 4 * speed) / 8 * rotationIntensity;\n            ref.current.rotation.y = Math.sin(t / 4 * speed) / 8 * rotationIntensity;\n            ref.current.rotation.z = Math.sin(t / 4 * speed) / 20 * rotationIntensity;\n            let yPosition = Math.sin(t / 4 * speed) / 10;\n            yPosition = three__WEBPACK_IMPORTED_MODULE_2__.MathUtils.mapLinear(yPosition, -0.1, 0.1, (_floatingRange$ = floatingRange == null ? void 0 : floatingRange[0]) !== null && _floatingRange$ !== void 0 ? _floatingRange$ : -0.1, (_floatingRange$2 = floatingRange == null ? void 0 : floatingRange[1]) !== null && _floatingRange$2 !== void 0 ? _floatingRange$2 : 0.1);\n            ref.current.position.y = yPosition * floatIntensity;\n            ref.current.updateMatrix();\n        }\n    }[\"Float.useFrame\"]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"group\", props, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"group\", {\n        ref: ref,\n        matrixAutoUpdate: false\n    }, children));\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvY29yZS9GbG9hdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUErQjtBQUNlO0FBQ2Y7QUFFL0IsTUFBTUcsUUFBUSxhQUFhLGlCQUFFSCw2Q0FBZ0IsQ0FBQyxDQUFDLEVBQzdDSyxRQUFRLEVBQ1JDLFVBQVUsSUFBSSxFQUNkQyxRQUFRLENBQUMsRUFDVEMsb0JBQW9CLENBQUMsRUFDckJDLGlCQUFpQixDQUFDLEVBQ2xCQyxnQkFBZ0I7SUFBQyxDQUFDO0lBQUs7Q0FBSSxFQUMzQkMsaUJBQWlCLEtBQUssRUFDdEIsR0FBR0MsT0FDSixFQUFFUjtJQUNELE1BQU1TLE1BQU1iLHlDQUFZLENBQUM7SUFDekJBLHNEQUF5QixDQUFDSTtxQ0FBWSxJQUFNUyxJQUFJRyxPQUFPO29DQUFFLEVBQUU7SUFDM0QsTUFBTUMsU0FBU2pCLHlDQUFZLENBQUNrQixLQUFLQyxNQUFNLEtBQUs7SUFDNUNsQixxREFBUUE7MEJBQUNtQixDQUFBQTtZQUNQLElBQUlDLGlCQUFpQkM7WUFDckIsSUFBSSxDQUFDaEIsV0FBV0MsVUFBVSxHQUFHO1lBQzdCLElBQUlJLGdCQUFnQlMsTUFBTUcsVUFBVTtZQUNwQyxNQUFNQyxJQUFJUCxPQUFPRCxPQUFPLEdBQUdJLE1BQU1LLEtBQUssQ0FBQ0MsV0FBVztZQUNsRGIsSUFBSUcsT0FBTyxDQUFDVyxRQUFRLENBQUNDLENBQUMsR0FBR1YsS0FBS1csR0FBRyxDQUFDTCxJQUFJLElBQUlqQixTQUFTLElBQUlDO1lBQ3ZESyxJQUFJRyxPQUFPLENBQUNXLFFBQVEsQ0FBQ0csQ0FBQyxHQUFHWixLQUFLYSxHQUFHLENBQUNQLElBQUksSUFBSWpCLFNBQVMsSUFBSUM7WUFDdkRLLElBQUlHLE9BQU8sQ0FBQ1csUUFBUSxDQUFDSyxDQUFDLEdBQUdkLEtBQUthLEdBQUcsQ0FBQ1AsSUFBSSxJQUFJakIsU0FBUyxLQUFLQztZQUN4RCxJQUFJeUIsWUFBWWYsS0FBS2EsR0FBRyxDQUFDUCxJQUFJLElBQUlqQixTQUFTO1lBQzFDMEIsWUFBWS9CLDRDQUFlLENBQUNpQyxTQUFTLENBQUNGLFdBQVcsQ0FBQyxLQUFLLEtBQUssQ0FBQ1osa0JBQWtCWCxpQkFBaUIsT0FBTyxLQUFLLElBQUlBLGFBQWEsQ0FBQyxFQUFFLE1BQU0sUUFBUVcsb0JBQW9CLEtBQUssSUFBSUEsa0JBQWtCLENBQUMsS0FBSyxDQUFDQyxtQkFBbUJaLGlCQUFpQixPQUFPLEtBQUssSUFBSUEsYUFBYSxDQUFDLEVBQUUsTUFBTSxRQUFRWSxxQkFBcUIsS0FBSyxJQUFJQSxtQkFBbUI7WUFDdlVULElBQUlHLE9BQU8sQ0FBQ29CLFFBQVEsQ0FBQ04sQ0FBQyxHQUFHRyxZQUFZeEI7WUFDckNJLElBQUlHLE9BQU8sQ0FBQ3FCLFlBQVk7UUFDMUI7O0lBQ0EsT0FBTyxXQUFXLEdBQUVyQyxnREFBbUIsQ0FBQyxTQUFTWSxPQUFPLFdBQVcsR0FBRVosZ0RBQW1CLENBQUMsU0FBUztRQUNoR2EsS0FBS0E7UUFDTDBCLGtCQUFrQjtJQUNwQixHQUFHbEM7QUFDTDtBQUVpQiIsInNvdXJjZXMiOlsiL1VzZXJzL25ha2FtdXJhL2dpdC8zZC9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvY29yZS9GbG9hdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VGcmFtZSB9IGZyb20gJ0ByZWFjdC10aHJlZS9maWJlcic7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbmNvbnN0IEZsb2F0ID0gLyogQF9fUFVSRV9fICovUmVhY3QuZm9yd2FyZFJlZigoe1xuICBjaGlsZHJlbixcbiAgZW5hYmxlZCA9IHRydWUsXG4gIHNwZWVkID0gMSxcbiAgcm90YXRpb25JbnRlbnNpdHkgPSAxLFxuICBmbG9hdEludGVuc2l0eSA9IDEsXG4gIGZsb2F0aW5nUmFuZ2UgPSBbLTAuMSwgMC4xXSxcbiAgYXV0b0ludmFsaWRhdGUgPSBmYWxzZSxcbiAgLi4ucHJvcHNcbn0sIGZvcndhcmRSZWYpID0+IHtcbiAgY29uc3QgcmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKGZvcndhcmRSZWYsICgpID0+IHJlZi5jdXJyZW50LCBbXSk7XG4gIGNvbnN0IG9mZnNldCA9IFJlYWN0LnVzZVJlZihNYXRoLnJhbmRvbSgpICogMTAwMDApO1xuICB1c2VGcmFtZShzdGF0ZSA9PiB7XG4gICAgdmFyIF9mbG9hdGluZ1JhbmdlJCwgX2Zsb2F0aW5nUmFuZ2UkMjtcbiAgICBpZiAoIWVuYWJsZWQgfHwgc3BlZWQgPT09IDApIHJldHVybjtcbiAgICBpZiAoYXV0b0ludmFsaWRhdGUpIHN0YXRlLmludmFsaWRhdGUoKTtcbiAgICBjb25zdCB0ID0gb2Zmc2V0LmN1cnJlbnQgKyBzdGF0ZS5jbG9jay5lbGFwc2VkVGltZTtcbiAgICByZWYuY3VycmVudC5yb3RhdGlvbi54ID0gTWF0aC5jb3ModCAvIDQgKiBzcGVlZCkgLyA4ICogcm90YXRpb25JbnRlbnNpdHk7XG4gICAgcmVmLmN1cnJlbnQucm90YXRpb24ueSA9IE1hdGguc2luKHQgLyA0ICogc3BlZWQpIC8gOCAqIHJvdGF0aW9uSW50ZW5zaXR5O1xuICAgIHJlZi5jdXJyZW50LnJvdGF0aW9uLnogPSBNYXRoLnNpbih0IC8gNCAqIHNwZWVkKSAvIDIwICogcm90YXRpb25JbnRlbnNpdHk7XG4gICAgbGV0IHlQb3NpdGlvbiA9IE1hdGguc2luKHQgLyA0ICogc3BlZWQpIC8gMTA7XG4gICAgeVBvc2l0aW9uID0gVEhSRUUuTWF0aFV0aWxzLm1hcExpbmVhcih5UG9zaXRpb24sIC0wLjEsIDAuMSwgKF9mbG9hdGluZ1JhbmdlJCA9IGZsb2F0aW5nUmFuZ2UgPT0gbnVsbCA/IHZvaWQgMCA6IGZsb2F0aW5nUmFuZ2VbMF0pICE9PSBudWxsICYmIF9mbG9hdGluZ1JhbmdlJCAhPT0gdm9pZCAwID8gX2Zsb2F0aW5nUmFuZ2UkIDogLTAuMSwgKF9mbG9hdGluZ1JhbmdlJDIgPSBmbG9hdGluZ1JhbmdlID09IG51bGwgPyB2b2lkIDAgOiBmbG9hdGluZ1JhbmdlWzFdKSAhPT0gbnVsbCAmJiBfZmxvYXRpbmdSYW5nZSQyICE9PSB2b2lkIDAgPyBfZmxvYXRpbmdSYW5nZSQyIDogMC4xKTtcbiAgICByZWYuY3VycmVudC5wb3NpdGlvbi55ID0geVBvc2l0aW9uICogZmxvYXRJbnRlbnNpdHk7XG4gICAgcmVmLmN1cnJlbnQudXBkYXRlTWF0cml4KCk7XG4gIH0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLCBwcm9wcywgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJncm91cFwiLCB7XG4gICAgcmVmOiByZWYsXG4gICAgbWF0cml4QXV0b1VwZGF0ZTogZmFsc2VcbiAgfSwgY2hpbGRyZW4pKTtcbn0pO1xuXG5leHBvcnQgeyBGbG9hdCB9O1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRnJhbWUiLCJUSFJFRSIsIkZsb2F0IiwiZm9yd2FyZFJlZiIsImNoaWxkcmVuIiwiZW5hYmxlZCIsInNwZWVkIiwicm90YXRpb25JbnRlbnNpdHkiLCJmbG9hdEludGVuc2l0eSIsImZsb2F0aW5nUmFuZ2UiLCJhdXRvSW52YWxpZGF0ZSIsInByb3BzIiwicmVmIiwidXNlUmVmIiwidXNlSW1wZXJhdGl2ZUhhbmRsZSIsImN1cnJlbnQiLCJvZmZzZXQiLCJNYXRoIiwicmFuZG9tIiwic3RhdGUiLCJfZmxvYXRpbmdSYW5nZSQiLCJfZmxvYXRpbmdSYW5nZSQyIiwiaW52YWxpZGF0ZSIsInQiLCJjbG9jayIsImVsYXBzZWRUaW1lIiwicm90YXRpb24iLCJ4IiwiY29zIiwieSIsInNpbiIsInoiLCJ5UG9zaXRpb24iLCJNYXRoVXRpbHMiLCJtYXBMaW5lYXIiLCJwb3NpdGlvbiIsInVwZGF0ZU1hdHJpeCIsImNyZWF0ZUVsZW1lbnQiLCJtYXRyaXhBdXRvVXBkYXRlIl0sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/core/Float.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/core/Grid.js":
/*!*****************************************************!*\
  !*** ./node_modules/@react-three/drei/core/Grid.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Grid: () => (/* binding */ Grid)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"(ssr)/./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.core.js\");\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @react-three/fiber */ \"(ssr)/./node_modules/@react-three/fiber/dist/events-e3cb66e2.esm.js\");\n/* harmony import */ var _shaderMaterial_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shaderMaterial.js */ \"(ssr)/./node_modules/@react-three/drei/core/shaderMaterial.js\");\n/* harmony import */ var _helpers_constants_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers/constants.js */ \"(ssr)/./node_modules/@react-three/drei/helpers/constants.js\");\n\n\n\n\n\n\nconst GridMaterial = /* @__PURE__ */ (0,_shaderMaterial_js__WEBPACK_IMPORTED_MODULE_2__.shaderMaterial)({\n    cellSize: 0.5,\n    sectionSize: 1,\n    fadeDistance: 100,\n    fadeStrength: 1,\n    fadeFrom: 1,\n    cellThickness: 0.5,\n    sectionThickness: 1,\n    cellColor: /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_3__.Color(),\n    sectionColor: /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_3__.Color(),\n    infiniteGrid: false,\n    followCamera: false,\n    worldCamProjPosition: /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(),\n    worldPlanePosition: /* @__PURE__ */ new three__WEBPACK_IMPORTED_MODULE_3__.Vector3()\n}, /* glsl */ `\n    varying vec3 localPosition;\n    varying vec4 worldPosition;\n\n    uniform vec3 worldCamProjPosition;\n    uniform vec3 worldPlanePosition;\n    uniform float fadeDistance;\n    uniform bool infiniteGrid;\n    uniform bool followCamera;\n\n    void main() {\n      localPosition = position.xzy;\n      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;\n      \n      worldPosition = modelMatrix * vec4(localPosition, 1.0);\n      if (followCamera) {\n        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);\n        localPosition = (inverse(modelMatrix) * worldPosition).xyz;\n      }\n\n      gl_Position = projectionMatrix * viewMatrix * worldPosition;\n    }\n  `, /* glsl */ `\n    varying vec3 localPosition;\n    varying vec4 worldPosition;\n\n    uniform vec3 worldCamProjPosition;\n    uniform float cellSize;\n    uniform float sectionSize;\n    uniform vec3 cellColor;\n    uniform vec3 sectionColor;\n    uniform float fadeDistance;\n    uniform float fadeStrength;\n    uniform float fadeFrom;\n    uniform float cellThickness;\n    uniform float sectionThickness;\n\n    float getGrid(float size, float thickness) {\n      vec2 r = localPosition.xz / size;\n      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);\n      float line = min(grid.x, grid.y) + 1.0 - thickness;\n      return 1.0 - min(line, 1.0);\n    }\n\n    void main() {\n      float g1 = getGrid(cellSize, cellThickness);\n      float g2 = getGrid(sectionSize, sectionThickness);\n\n      vec3 from = worldCamProjPosition*vec3(fadeFrom);\n      float dist = distance(from, worldPosition.xyz);\n      float d = 1.0 - min(dist / fadeDistance, 1.0);\n      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));\n\n      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));\n      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);\n      if (gl_FragColor.a <= 0.0) discard;\n\n      #include <tonemapping_fragment>\n      #include <${_helpers_constants_js__WEBPACK_IMPORTED_MODULE_4__.version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n    }\n  `);\nconst Grid = /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ args, cellColor = '#000000', sectionColor = '#2080ff', cellSize = 0.5, sectionSize = 1, followCamera = false, infiniteGrid = false, fadeDistance = 100, fadeStrength = 1, fadeFrom = 1, cellThickness = 0.5, sectionThickness = 1, side = three__WEBPACK_IMPORTED_MODULE_3__.BackSide, ...props }, fRef)=>{\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_5__.e)({\n        GridMaterial\n    });\n    const ref = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle(fRef, {\n        \"Grid.useImperativeHandle\": ()=>ref.current\n    }[\"Grid.useImperativeHandle\"], []);\n    const plane = new three__WEBPACK_IMPORTED_MODULE_3__.Plane();\n    const upVector = new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 1, 0);\n    const zeroVector = new three__WEBPACK_IMPORTED_MODULE_3__.Vector3(0, 0, 0);\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_5__.D)({\n        \"Grid.useFrame\": (state)=>{\n            plane.setFromNormalAndCoplanarPoint(upVector, zeroVector).applyMatrix4(ref.current.matrixWorld);\n            const gridMaterial = ref.current.material;\n            const worldCamProjPosition = gridMaterial.uniforms.worldCamProjPosition;\n            const worldPlanePosition = gridMaterial.uniforms.worldPlanePosition;\n            plane.projectPoint(state.camera.position, worldCamProjPosition.value);\n            worldPlanePosition.value.set(0, 0, 0).applyMatrix4(ref.current.matrixWorld);\n        }\n    }[\"Grid.useFrame\"]);\n    const uniforms1 = {\n        cellSize,\n        sectionSize,\n        cellColor,\n        sectionColor,\n        cellThickness,\n        sectionThickness\n    };\n    const uniforms2 = {\n        fadeDistance,\n        fadeStrength,\n        fadeFrom,\n        infiniteGrid,\n        followCamera\n    };\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"mesh\", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        ref: ref,\n        frustumCulled: false\n    }, props), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"gridMaterial\", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        transparent: true,\n        \"extensions-derivatives\": true,\n        side: side\n    }, uniforms1, uniforms2)), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"planeGeometry\", {\n        args: args\n    }));\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvY29yZS9HcmlkLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTBEO0FBQzNCO0FBQ0E7QUFDdUI7QUFDRDtBQUNIO0FBRWxELE1BQU1PLGVBQWUsYUFBYSxHQUFFRixrRUFBY0EsQ0FBQztJQUNqREcsVUFBVTtJQUNWQyxhQUFhO0lBQ2JDLGNBQWM7SUFDZEMsY0FBYztJQUNkQyxVQUFVO0lBQ1ZDLGVBQWU7SUFDZkMsa0JBQWtCO0lBQ2xCQyxXQUFXLGFBQWEsR0FBRSxJQUFJYix3Q0FBVztJQUN6Q2UsY0FBYyxhQUFhLEdBQUUsSUFBSWYsd0NBQVc7SUFDNUNnQixjQUFjO0lBQ2RDLGNBQWM7SUFDZEMsc0JBQXNCLGFBQWEsR0FBRSxJQUFJbEIsMENBQWE7SUFDdERvQixvQkFBb0IsYUFBYSxHQUFFLElBQUlwQiwwQ0FBYTtBQUN0RCxHQUFHLFFBQVEsR0FBRSxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBc0JaLENBQUMsRUFBRSxRQUFRLEdBQUUsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2dCQW9DQSxFQUFFSSwwREFBT0EsSUFBSSxNQUFNLHdCQUF3QixxQkFBcUI7O0VBRTlFLENBQUM7QUFDSCxNQUFNaUIsT0FBTyxhQUFhLGlCQUFFdEIsNkNBQWdCLENBQUMsQ0FBQyxFQUM1Q3dCLElBQUksRUFDSlYsWUFBWSxTQUFTLEVBQ3JCRSxlQUFlLFNBQVMsRUFDeEJULFdBQVcsR0FBRyxFQUNkQyxjQUFjLENBQUMsRUFDZlUsZUFBZSxLQUFLLEVBQ3BCRCxlQUFlLEtBQUssRUFDcEJSLGVBQWUsR0FBRyxFQUNsQkMsZUFBZSxDQUFDLEVBQ2hCQyxXQUFXLENBQUMsRUFDWkMsZ0JBQWdCLEdBQUcsRUFDbkJDLG1CQUFtQixDQUFDLEVBQ3BCWSxPQUFPeEIsMkNBQWMsRUFDckIsR0FBRzBCLE9BQ0osRUFBRUM7SUFDRDFCLHFEQUFNQSxDQUFDO1FBQ0xJO0lBQ0Y7SUFDQSxNQUFNdUIsTUFBTTdCLHlDQUFZLENBQUM7SUFDekJBLHNEQUF5QixDQUFDNEI7b0NBQU0sSUFBTUMsSUFBSUcsT0FBTzttQ0FBRSxFQUFFO0lBQ3JELE1BQU1DLFFBQVEsSUFBSWhDLHdDQUFXO0lBQzdCLE1BQU1rQyxXQUFXLElBQUlsQywwQ0FBYSxDQUFDLEdBQUcsR0FBRztJQUN6QyxNQUFNbUMsYUFBYSxJQUFJbkMsMENBQWEsQ0FBQyxHQUFHLEdBQUc7SUFDM0NFLHFEQUFRQTt5QkFBQ2tDLENBQUFBO1lBQ1BKLE1BQU1LLDZCQUE2QixDQUFDSCxVQUFVQyxZQUFZRyxZQUFZLENBQUNWLElBQUlHLE9BQU8sQ0FBQ1EsV0FBVztZQUM5RixNQUFNQyxlQUFlWixJQUFJRyxPQUFPLENBQUNVLFFBQVE7WUFDekMsTUFBTXZCLHVCQUF1QnNCLGFBQWFFLFFBQVEsQ0FBQ3hCLG9CQUFvQjtZQUN2RSxNQUFNRSxxQkFBcUJvQixhQUFhRSxRQUFRLENBQUN0QixrQkFBa0I7WUFDbkVZLE1BQU1XLFlBQVksQ0FBQ1AsTUFBTVEsTUFBTSxDQUFDQyxRQUFRLEVBQUUzQixxQkFBcUI0QixLQUFLO1lBQ3BFMUIsbUJBQW1CMEIsS0FBSyxDQUFDQyxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUdULFlBQVksQ0FBQ1YsSUFBSUcsT0FBTyxDQUFDUSxXQUFXO1FBQzVFOztJQUNBLE1BQU1TLFlBQVk7UUFDaEIxQztRQUNBQztRQUNBTTtRQUNBRTtRQUNBSjtRQUNBQztJQUNGO0lBQ0EsTUFBTXFDLFlBQVk7UUFDaEJ6QztRQUNBQztRQUNBQztRQUNBTTtRQUNBQztJQUNGO0lBQ0EsT0FBTyxXQUFXLEdBQUVsQixnREFBbUIsQ0FBQyxRQUFRRCw4RUFBUUEsQ0FBQztRQUN2RDhCLEtBQUtBO1FBQ0x1QixlQUFlO0lBQ2pCLEdBQUd6QixRQUFRLFdBQVcsR0FBRTNCLGdEQUFtQixDQUFDLGdCQUFnQkQsOEVBQVFBLENBQUM7UUFDbkVzRCxhQUFhO1FBQ2IsMEJBQTBCO1FBQzFCNUIsTUFBTUE7SUFDUixHQUFHd0IsV0FBV0MsYUFBYSxXQUFXLEdBQUVsRCxnREFBbUIsQ0FBQyxpQkFBaUI7UUFDM0V3QixNQUFNQTtJQUNSO0FBQ0Y7QUFFZ0IiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uYWthbXVyYS9naXQvM2Qvbm9kZV9tb2R1bGVzL0ByZWFjdC10aHJlZS9kcmVpL2NvcmUvR3JpZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBleHRlbmQsIHVzZUZyYW1lIH0gZnJvbSAnQHJlYWN0LXRocmVlL2ZpYmVyJztcbmltcG9ydCB7IHNoYWRlck1hdGVyaWFsIH0gZnJvbSAnLi9zaGFkZXJNYXRlcmlhbC5qcyc7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSAnLi4vaGVscGVycy9jb25zdGFudHMuanMnO1xuXG5jb25zdCBHcmlkTWF0ZXJpYWwgPSAvKiBAX19QVVJFX18gKi9zaGFkZXJNYXRlcmlhbCh7XG4gIGNlbGxTaXplOiAwLjUsXG4gIHNlY3Rpb25TaXplOiAxLFxuICBmYWRlRGlzdGFuY2U6IDEwMCxcbiAgZmFkZVN0cmVuZ3RoOiAxLFxuICBmYWRlRnJvbTogMSxcbiAgY2VsbFRoaWNrbmVzczogMC41LFxuICBzZWN0aW9uVGhpY2tuZXNzOiAxLFxuICBjZWxsQ29sb3I6IC8qIEBfX1BVUkVfXyAqL25ldyBUSFJFRS5Db2xvcigpLFxuICBzZWN0aW9uQ29sb3I6IC8qIEBfX1BVUkVfXyAqL25ldyBUSFJFRS5Db2xvcigpLFxuICBpbmZpbml0ZUdyaWQ6IGZhbHNlLFxuICBmb2xsb3dDYW1lcmE6IGZhbHNlLFxuICB3b3JsZENhbVByb2pQb3NpdGlvbjogLyogQF9fUFVSRV9fICovbmV3IFRIUkVFLlZlY3RvcjMoKSxcbiAgd29ybGRQbGFuZVBvc2l0aW9uOiAvKiBAX19QVVJFX18gKi9uZXcgVEhSRUUuVmVjdG9yMygpXG59LCAvKiBnbHNsICovYFxuICAgIHZhcnlpbmcgdmVjMyBsb2NhbFBvc2l0aW9uO1xuICAgIHZhcnlpbmcgdmVjNCB3b3JsZFBvc2l0aW9uO1xuXG4gICAgdW5pZm9ybSB2ZWMzIHdvcmxkQ2FtUHJvalBvc2l0aW9uO1xuICAgIHVuaWZvcm0gdmVjMyB3b3JsZFBsYW5lUG9zaXRpb247XG4gICAgdW5pZm9ybSBmbG9hdCBmYWRlRGlzdGFuY2U7XG4gICAgdW5pZm9ybSBib29sIGluZmluaXRlR3JpZDtcbiAgICB1bmlmb3JtIGJvb2wgZm9sbG93Q2FtZXJhO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgbG9jYWxQb3NpdGlvbiA9IHBvc2l0aW9uLnh6eTtcbiAgICAgIGlmIChpbmZpbml0ZUdyaWQpIGxvY2FsUG9zaXRpb24gKj0gMS4wICsgZmFkZURpc3RhbmNlO1xuICAgICAgXG4gICAgICB3b3JsZFBvc2l0aW9uID0gbW9kZWxNYXRyaXggKiB2ZWM0KGxvY2FsUG9zaXRpb24sIDEuMCk7XG4gICAgICBpZiAoZm9sbG93Q2FtZXJhKSB7XG4gICAgICAgIHdvcmxkUG9zaXRpb24ueHl6ICs9ICh3b3JsZENhbVByb2pQb3NpdGlvbiAtIHdvcmxkUGxhbmVQb3NpdGlvbik7XG4gICAgICAgIGxvY2FsUG9zaXRpb24gPSAoaW52ZXJzZShtb2RlbE1hdHJpeCkgKiB3b3JsZFBvc2l0aW9uKS54eXo7XG4gICAgICB9XG5cbiAgICAgIGdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIHZpZXdNYXRyaXggKiB3b3JsZFBvc2l0aW9uO1xuICAgIH1cbiAgYCwgLyogZ2xzbCAqL2BcbiAgICB2YXJ5aW5nIHZlYzMgbG9jYWxQb3NpdGlvbjtcbiAgICB2YXJ5aW5nIHZlYzQgd29ybGRQb3NpdGlvbjtcblxuICAgIHVuaWZvcm0gdmVjMyB3b3JsZENhbVByb2pQb3NpdGlvbjtcbiAgICB1bmlmb3JtIGZsb2F0IGNlbGxTaXplO1xuICAgIHVuaWZvcm0gZmxvYXQgc2VjdGlvblNpemU7XG4gICAgdW5pZm9ybSB2ZWMzIGNlbGxDb2xvcjtcbiAgICB1bmlmb3JtIHZlYzMgc2VjdGlvbkNvbG9yO1xuICAgIHVuaWZvcm0gZmxvYXQgZmFkZURpc3RhbmNlO1xuICAgIHVuaWZvcm0gZmxvYXQgZmFkZVN0cmVuZ3RoO1xuICAgIHVuaWZvcm0gZmxvYXQgZmFkZUZyb207XG4gICAgdW5pZm9ybSBmbG9hdCBjZWxsVGhpY2tuZXNzO1xuICAgIHVuaWZvcm0gZmxvYXQgc2VjdGlvblRoaWNrbmVzcztcblxuICAgIGZsb2F0IGdldEdyaWQoZmxvYXQgc2l6ZSwgZmxvYXQgdGhpY2tuZXNzKSB7XG4gICAgICB2ZWMyIHIgPSBsb2NhbFBvc2l0aW9uLnh6IC8gc2l6ZTtcbiAgICAgIHZlYzIgZ3JpZCA9IGFicyhmcmFjdChyIC0gMC41KSAtIDAuNSkgLyBmd2lkdGgocik7XG4gICAgICBmbG9hdCBsaW5lID0gbWluKGdyaWQueCwgZ3JpZC55KSArIDEuMCAtIHRoaWNrbmVzcztcbiAgICAgIHJldHVybiAxLjAgLSBtaW4obGluZSwgMS4wKTtcbiAgICB9XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICBmbG9hdCBnMSA9IGdldEdyaWQoY2VsbFNpemUsIGNlbGxUaGlja25lc3MpO1xuICAgICAgZmxvYXQgZzIgPSBnZXRHcmlkKHNlY3Rpb25TaXplLCBzZWN0aW9uVGhpY2tuZXNzKTtcblxuICAgICAgdmVjMyBmcm9tID0gd29ybGRDYW1Qcm9qUG9zaXRpb24qdmVjMyhmYWRlRnJvbSk7XG4gICAgICBmbG9hdCBkaXN0ID0gZGlzdGFuY2UoZnJvbSwgd29ybGRQb3NpdGlvbi54eXopO1xuICAgICAgZmxvYXQgZCA9IDEuMCAtIG1pbihkaXN0IC8gZmFkZURpc3RhbmNlLCAxLjApO1xuICAgICAgdmVjMyBjb2xvciA9IG1peChjZWxsQ29sb3IsIHNlY3Rpb25Db2xvciwgbWluKDEuMCwgc2VjdGlvblRoaWNrbmVzcyAqIGcyKSk7XG5cbiAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQoY29sb3IsIChnMSArIGcyKSAqIHBvdyhkLCBmYWRlU3RyZW5ndGgpKTtcbiAgICAgIGdsX0ZyYWdDb2xvci5hID0gbWl4KDAuNzUgKiBnbF9GcmFnQ29sb3IuYSwgZ2xfRnJhZ0NvbG9yLmEsIGcyKTtcbiAgICAgIGlmIChnbF9GcmFnQ29sb3IuYSA8PSAwLjApIGRpc2NhcmQ7XG5cbiAgICAgICNpbmNsdWRlIDx0b25lbWFwcGluZ19mcmFnbWVudD5cbiAgICAgICNpbmNsdWRlIDwke3ZlcnNpb24gPj0gMTU0ID8gJ2NvbG9yc3BhY2VfZnJhZ21lbnQnIDogJ2VuY29kaW5nc19mcmFnbWVudCd9PlxuICAgIH1cbiAgYCk7XG5jb25zdCBHcmlkID0gLyogQF9fUFVSRV9fICovUmVhY3QuZm9yd2FyZFJlZigoe1xuICBhcmdzLFxuICBjZWxsQ29sb3IgPSAnIzAwMDAwMCcsXG4gIHNlY3Rpb25Db2xvciA9ICcjMjA4MGZmJyxcbiAgY2VsbFNpemUgPSAwLjUsXG4gIHNlY3Rpb25TaXplID0gMSxcbiAgZm9sbG93Q2FtZXJhID0gZmFsc2UsXG4gIGluZmluaXRlR3JpZCA9IGZhbHNlLFxuICBmYWRlRGlzdGFuY2UgPSAxMDAsXG4gIGZhZGVTdHJlbmd0aCA9IDEsXG4gIGZhZGVGcm9tID0gMSxcbiAgY2VsbFRoaWNrbmVzcyA9IDAuNSxcbiAgc2VjdGlvblRoaWNrbmVzcyA9IDEsXG4gIHNpZGUgPSBUSFJFRS5CYWNrU2lkZSxcbiAgLi4ucHJvcHNcbn0sIGZSZWYpID0+IHtcbiAgZXh0ZW5kKHtcbiAgICBHcmlkTWF0ZXJpYWxcbiAgfSk7XG4gIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShmUmVmLCAoKSA9PiByZWYuY3VycmVudCwgW10pO1xuICBjb25zdCBwbGFuZSA9IG5ldyBUSFJFRS5QbGFuZSgpO1xuICBjb25zdCB1cFZlY3RvciA9IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDEsIDApO1xuICBjb25zdCB6ZXJvVmVjdG9yID0gbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgMCk7XG4gIHVzZUZyYW1lKHN0YXRlID0+IHtcbiAgICBwbGFuZS5zZXRGcm9tTm9ybWFsQW5kQ29wbGFuYXJQb2ludCh1cFZlY3RvciwgemVyb1ZlY3RvcikuYXBwbHlNYXRyaXg0KHJlZi5jdXJyZW50Lm1hdHJpeFdvcmxkKTtcbiAgICBjb25zdCBncmlkTWF0ZXJpYWwgPSByZWYuY3VycmVudC5tYXRlcmlhbDtcbiAgICBjb25zdCB3b3JsZENhbVByb2pQb3NpdGlvbiA9IGdyaWRNYXRlcmlhbC51bmlmb3Jtcy53b3JsZENhbVByb2pQb3NpdGlvbjtcbiAgICBjb25zdCB3b3JsZFBsYW5lUG9zaXRpb24gPSBncmlkTWF0ZXJpYWwudW5pZm9ybXMud29ybGRQbGFuZVBvc2l0aW9uO1xuICAgIHBsYW5lLnByb2plY3RQb2ludChzdGF0ZS5jYW1lcmEucG9zaXRpb24sIHdvcmxkQ2FtUHJvalBvc2l0aW9uLnZhbHVlKTtcbiAgICB3b3JsZFBsYW5lUG9zaXRpb24udmFsdWUuc2V0KDAsIDAsIDApLmFwcGx5TWF0cml4NChyZWYuY3VycmVudC5tYXRyaXhXb3JsZCk7XG4gIH0pO1xuICBjb25zdCB1bmlmb3JtczEgPSB7XG4gICAgY2VsbFNpemUsXG4gICAgc2VjdGlvblNpemUsXG4gICAgY2VsbENvbG9yLFxuICAgIHNlY3Rpb25Db2xvcixcbiAgICBjZWxsVGhpY2tuZXNzLFxuICAgIHNlY3Rpb25UaGlja25lc3NcbiAgfTtcbiAgY29uc3QgdW5pZm9ybXMyID0ge1xuICAgIGZhZGVEaXN0YW5jZSxcbiAgICBmYWRlU3RyZW5ndGgsXG4gICAgZmFkZUZyb20sXG4gICAgaW5maW5pdGVHcmlkLFxuICAgIGZvbGxvd0NhbWVyYVxuICB9O1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJtZXNoXCIsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZixcbiAgICBmcnVzdHVtQ3VsbGVkOiBmYWxzZVxuICB9LCBwcm9wcyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZ3JpZE1hdGVyaWFsXCIsIF9leHRlbmRzKHtcbiAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICBcImV4dGVuc2lvbnMtZGVyaXZhdGl2ZXNcIjogdHJ1ZSxcbiAgICBzaWRlOiBzaWRlXG4gIH0sIHVuaWZvcm1zMSwgdW5pZm9ybXMyKSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGxhbmVHZW9tZXRyeVwiLCB7XG4gICAgYXJnczogYXJnc1xuICB9KSk7XG59KTtcblxuZXhwb3J0IHsgR3JpZCB9O1xuIl0sIm5hbWVzIjpbIl9leHRlbmRzIiwiUmVhY3QiLCJUSFJFRSIsImV4dGVuZCIsInVzZUZyYW1lIiwic2hhZGVyTWF0ZXJpYWwiLCJ2ZXJzaW9uIiwiR3JpZE1hdGVyaWFsIiwiY2VsbFNpemUiLCJzZWN0aW9uU2l6ZSIsImZhZGVEaXN0YW5jZSIsImZhZGVTdHJlbmd0aCIsImZhZGVGcm9tIiwiY2VsbFRoaWNrbmVzcyIsInNlY3Rpb25UaGlja25lc3MiLCJjZWxsQ29sb3IiLCJDb2xvciIsInNlY3Rpb25Db2xvciIsImluZmluaXRlR3JpZCIsImZvbGxvd0NhbWVyYSIsIndvcmxkQ2FtUHJvalBvc2l0aW9uIiwiVmVjdG9yMyIsIndvcmxkUGxhbmVQb3NpdGlvbiIsIkdyaWQiLCJmb3J3YXJkUmVmIiwiYXJncyIsInNpZGUiLCJCYWNrU2lkZSIsInByb3BzIiwiZlJlZiIsInJlZiIsInVzZVJlZiIsInVzZUltcGVyYXRpdmVIYW5kbGUiLCJjdXJyZW50IiwicGxhbmUiLCJQbGFuZSIsInVwVmVjdG9yIiwiemVyb1ZlY3RvciIsInN0YXRlIiwic2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQiLCJhcHBseU1hdHJpeDQiLCJtYXRyaXhXb3JsZCIsImdyaWRNYXRlcmlhbCIsIm1hdGVyaWFsIiwidW5pZm9ybXMiLCJwcm9qZWN0UG9pbnQiLCJjYW1lcmEiLCJwb3NpdGlvbiIsInZhbHVlIiwic2V0IiwidW5pZm9ybXMxIiwidW5pZm9ybXMyIiwiY3JlYXRlRWxlbWVudCIsImZydXN0dW1DdWxsZWQiLCJ0cmFuc3BhcmVudCJdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/core/Grid.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/core/OrbitControls.js":
/*!**************************************************************!*\
  !*** ./node_modules/@react-three/drei/core/OrbitControls.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OrbitControls: () => (/* binding */ OrbitControls)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"(ssr)/./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-three/fiber */ \"(ssr)/./node_modules/@react-three/fiber/dist/events-e3cb66e2.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var three_stdlib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three-stdlib */ \"(ssr)/./node_modules/three-stdlib/controls/OrbitControls.js\");\n\n\n\n\nconst OrbitControls = /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ makeDefault, camera, regress, domElement, enableDamping = true, keyEvents = false, onChange, onStart, onEnd, ...restProps }, ref)=>{\n    const invalidate = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.C)({\n        \"OrbitControls.useThree[invalidate]\": (state)=>state.invalidate\n    }[\"OrbitControls.useThree[invalidate]\"]);\n    const defaultCamera = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.C)({\n        \"OrbitControls.useThree[defaultCamera]\": (state)=>state.camera\n    }[\"OrbitControls.useThree[defaultCamera]\"]);\n    const gl = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.C)({\n        \"OrbitControls.useThree[gl]\": (state)=>state.gl\n    }[\"OrbitControls.useThree[gl]\"]);\n    const events = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.C)({\n        \"OrbitControls.useThree[events]\": (state)=>state.events\n    }[\"OrbitControls.useThree[events]\"]);\n    const setEvents = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.C)({\n        \"OrbitControls.useThree[setEvents]\": (state)=>state.setEvents\n    }[\"OrbitControls.useThree[setEvents]\"]);\n    const set = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.C)({\n        \"OrbitControls.useThree[set]\": (state)=>state.set\n    }[\"OrbitControls.useThree[set]\"]);\n    const get = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.C)({\n        \"OrbitControls.useThree[get]\": (state)=>state.get\n    }[\"OrbitControls.useThree[get]\"]);\n    const performance = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.C)({\n        \"OrbitControls.useThree[performance]\": (state)=>state.performance\n    }[\"OrbitControls.useThree[performance]\"]);\n    const explCamera = camera || defaultCamera;\n    const explDomElement = domElement || events.connected || gl.domElement;\n    const controls = react__WEBPACK_IMPORTED_MODULE_1__.useMemo({\n        \"OrbitControls.useMemo[controls]\": ()=>new three_stdlib__WEBPACK_IMPORTED_MODULE_3__.OrbitControls(explCamera)\n    }[\"OrbitControls.useMemo[controls]\"], [\n        explCamera\n    ]);\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.D)({\n        \"OrbitControls.useFrame\": ()=>{\n            if (controls.enabled) controls.update();\n        }\n    }[\"OrbitControls.useFrame\"], -1);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"OrbitControls.useEffect\": ()=>{\n            if (keyEvents) {\n                controls.connect(keyEvents === true ? explDomElement : keyEvents);\n            }\n            controls.connect(explDomElement);\n            return ({\n                \"OrbitControls.useEffect\": ()=>void controls.dispose()\n            })[\"OrbitControls.useEffect\"];\n        }\n    }[\"OrbitControls.useEffect\"], [\n        keyEvents,\n        explDomElement,\n        regress,\n        controls,\n        invalidate\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"OrbitControls.useEffect\": ()=>{\n            const callback = {\n                \"OrbitControls.useEffect.callback\": (e)=>{\n                    invalidate();\n                    if (regress) performance.regress();\n                    if (onChange) onChange(e);\n                }\n            }[\"OrbitControls.useEffect.callback\"];\n            const onStartCb = {\n                \"OrbitControls.useEffect.onStartCb\": (e)=>{\n                    if (onStart) onStart(e);\n                }\n            }[\"OrbitControls.useEffect.onStartCb\"];\n            const onEndCb = {\n                \"OrbitControls.useEffect.onEndCb\": (e)=>{\n                    if (onEnd) onEnd(e);\n                }\n            }[\"OrbitControls.useEffect.onEndCb\"];\n            controls.addEventListener('change', callback);\n            controls.addEventListener('start', onStartCb);\n            controls.addEventListener('end', onEndCb);\n            return ({\n                \"OrbitControls.useEffect\": ()=>{\n                    controls.removeEventListener('start', onStartCb);\n                    controls.removeEventListener('end', onEndCb);\n                    controls.removeEventListener('change', callback);\n                }\n            })[\"OrbitControls.useEffect\"];\n        }\n    }[\"OrbitControls.useEffect\"], [\n        onChange,\n        onStart,\n        onEnd,\n        controls,\n        invalidate,\n        setEvents\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"OrbitControls.useEffect\": ()=>{\n            if (makeDefault) {\n                const old = get().controls;\n                // @ts-ignore https://github.com/three-types/three-ts-types/pull/1398\n                set({\n                    controls\n                });\n                return ({\n                    \"OrbitControls.useEffect\": ()=>set({\n                            controls: old\n                        })\n                })[\"OrbitControls.useEffect\"];\n            }\n        }\n    }[\"OrbitControls.useEffect\"], [\n        makeDefault,\n        controls\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"primitive\", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        ref: ref,\n        object: controls,\n        enableDamping: enableDamping\n    }, restProps));\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvY29yZS9PcmJpdENvbnRyb2xzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEwRDtBQUNGO0FBQ3pCO0FBQ2lDO0FBRWhFLE1BQU1JLGdCQUFnQixhQUFhLGlCQUFFRCw2Q0FBZ0IsQ0FBQyxDQUFDLEVBQ3JESSxXQUFXLEVBQ1hDLE1BQU0sRUFDTkMsT0FBTyxFQUNQQyxVQUFVLEVBQ1ZDLGdCQUFnQixJQUFJLEVBQ3BCQyxZQUFZLEtBQUssRUFDakJDLFFBQVEsRUFDUkMsT0FBTyxFQUNQQyxLQUFLLEVBQ0wsR0FBR0MsV0FDSixFQUFFQztJQUNELE1BQU1DLGFBQWFqQixxREFBUUE7OENBQUNrQixDQUFBQSxRQUFTQSxNQUFNRCxVQUFVOztJQUNyRCxNQUFNRSxnQkFBZ0JuQixxREFBUUE7aURBQUNrQixDQUFBQSxRQUFTQSxNQUFNWCxNQUFNOztJQUNwRCxNQUFNYSxLQUFLcEIscURBQVFBO3NDQUFDa0IsQ0FBQUEsUUFBU0EsTUFBTUUsRUFBRTs7SUFDckMsTUFBTUMsU0FBU3JCLHFEQUFRQTswQ0FBQ2tCLENBQUFBLFFBQVNBLE1BQU1HLE1BQU07O0lBQzdDLE1BQU1DLFlBQVl0QixxREFBUUE7NkNBQUNrQixDQUFBQSxRQUFTQSxNQUFNSSxTQUFTOztJQUNuRCxNQUFNQyxNQUFNdkIscURBQVFBO3VDQUFDa0IsQ0FBQUEsUUFBU0EsTUFBTUssR0FBRzs7SUFDdkMsTUFBTUMsTUFBTXhCLHFEQUFRQTt1Q0FBQ2tCLENBQUFBLFFBQVNBLE1BQU1NLEdBQUc7O0lBQ3ZDLE1BQU1DLGNBQWN6QixxREFBUUE7K0NBQUNrQixDQUFBQSxRQUFTQSxNQUFNTyxXQUFXOztJQUN2RCxNQUFNQyxhQUFhbkIsVUFBVVk7SUFDN0IsTUFBTVEsaUJBQWlCbEIsY0FBY1ksT0FBT08sU0FBUyxJQUFJUixHQUFHWCxVQUFVO0lBQ3RFLE1BQU1vQixXQUFXM0IsMENBQWE7MkNBQUMsSUFBTSxJQUFJRSx1REFBZUEsQ0FBQ3NCOzBDQUFhO1FBQUNBO0tBQVc7SUFDbEZ6QixxREFBUUE7a0NBQUM7WUFDUCxJQUFJNEIsU0FBU0UsT0FBTyxFQUFFRixTQUFTRyxNQUFNO1FBQ3ZDO2lDQUFHLENBQUM7SUFDSjlCLDRDQUFlO21DQUFDO1lBQ2QsSUFBSVMsV0FBVztnQkFDYmtCLFNBQVNLLE9BQU8sQ0FBQ3ZCLGNBQWMsT0FBT2dCLGlCQUFpQmhCO1lBQ3pEO1lBQ0FrQixTQUFTSyxPQUFPLENBQUNQO1lBQ2pCOzJDQUFPLElBQU0sS0FBS0UsU0FBU00sT0FBTzs7UUFDcEM7a0NBQUc7UUFBQ3hCO1FBQVdnQjtRQUFnQm5CO1FBQVNxQjtRQUFVWjtLQUFXO0lBQzdEZiw0Q0FBZTttQ0FBQztZQUNkLE1BQU1rQztvREFBV0MsQ0FBQUE7b0JBQ2ZwQjtvQkFDQSxJQUFJVCxTQUFTaUIsWUFBWWpCLE9BQU87b0JBQ2hDLElBQUlJLFVBQVVBLFNBQVN5QjtnQkFDekI7O1lBQ0EsTUFBTUM7cURBQVlELENBQUFBO29CQUNoQixJQUFJeEIsU0FBU0EsUUFBUXdCO2dCQUN2Qjs7WUFDQSxNQUFNRTttREFBVUYsQ0FBQUE7b0JBQ2QsSUFBSXZCLE9BQU9BLE1BQU11QjtnQkFDbkI7O1lBQ0FSLFNBQVNXLGdCQUFnQixDQUFDLFVBQVVKO1lBQ3BDUCxTQUFTVyxnQkFBZ0IsQ0FBQyxTQUFTRjtZQUNuQ1QsU0FBU1csZ0JBQWdCLENBQUMsT0FBT0Q7WUFDakM7MkNBQU87b0JBQ0xWLFNBQVNZLG1CQUFtQixDQUFDLFNBQVNIO29CQUN0Q1QsU0FBU1ksbUJBQW1CLENBQUMsT0FBT0Y7b0JBQ3BDVixTQUFTWSxtQkFBbUIsQ0FBQyxVQUFVTDtnQkFDekM7O1FBQ0Y7a0NBQUc7UUFBQ3hCO1FBQVVDO1FBQVNDO1FBQU9lO1FBQVVaO1FBQVlLO0tBQVU7SUFDOURwQiw0Q0FBZTttQ0FBQztZQUNkLElBQUlJLGFBQWE7Z0JBQ2YsTUFBTW9DLE1BQU1sQixNQUFNSyxRQUFRO2dCQUMxQixxRUFBcUU7Z0JBQ3JFTixJQUFJO29CQUNGTTtnQkFDRjtnQkFDQTsrQ0FBTyxJQUFNTixJQUFJOzRCQUNmTSxVQUFVYTt3QkFDWjs7WUFDRjtRQUNGO2tDQUFHO1FBQUNwQztRQUFhdUI7S0FBUztJQUMxQixPQUFPLFdBQVcsR0FBRTNCLGdEQUFtQixDQUFDLGFBQWFILDhFQUFRQSxDQUFDO1FBQzVEaUIsS0FBS0E7UUFDTDRCLFFBQVFmO1FBQ1JuQixlQUFlQTtJQUNqQixHQUFHSztBQUNMO0FBRXlCIiwic291cmNlcyI6WyIvVXNlcnMvbmFrYW11cmEvZ2l0LzNkL25vZGVfbW9kdWxlcy9AcmVhY3QtdGhyZWUvZHJlaS9jb3JlL09yYml0Q29udHJvbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF9leHRlbmRzIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHMnO1xuaW1wb3J0IHsgdXNlVGhyZWUsIHVzZUZyYW1lIH0gZnJvbSAnQHJlYWN0LXRocmVlL2ZpYmVyJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IE9yYml0Q29udHJvbHMgYXMgT3JiaXRDb250cm9scyQxIH0gZnJvbSAndGhyZWUtc3RkbGliJztcblxuY29uc3QgT3JiaXRDb250cm9scyA9IC8qIEBfX1BVUkVfXyAqL1JlYWN0LmZvcndhcmRSZWYoKHtcbiAgbWFrZURlZmF1bHQsXG4gIGNhbWVyYSxcbiAgcmVncmVzcyxcbiAgZG9tRWxlbWVudCxcbiAgZW5hYmxlRGFtcGluZyA9IHRydWUsXG4gIGtleUV2ZW50cyA9IGZhbHNlLFxuICBvbkNoYW5nZSxcbiAgb25TdGFydCxcbiAgb25FbmQsXG4gIC4uLnJlc3RQcm9wc1xufSwgcmVmKSA9PiB7XG4gIGNvbnN0IGludmFsaWRhdGUgPSB1c2VUaHJlZShzdGF0ZSA9PiBzdGF0ZS5pbnZhbGlkYXRlKTtcbiAgY29uc3QgZGVmYXVsdENhbWVyYSA9IHVzZVRocmVlKHN0YXRlID0+IHN0YXRlLmNhbWVyYSk7XG4gIGNvbnN0IGdsID0gdXNlVGhyZWUoc3RhdGUgPT4gc3RhdGUuZ2wpO1xuICBjb25zdCBldmVudHMgPSB1c2VUaHJlZShzdGF0ZSA9PiBzdGF0ZS5ldmVudHMpO1xuICBjb25zdCBzZXRFdmVudHMgPSB1c2VUaHJlZShzdGF0ZSA9PiBzdGF0ZS5zZXRFdmVudHMpO1xuICBjb25zdCBzZXQgPSB1c2VUaHJlZShzdGF0ZSA9PiBzdGF0ZS5zZXQpO1xuICBjb25zdCBnZXQgPSB1c2VUaHJlZShzdGF0ZSA9PiBzdGF0ZS5nZXQpO1xuICBjb25zdCBwZXJmb3JtYW5jZSA9IHVzZVRocmVlKHN0YXRlID0+IHN0YXRlLnBlcmZvcm1hbmNlKTtcbiAgY29uc3QgZXhwbENhbWVyYSA9IGNhbWVyYSB8fCBkZWZhdWx0Q2FtZXJhO1xuICBjb25zdCBleHBsRG9tRWxlbWVudCA9IGRvbUVsZW1lbnQgfHwgZXZlbnRzLmNvbm5lY3RlZCB8fCBnbC5kb21FbGVtZW50O1xuICBjb25zdCBjb250cm9scyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gbmV3IE9yYml0Q29udHJvbHMkMShleHBsQ2FtZXJhKSwgW2V4cGxDYW1lcmFdKTtcbiAgdXNlRnJhbWUoKCkgPT4ge1xuICAgIGlmIChjb250cm9scy5lbmFibGVkKSBjb250cm9scy51cGRhdGUoKTtcbiAgfSwgLTEpO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChrZXlFdmVudHMpIHtcbiAgICAgIGNvbnRyb2xzLmNvbm5lY3Qoa2V5RXZlbnRzID09PSB0cnVlID8gZXhwbERvbUVsZW1lbnQgOiBrZXlFdmVudHMpO1xuICAgIH1cbiAgICBjb250cm9scy5jb25uZWN0KGV4cGxEb21FbGVtZW50KTtcbiAgICByZXR1cm4gKCkgPT4gdm9pZCBjb250cm9scy5kaXNwb3NlKCk7XG4gIH0sIFtrZXlFdmVudHMsIGV4cGxEb21FbGVtZW50LCByZWdyZXNzLCBjb250cm9scywgaW52YWxpZGF0ZV0pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNhbGxiYWNrID0gZSA9PiB7XG4gICAgICBpbnZhbGlkYXRlKCk7XG4gICAgICBpZiAocmVncmVzcykgcGVyZm9ybWFuY2UucmVncmVzcygpO1xuICAgICAgaWYgKG9uQ2hhbmdlKSBvbkNoYW5nZShlKTtcbiAgICB9O1xuICAgIGNvbnN0IG9uU3RhcnRDYiA9IGUgPT4ge1xuICAgICAgaWYgKG9uU3RhcnQpIG9uU3RhcnQoZSk7XG4gICAgfTtcbiAgICBjb25zdCBvbkVuZENiID0gZSA9PiB7XG4gICAgICBpZiAob25FbmQpIG9uRW5kKGUpO1xuICAgIH07XG4gICAgY29udHJvbHMuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgY2FsbGJhY2spO1xuICAgIGNvbnRyb2xzLmFkZEV2ZW50TGlzdGVuZXIoJ3N0YXJ0Jywgb25TdGFydENiKTtcbiAgICBjb250cm9scy5hZGRFdmVudExpc3RlbmVyKCdlbmQnLCBvbkVuZENiKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29udHJvbHMucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3RhcnQnLCBvblN0YXJ0Q2IpO1xuICAgICAgY29udHJvbHMucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kJywgb25FbmRDYik7XG4gICAgICBjb250cm9scy5yZW1vdmVFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgfSwgW29uQ2hhbmdlLCBvblN0YXJ0LCBvbkVuZCwgY29udHJvbHMsIGludmFsaWRhdGUsIHNldEV2ZW50c10pO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtYWtlRGVmYXVsdCkge1xuICAgICAgY29uc3Qgb2xkID0gZ2V0KCkuY29udHJvbHM7XG4gICAgICAvLyBAdHMtaWdub3JlIGh0dHBzOi8vZ2l0aHViLmNvbS90aHJlZS10eXBlcy90aHJlZS10cy10eXBlcy9wdWxsLzEzOThcbiAgICAgIHNldCh7XG4gICAgICAgIGNvbnRyb2xzXG4gICAgICB9KTtcbiAgICAgIHJldHVybiAoKSA9PiBzZXQoe1xuICAgICAgICBjb250cm9sczogb2xkXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFttYWtlRGVmYXVsdCwgY29udHJvbHNdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicHJpbWl0aXZlXCIsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZixcbiAgICBvYmplY3Q6IGNvbnRyb2xzLFxuICAgIGVuYWJsZURhbXBpbmc6IGVuYWJsZURhbXBpbmdcbiAgfSwgcmVzdFByb3BzKSk7XG59KTtcblxuZXhwb3J0IHsgT3JiaXRDb250cm9scyB9O1xuIl0sIm5hbWVzIjpbIl9leHRlbmRzIiwidXNlVGhyZWUiLCJ1c2VGcmFtZSIsIlJlYWN0IiwiT3JiaXRDb250cm9scyIsIk9yYml0Q29udHJvbHMkMSIsImZvcndhcmRSZWYiLCJtYWtlRGVmYXVsdCIsImNhbWVyYSIsInJlZ3Jlc3MiLCJkb21FbGVtZW50IiwiZW5hYmxlRGFtcGluZyIsImtleUV2ZW50cyIsIm9uQ2hhbmdlIiwib25TdGFydCIsIm9uRW5kIiwicmVzdFByb3BzIiwicmVmIiwiaW52YWxpZGF0ZSIsInN0YXRlIiwiZGVmYXVsdENhbWVyYSIsImdsIiwiZXZlbnRzIiwic2V0RXZlbnRzIiwic2V0IiwiZ2V0IiwicGVyZm9ybWFuY2UiLCJleHBsQ2FtZXJhIiwiZXhwbERvbUVsZW1lbnQiLCJjb25uZWN0ZWQiLCJjb250cm9scyIsInVzZU1lbW8iLCJlbmFibGVkIiwidXBkYXRlIiwidXNlRWZmZWN0IiwiY29ubmVjdCIsImRpc3Bvc2UiLCJjYWxsYmFjayIsImUiLCJvblN0YXJ0Q2IiLCJvbkVuZENiIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvbGQiLCJjcmVhdGVFbGVtZW50Iiwib2JqZWN0Il0sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/core/OrbitControls.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/core/shaderMaterial.js":
/*!***************************************************************!*\
  !*** ./node_modules/@react-three/drei/core/shaderMaterial.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   shaderMaterial: () => (/* binding */ shaderMaterial)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.core.js\");\n\nfunction shaderMaterial(uniforms, vertexShader, fragmentShader, onInit) {\n    var _Class;\n    return _Class = class extends three__WEBPACK_IMPORTED_MODULE_0__.ShaderMaterial {\n        constructor(parameters){\n            super({\n                vertexShader,\n                fragmentShader,\n                ...parameters\n            });\n            for(const key in uniforms){\n                this.uniforms[key] = new three__WEBPACK_IMPORTED_MODULE_0__.Uniform(uniforms[key]);\n                Object.defineProperty(this, key, {\n                    get () {\n                        return this.uniforms[key].value;\n                    },\n                    set (value) {\n                        this.uniforms[key].value = value;\n                    }\n                });\n            }\n            this.uniforms = three__WEBPACK_IMPORTED_MODULE_0__.UniformsUtils.clone(this.uniforms);\n            onInit == null || onInit(this);\n        }\n    }, _Class.key = three__WEBPACK_IMPORTED_MODULE_0__.MathUtils.generateUUID(), _Class;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvY29yZS9zaGFkZXJNYXRlcmlhbC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUErQjtBQUUvQixTQUFTQyxlQUFlQyxRQUFRLEVBQUVDLFlBQVksRUFBRUMsY0FBYyxFQUFFQyxNQUFNO0lBQ3BFLElBQUlDO0lBQ0osT0FBT0EsU0FBUyxjQUFjTixpREFBb0I7UUFDaEQsWUFBWVEsVUFBVSxDQUFFO1lBQ3RCLEtBQUssQ0FBQztnQkFDSkw7Z0JBQ0FDO2dCQUNBLEdBQUdJLFVBQVU7WUFDZjtZQUNBLElBQUssTUFBTUMsT0FBT1AsU0FBVTtnQkFDMUIsSUFBSSxDQUFDQSxRQUFRLENBQUNPLElBQUksR0FBRyxJQUFJVCwwQ0FBYSxDQUFDRSxRQUFRLENBQUNPLElBQUk7Z0JBQ3BERSxPQUFPQyxjQUFjLENBQUMsSUFBSSxFQUFFSCxLQUFLO29CQUMvQkk7d0JBQ0UsT0FBTyxJQUFJLENBQUNYLFFBQVEsQ0FBQ08sSUFBSSxDQUFDSyxLQUFLO29CQUNqQztvQkFDQUMsS0FBSUQsS0FBSzt3QkFDUCxJQUFJLENBQUNaLFFBQVEsQ0FBQ08sSUFBSSxDQUFDSyxLQUFLLEdBQUdBO29CQUM3QjtnQkFDRjtZQUNGO1lBQ0EsSUFBSSxDQUFDWixRQUFRLEdBQUdGLGdEQUFtQixDQUFDaUIsS0FBSyxDQUFDLElBQUksQ0FBQ2YsUUFBUTtZQUN2REcsVUFBVSxRQUFRQSxPQUFPLElBQUk7UUFDL0I7SUFDRixHQUFHQyxPQUFPRyxHQUFHLEdBQUdULDRDQUFlLENBQUNtQixZQUFZLElBQUliO0FBQ2xEO0FBRTBCIiwic291cmNlcyI6WyIvVXNlcnMvbmFrYW11cmEvZ2l0LzNkL25vZGVfbW9kdWxlcy9AcmVhY3QtdGhyZWUvZHJlaS9jb3JlL3NoYWRlck1hdGVyaWFsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuZnVuY3Rpb24gc2hhZGVyTWF0ZXJpYWwodW5pZm9ybXMsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIsIG9uSW5pdCkge1xuICB2YXIgX0NsYXNzO1xuICByZXR1cm4gX0NsYXNzID0gY2xhc3MgZXh0ZW5kcyBUSFJFRS5TaGFkZXJNYXRlcmlhbCB7XG4gICAgY29uc3RydWN0b3IocGFyYW1ldGVycykge1xuICAgICAgc3VwZXIoe1xuICAgICAgICB2ZXJ0ZXhTaGFkZXIsXG4gICAgICAgIGZyYWdtZW50U2hhZGVyLFxuICAgICAgICAuLi5wYXJhbWV0ZXJzXG4gICAgICB9KTtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHVuaWZvcm1zKSB7XG4gICAgICAgIHRoaXMudW5pZm9ybXNba2V5XSA9IG5ldyBUSFJFRS5Vbmlmb3JtKHVuaWZvcm1zW2tleV0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywga2V5LCB7XG4gICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXNba2V5XS52YWx1ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy51bmlmb3Jtc1trZXldLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMudW5pZm9ybXMgPSBUSFJFRS5Vbmlmb3Jtc1V0aWxzLmNsb25lKHRoaXMudW5pZm9ybXMpO1xuICAgICAgb25Jbml0ID09IG51bGwgfHwgb25Jbml0KHRoaXMpO1xuICAgIH1cbiAgfSwgX0NsYXNzLmtleSA9IFRIUkVFLk1hdGhVdGlscy5nZW5lcmF0ZVVVSUQoKSwgX0NsYXNzO1xufVxuXG5leHBvcnQgeyBzaGFkZXJNYXRlcmlhbCB9O1xuIl0sIm5hbWVzIjpbIlRIUkVFIiwic2hhZGVyTWF0ZXJpYWwiLCJ1bmlmb3JtcyIsInZlcnRleFNoYWRlciIsImZyYWdtZW50U2hhZGVyIiwib25Jbml0IiwiX0NsYXNzIiwiU2hhZGVyTWF0ZXJpYWwiLCJwYXJhbWV0ZXJzIiwia2V5IiwiVW5pZm9ybSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwidmFsdWUiLCJzZXQiLCJVbmlmb3Jtc1V0aWxzIiwiY2xvbmUiLCJNYXRoVXRpbHMiLCJnZW5lcmF0ZVVVSUQiXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/core/shaderMaterial.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/core/shapes.js":
/*!*******************************************************!*\
  !*** ./node_modules/@react-three/drei/core/shapes.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Box: () => (/* binding */ Box),\n/* harmony export */   Capsule: () => (/* binding */ Capsule),\n/* harmony export */   Circle: () => (/* binding */ Circle),\n/* harmony export */   Cone: () => (/* binding */ Cone),\n/* harmony export */   Cylinder: () => (/* binding */ Cylinder),\n/* harmony export */   Dodecahedron: () => (/* binding */ Dodecahedron),\n/* harmony export */   Extrude: () => (/* binding */ Extrude),\n/* harmony export */   Icosahedron: () => (/* binding */ Icosahedron),\n/* harmony export */   Lathe: () => (/* binding */ Lathe),\n/* harmony export */   Octahedron: () => (/* binding */ Octahedron),\n/* harmony export */   Plane: () => (/* binding */ Plane),\n/* harmony export */   Polyhedron: () => (/* binding */ Polyhedron),\n/* harmony export */   Ring: () => (/* binding */ Ring),\n/* harmony export */   Shape: () => (/* binding */ Shape),\n/* harmony export */   Sphere: () => (/* binding */ Sphere),\n/* harmony export */   Tetrahedron: () => (/* binding */ Tetrahedron),\n/* harmony export */   Torus: () => (/* binding */ Torus),\n/* harmony export */   TorusKnot: () => (/* binding */ TorusKnot),\n/* harmony export */   Tube: () => (/* binding */ Tube)\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"(ssr)/./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.core.js\");\n\n\n\nfunction create(type, effect) {\n    const El = type + 'Geometry';\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ args, children, ...props }, fref)=>{\n        const ref = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n        react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle(fref, {\n            \"create.useImperativeHandle\": ()=>ref.current\n        }[\"create.useImperativeHandle\"]);\n        react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect({\n            \"create.useLayoutEffect\": ()=>void (effect == null ? void 0 : effect(ref.current))\n        }[\"create.useLayoutEffect\"]);\n        return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"mesh\", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            ref: ref\n        }, props), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(El, {\n            attach: \"geometry\",\n            args: args\n        }), children);\n    });\n}\nconst Box = /* @__PURE__ */ create('box');\nconst Circle = /* @__PURE__ */ create('circle');\nconst Cone = /* @__PURE__ */ create('cone');\nconst Cylinder = /* @__PURE__ */ create('cylinder');\nconst Sphere = /* @__PURE__ */ create('sphere');\nconst Plane = /* @__PURE__ */ create('plane');\nconst Tube = /* @__PURE__ */ create('tube');\nconst Torus = /* @__PURE__ */ create('torus');\nconst TorusKnot = /* @__PURE__ */ create('torusKnot');\nconst Tetrahedron = /* @__PURE__ */ create('tetrahedron');\nconst Ring = /* @__PURE__ */ create('ring');\nconst Polyhedron = /* @__PURE__ */ create('polyhedron');\nconst Icosahedron = /* @__PURE__ */ create('icosahedron');\nconst Octahedron = /* @__PURE__ */ create('octahedron');\nconst Dodecahedron = /* @__PURE__ */ create('dodecahedron');\nconst Extrude = /* @__PURE__ */ create('extrude');\nconst Lathe = /* @__PURE__ */ create('lathe');\nconst Capsule = /* @__PURE__ */ create('capsule');\nconst Shape = /* @__PURE__ */ create('shape', ({ geometry })=>{\n    // Calculate UVs (by https://discourse.threejs.org/u/prisoner849)\n    // https://discourse.threejs.org/t/custom-shape-in-image-not-working/49348/10\n    const pos = geometry.attributes.position;\n    const b3 = new three__WEBPACK_IMPORTED_MODULE_2__.Box3().setFromBufferAttribute(pos);\n    const b3size = new three__WEBPACK_IMPORTED_MODULE_2__.Vector3();\n    b3.getSize(b3size);\n    const uv = [];\n    let x = 0, y = 0, u = 0, v = 0;\n    for(let i = 0; i < pos.count; i++){\n        x = pos.getX(i);\n        y = pos.getY(i);\n        u = (x - b3.min.x) / b3size.x;\n        v = (y - b3.min.y) / b3size.y;\n        uv.push(u, v);\n    }\n    geometry.setAttribute('uv', new three__WEBPACK_IMPORTED_MODULE_2__.Float32BufferAttribute(uv, 2));\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvY29yZS9zaGFwZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEQ7QUFDM0I7QUFDQTtBQUUvQixTQUFTRyxPQUFPQyxJQUFJLEVBQUVDLE1BQU07SUFDMUIsTUFBTUMsS0FBS0YsT0FBTztJQUNsQixPQUFPLFdBQVcsR0FBRUgsNkNBQWdCLENBQUMsQ0FBQyxFQUNwQ08sSUFBSSxFQUNKQyxRQUFRLEVBQ1IsR0FBR0MsT0FDSixFQUFFQztRQUNELE1BQU1DLE1BQU1YLHlDQUFZLENBQUM7UUFDekJBLHNEQUF5QixDQUFDVTswQ0FBTSxJQUFNQyxJQUFJRyxPQUFPOztRQUNqRGQsa0RBQXFCO3NDQUFDLElBQU0sS0FBTUksQ0FBQUEsVUFBVSxPQUFPLEtBQUssSUFBSUEsT0FBT08sSUFBSUcsT0FBTzs7UUFDOUUsT0FBTyxXQUFXLEdBQUVkLGdEQUFtQixDQUFDLFFBQVFELDhFQUFRQSxDQUFDO1lBQ3ZEWSxLQUFLQTtRQUNQLEdBQUdGLFFBQVEsV0FBVyxHQUFFVCxnREFBbUIsQ0FBQ0ssSUFBSTtZQUM5Q1ksUUFBUTtZQUNSVixNQUFNQTtRQUNSLElBQUlDO0lBQ047QUFDRjtBQUNBLE1BQU1VLE1BQU0sYUFBYSxHQUFFaEIsT0FBTztBQUNsQyxNQUFNaUIsU0FBUyxhQUFhLEdBQUVqQixPQUFPO0FBQ3JDLE1BQU1rQixPQUFPLGFBQWEsR0FBRWxCLE9BQU87QUFDbkMsTUFBTW1CLFdBQVcsYUFBYSxHQUFFbkIsT0FBTztBQUN2QyxNQUFNb0IsU0FBUyxhQUFhLEdBQUVwQixPQUFPO0FBQ3JDLE1BQU1xQixRQUFRLGFBQWEsR0FBRXJCLE9BQU87QUFDcEMsTUFBTXNCLE9BQU8sYUFBYSxHQUFFdEIsT0FBTztBQUNuQyxNQUFNdUIsUUFBUSxhQUFhLEdBQUV2QixPQUFPO0FBQ3BDLE1BQU13QixZQUFZLGFBQWEsR0FBRXhCLE9BQU87QUFDeEMsTUFBTXlCLGNBQWMsYUFBYSxHQUFFekIsT0FBTztBQUMxQyxNQUFNMEIsT0FBTyxhQUFhLEdBQUUxQixPQUFPO0FBQ25DLE1BQU0yQixhQUFhLGFBQWEsR0FBRTNCLE9BQU87QUFDekMsTUFBTTRCLGNBQWMsYUFBYSxHQUFFNUIsT0FBTztBQUMxQyxNQUFNNkIsYUFBYSxhQUFhLEdBQUU3QixPQUFPO0FBQ3pDLE1BQU04QixlQUFlLGFBQWEsR0FBRTlCLE9BQU87QUFDM0MsTUFBTStCLFVBQVUsYUFBYSxHQUFFL0IsT0FBTztBQUN0QyxNQUFNZ0MsUUFBUSxhQUFhLEdBQUVoQyxPQUFPO0FBQ3BDLE1BQU1pQyxVQUFVLGFBQWEsR0FBRWpDLE9BQU87QUFDdEMsTUFBTWtDLFFBQVEsYUFBYSxHQUFFbEMsT0FBTyxTQUFTLENBQUMsRUFDNUNtQyxRQUFRLEVBQ1Q7SUFDQyxpRUFBaUU7SUFDakUsNkVBQTZFO0lBQzdFLE1BQU1DLE1BQU1ELFNBQVNFLFVBQVUsQ0FBQ0MsUUFBUTtJQUN4QyxNQUFNQyxLQUFLLElBQUl4Qyx1Q0FBVSxHQUFHMEMsc0JBQXNCLENBQUNMO0lBQ25ELE1BQU1NLFNBQVMsSUFBSTNDLDBDQUFhO0lBQ2hDd0MsR0FBR0ssT0FBTyxDQUFDRjtJQUNYLE1BQU1HLEtBQUssRUFBRTtJQUNiLElBQUlDLElBQUksR0FDTkMsSUFBSSxHQUNKQyxJQUFJLEdBQ0pDLElBQUk7SUFDTixJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSWQsSUFBSWUsS0FBSyxFQUFFRCxJQUFLO1FBQ2xDSixJQUFJVixJQUFJZ0IsSUFBSSxDQUFDRjtRQUNiSCxJQUFJWCxJQUFJaUIsSUFBSSxDQUFDSDtRQUNiRixJQUFJLENBQUNGLElBQUlQLEdBQUdlLEdBQUcsQ0FBQ1IsQ0FBQyxJQUFJSixPQUFPSSxDQUFDO1FBQzdCRyxJQUFJLENBQUNGLElBQUlSLEdBQUdlLEdBQUcsQ0FBQ1AsQ0FBQyxJQUFJTCxPQUFPSyxDQUFDO1FBQzdCRixHQUFHVSxJQUFJLENBQUNQLEdBQUdDO0lBQ2I7SUFDQWQsU0FBU3FCLFlBQVksQ0FBQyxNQUFNLElBQUl6RCx5REFBNEIsQ0FBQzhDLElBQUk7QUFDbkU7QUFFb0wiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uYWthbXVyYS9naXQvM2Qvbm9kZV9tb2R1bGVzL0ByZWFjdC10aHJlZS9kcmVpL2NvcmUvc2hhcGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfZXh0ZW5kcyBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuZnVuY3Rpb24gY3JlYXRlKHR5cGUsIGVmZmVjdCkge1xuICBjb25zdCBFbCA9IHR5cGUgKyAnR2VvbWV0cnknO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoKHtcbiAgICBhcmdzLFxuICAgIGNoaWxkcmVuLFxuICAgIC4uLnByb3BzXG4gIH0sIGZyZWYpID0+IHtcbiAgICBjb25zdCByZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShmcmVmLCAoKSA9PiByZWYuY3VycmVudCk7XG4gICAgUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHZvaWQgKGVmZmVjdCA9PSBudWxsID8gdm9pZCAwIDogZWZmZWN0KHJlZi5jdXJyZW50KSkpO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcIm1lc2hcIiwgX2V4dGVuZHMoe1xuICAgICAgcmVmOiByZWZcbiAgICB9LCBwcm9wcyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEVsLCB7XG4gICAgICBhdHRhY2g6IFwiZ2VvbWV0cnlcIixcbiAgICAgIGFyZ3M6IGFyZ3NcbiAgICB9KSwgY2hpbGRyZW4pO1xuICB9KTtcbn1cbmNvbnN0IEJveCA9IC8qIEBfX1BVUkVfXyAqL2NyZWF0ZSgnYm94Jyk7XG5jb25zdCBDaXJjbGUgPSAvKiBAX19QVVJFX18gKi9jcmVhdGUoJ2NpcmNsZScpO1xuY29uc3QgQ29uZSA9IC8qIEBfX1BVUkVfXyAqL2NyZWF0ZSgnY29uZScpO1xuY29uc3QgQ3lsaW5kZXIgPSAvKiBAX19QVVJFX18gKi9jcmVhdGUoJ2N5bGluZGVyJyk7XG5jb25zdCBTcGhlcmUgPSAvKiBAX19QVVJFX18gKi9jcmVhdGUoJ3NwaGVyZScpO1xuY29uc3QgUGxhbmUgPSAvKiBAX19QVVJFX18gKi9jcmVhdGUoJ3BsYW5lJyk7XG5jb25zdCBUdWJlID0gLyogQF9fUFVSRV9fICovY3JlYXRlKCd0dWJlJyk7XG5jb25zdCBUb3J1cyA9IC8qIEBfX1BVUkVfXyAqL2NyZWF0ZSgndG9ydXMnKTtcbmNvbnN0IFRvcnVzS25vdCA9IC8qIEBfX1BVUkVfXyAqL2NyZWF0ZSgndG9ydXNLbm90Jyk7XG5jb25zdCBUZXRyYWhlZHJvbiA9IC8qIEBfX1BVUkVfXyAqL2NyZWF0ZSgndGV0cmFoZWRyb24nKTtcbmNvbnN0IFJpbmcgPSAvKiBAX19QVVJFX18gKi9jcmVhdGUoJ3JpbmcnKTtcbmNvbnN0IFBvbHloZWRyb24gPSAvKiBAX19QVVJFX18gKi9jcmVhdGUoJ3BvbHloZWRyb24nKTtcbmNvbnN0IEljb3NhaGVkcm9uID0gLyogQF9fUFVSRV9fICovY3JlYXRlKCdpY29zYWhlZHJvbicpO1xuY29uc3QgT2N0YWhlZHJvbiA9IC8qIEBfX1BVUkVfXyAqL2NyZWF0ZSgnb2N0YWhlZHJvbicpO1xuY29uc3QgRG9kZWNhaGVkcm9uID0gLyogQF9fUFVSRV9fICovY3JlYXRlKCdkb2RlY2FoZWRyb24nKTtcbmNvbnN0IEV4dHJ1ZGUgPSAvKiBAX19QVVJFX18gKi9jcmVhdGUoJ2V4dHJ1ZGUnKTtcbmNvbnN0IExhdGhlID0gLyogQF9fUFVSRV9fICovY3JlYXRlKCdsYXRoZScpO1xuY29uc3QgQ2Fwc3VsZSA9IC8qIEBfX1BVUkVfXyAqL2NyZWF0ZSgnY2Fwc3VsZScpO1xuY29uc3QgU2hhcGUgPSAvKiBAX19QVVJFX18gKi9jcmVhdGUoJ3NoYXBlJywgKHtcbiAgZ2VvbWV0cnlcbn0pID0+IHtcbiAgLy8gQ2FsY3VsYXRlIFVWcyAoYnkgaHR0cHM6Ly9kaXNjb3Vyc2UudGhyZWVqcy5vcmcvdS9wcmlzb25lcjg0OSlcbiAgLy8gaHR0cHM6Ly9kaXNjb3Vyc2UudGhyZWVqcy5vcmcvdC9jdXN0b20tc2hhcGUtaW4taW1hZ2Utbm90LXdvcmtpbmcvNDkzNDgvMTBcbiAgY29uc3QgcG9zID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbjtcbiAgY29uc3QgYjMgPSBuZXcgVEhSRUUuQm94MygpLnNldEZyb21CdWZmZXJBdHRyaWJ1dGUocG9zKTtcbiAgY29uc3QgYjNzaXplID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgYjMuZ2V0U2l6ZShiM3NpemUpO1xuICBjb25zdCB1diA9IFtdO1xuICBsZXQgeCA9IDAsXG4gICAgeSA9IDAsXG4gICAgdSA9IDAsXG4gICAgdiA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcG9zLmNvdW50OyBpKyspIHtcbiAgICB4ID0gcG9zLmdldFgoaSk7XG4gICAgeSA9IHBvcy5nZXRZKGkpO1xuICAgIHUgPSAoeCAtIGIzLm1pbi54KSAvIGIzc2l6ZS54O1xuICAgIHYgPSAoeSAtIGIzLm1pbi55KSAvIGIzc2l6ZS55O1xuICAgIHV2LnB1c2godSwgdik7XG4gIH1cbiAgZ2VvbWV0cnkuc2V0QXR0cmlidXRlKCd1dicsIG5ldyBUSFJFRS5GbG9hdDMyQnVmZmVyQXR0cmlidXRlKHV2LCAyKSk7XG59KTtcblxuZXhwb3J0IHsgQm94LCBDYXBzdWxlLCBDaXJjbGUsIENvbmUsIEN5bGluZGVyLCBEb2RlY2FoZWRyb24sIEV4dHJ1ZGUsIEljb3NhaGVkcm9uLCBMYXRoZSwgT2N0YWhlZHJvbiwgUGxhbmUsIFBvbHloZWRyb24sIFJpbmcsIFNoYXBlLCBTcGhlcmUsIFRldHJhaGVkcm9uLCBUb3J1cywgVG9ydXNLbm90LCBUdWJlIH07XG4iXSwibmFtZXMiOlsiX2V4dGVuZHMiLCJSZWFjdCIsIlRIUkVFIiwiY3JlYXRlIiwidHlwZSIsImVmZmVjdCIsIkVsIiwiZm9yd2FyZFJlZiIsImFyZ3MiLCJjaGlsZHJlbiIsInByb3BzIiwiZnJlZiIsInJlZiIsInVzZVJlZiIsInVzZUltcGVyYXRpdmVIYW5kbGUiLCJjdXJyZW50IiwidXNlTGF5b3V0RWZmZWN0IiwiY3JlYXRlRWxlbWVudCIsImF0dGFjaCIsIkJveCIsIkNpcmNsZSIsIkNvbmUiLCJDeWxpbmRlciIsIlNwaGVyZSIsIlBsYW5lIiwiVHViZSIsIlRvcnVzIiwiVG9ydXNLbm90IiwiVGV0cmFoZWRyb24iLCJSaW5nIiwiUG9seWhlZHJvbiIsIkljb3NhaGVkcm9uIiwiT2N0YWhlZHJvbiIsIkRvZGVjYWhlZHJvbiIsIkV4dHJ1ZGUiLCJMYXRoZSIsIkNhcHN1bGUiLCJTaGFwZSIsImdlb21ldHJ5IiwicG9zIiwiYXR0cmlidXRlcyIsInBvc2l0aW9uIiwiYjMiLCJCb3gzIiwic2V0RnJvbUJ1ZmZlckF0dHJpYnV0ZSIsImIzc2l6ZSIsIlZlY3RvcjMiLCJnZXRTaXplIiwidXYiLCJ4IiwieSIsInUiLCJ2IiwiaSIsImNvdW50IiwiZ2V0WCIsImdldFkiLCJtaW4iLCJwdXNoIiwic2V0QXR0cmlidXRlIiwiRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSJdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/core/shapes.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/core/useEnvironment.js":
/*!***************************************************************!*\
  !*** ./node_modules/@react-three/drei/core/useEnvironment.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useEnvironment: () => (/* binding */ useEnvironment)\n/* harmony export */ });\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-three/fiber */ \"(ssr)/./node_modules/@react-three/fiber/dist/events-e3cb66e2.esm.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.core.js\");\n/* harmony import */ var three_stdlib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three-stdlib */ \"(ssr)/./node_modules/three-stdlib/loaders/RGBELoader.js\");\n/* harmony import */ var three_stdlib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three-stdlib */ \"(ssr)/./node_modules/three-stdlib/loaders/EXRLoader.js\");\n/* harmony import */ var _monogrid_gainmap_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @monogrid/gainmap-js */ \"(ssr)/./node_modules/@monogrid/gainmap-js/dist/decode.js\");\n/* harmony import */ var _helpers_environment_assets_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/environment-assets.js */ \"(ssr)/./node_modules/@react-three/drei/helpers/environment-assets.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\n\n\n\nconst CUBEMAP_ROOT = 'https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/';\nconst isArray = (arr)=>Array.isArray(arr);\nconst defaultFiles = [\n    '/px.png',\n    '/nx.png',\n    '/py.png',\n    '/ny.png',\n    '/pz.png',\n    '/nz.png'\n];\nfunction useEnvironment({ files = defaultFiles, path = '', preset = undefined, colorSpace = undefined, extensions } = {}) {\n    if (preset) {\n        validatePreset(preset);\n        files = _helpers_environment_assets_js__WEBPACK_IMPORTED_MODULE_1__.presetsObj[preset];\n        path = CUBEMAP_ROOT;\n    }\n    // Everything else\n    const multiFile = isArray(files);\n    const { extension, isCubemap } = getExtension(files);\n    const loader = getLoader(extension);\n    if (!loader) throw new Error('useEnvironment: Unrecognized file extension: ' + files);\n    const gl = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.C)({\n        \"useEnvironment.useThree[gl]\": (state)=>state.gl\n    }[\"useEnvironment.useThree[gl]\"]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)({\n        \"useEnvironment.useLayoutEffect\": ()=>{\n            // Only required for gainmap\n            if (extension !== 'webp' && extension !== 'jpg' && extension !== 'jpeg') return;\n            function clearGainmapTexture() {\n                _react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.G.clear(loader, multiFile ? [\n                    files\n                ] : files);\n            }\n            gl.domElement.addEventListener('webglcontextlost', clearGainmapTexture, {\n                once: true\n            });\n        }\n    }[\"useEnvironment.useLayoutEffect\"], [\n        files,\n        gl.domElement\n    ]);\n    const loaderResult = (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.G)(loader, multiFile ? [\n        files\n    ] : files, {\n        \"useEnvironment.useLoader[loaderResult]\": (loader)=>{\n            // Gainmap requires a renderer\n            if (extension === 'webp' || extension === 'jpg' || extension === 'jpeg') {\n                // @ts-expect-error\n                loader.setRenderer(gl);\n            }\n            loader.setPath == null || loader.setPath(path);\n            // @ts-expect-error\n            if (extensions) extensions(loader);\n        }\n    }[\"useEnvironment.useLoader[loaderResult]\"]);\n    let texture = multiFile ? // @ts-ignore\n    loaderResult[0] : loaderResult;\n    if (extension === 'jpg' || extension === 'jpeg' || extension === 'webp') {\n        var _renderTarget;\n        texture = (_renderTarget = texture.renderTarget) == null ? void 0 : _renderTarget.texture;\n    }\n    texture.mapping = isCubemap ? three__WEBPACK_IMPORTED_MODULE_3__.CubeReflectionMapping : three__WEBPACK_IMPORTED_MODULE_3__.EquirectangularReflectionMapping;\n    texture.colorSpace = colorSpace !== null && colorSpace !== void 0 ? colorSpace : isCubemap ? 'srgb' : 'srgb-linear';\n    return texture;\n}\nconst preloadDefaultOptions = {\n    files: defaultFiles,\n    path: '',\n    preset: undefined,\n    extensions: undefined\n};\nuseEnvironment.preload = (preloadOptions)=>{\n    const options = {\n        ...preloadDefaultOptions,\n        ...preloadOptions\n    };\n    let { files, path = '' } = options;\n    const { preset, extensions } = options;\n    if (preset) {\n        validatePreset(preset);\n        files = _helpers_environment_assets_js__WEBPACK_IMPORTED_MODULE_1__.presetsObj[preset];\n        path = CUBEMAP_ROOT;\n    }\n    const { extension } = getExtension(files);\n    if (extension === 'webp' || extension === 'jpg' || extension === 'jpeg') {\n        throw new Error('useEnvironment: Preloading gainmaps is not supported');\n    }\n    const loader = getLoader(extension);\n    if (!loader) throw new Error('useEnvironment: Unrecognized file extension: ' + files);\n    _react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.G.preload(loader, isArray(files) ? [\n        files\n    ] : files, (loader)=>{\n        loader.setPath == null || loader.setPath(path);\n        // @ts-expect-error\n        if (extensions) extensions(loader);\n    });\n};\nconst clearDefaultOptins = {\n    files: defaultFiles,\n    preset: undefined\n};\nuseEnvironment.clear = (clearOptions)=>{\n    const options = {\n        ...clearDefaultOptins,\n        ...clearOptions\n    };\n    let { files } = options;\n    const { preset } = options;\n    if (preset) {\n        validatePreset(preset);\n        files = _helpers_environment_assets_js__WEBPACK_IMPORTED_MODULE_1__.presetsObj[preset];\n    }\n    const { extension } = getExtension(files);\n    const loader = getLoader(extension);\n    if (!loader) throw new Error('useEnvironment: Unrecognized file extension: ' + files);\n    _react_three_fiber__WEBPACK_IMPORTED_MODULE_2__.G.clear(loader, isArray(files) ? [\n        files\n    ] : files);\n};\nfunction validatePreset(preset) {\n    if (!(preset in _helpers_environment_assets_js__WEBPACK_IMPORTED_MODULE_1__.presetsObj)) throw new Error('Preset must be one of: ' + Object.keys(_helpers_environment_assets_js__WEBPACK_IMPORTED_MODULE_1__.presetsObj).join(', '));\n}\nfunction getExtension(files) {\n    var _firstEntry$split$pop;\n    const isCubemap = isArray(files) && files.length === 6;\n    const isGainmap = isArray(files) && files.length === 3 && files.some((file)=>file.endsWith('json'));\n    const firstEntry = isArray(files) ? files[0] : files;\n    // Everything else\n    const extension = isCubemap ? 'cube' : isGainmap ? 'webp' : firstEntry.startsWith('data:application/exr') ? 'exr' : firstEntry.startsWith('data:application/hdr') ? 'hdr' : firstEntry.startsWith('data:image/jpeg') ? 'jpg' : (_firstEntry$split$pop = firstEntry.split('.').pop()) == null || (_firstEntry$split$pop = _firstEntry$split$pop.split('?')) == null || (_firstEntry$split$pop = _firstEntry$split$pop.shift()) == null ? void 0 : _firstEntry$split$pop.toLowerCase();\n    return {\n        extension,\n        isCubemap,\n        isGainmap\n    };\n}\nfunction getLoader(extension) {\n    const loader = extension === 'cube' ? three__WEBPACK_IMPORTED_MODULE_3__.CubeTextureLoader : extension === 'hdr' ? three_stdlib__WEBPACK_IMPORTED_MODULE_4__.RGBELoader : extension === 'exr' ? three_stdlib__WEBPACK_IMPORTED_MODULE_5__.EXRLoader : extension === 'jpg' || extension === 'jpeg' ? _monogrid_gainmap_js__WEBPACK_IMPORTED_MODULE_6__.HDRJPGLoader : extension === 'webp' ? _monogrid_gainmap_js__WEBPACK_IMPORTED_MODULE_6__.GainMapLoader : null;\n    return loader;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvY29yZS91c2VFbnZpcm9ubWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBeUQ7QUFDMEM7QUFDOUM7QUFDYztBQUNMO0FBQ3RCO0FBRXhDLE1BQU1XLGVBQWU7QUFDckIsTUFBTUMsVUFBVUMsQ0FBQUEsTUFBT0MsTUFBTUYsT0FBTyxDQUFDQztBQUNyQyxNQUFNRSxlQUFlO0lBQUM7SUFBVztJQUFXO0lBQVc7SUFBVztJQUFXO0NBQVU7QUFDdkYsU0FBU0MsZUFBZSxFQUN0QkMsUUFBUUYsWUFBWSxFQUNwQkcsT0FBTyxFQUFFLEVBQ1RDLFNBQVNDLFNBQVMsRUFDbEJDLGFBQWFELFNBQVMsRUFDdEJFLFVBQVUsRUFDWCxHQUFHLENBQUMsQ0FBQztJQUNKLElBQUlILFFBQVE7UUFDVkksZUFBZUo7UUFDZkYsUUFBUVIsc0VBQVUsQ0FBQ1UsT0FBTztRQUMxQkQsT0FBT1A7SUFDVDtJQUVBLGtCQUFrQjtJQUNsQixNQUFNYSxZQUFZWixRQUFRSztJQUMxQixNQUFNLEVBQ0pRLFNBQVMsRUFDVEMsU0FBUyxFQUNWLEdBQUdDLGFBQWFWO0lBQ2pCLE1BQU1XLFNBQVNDLFVBQVVKO0lBQ3pCLElBQUksQ0FBQ0csUUFBUSxNQUFNLElBQUlFLE1BQU0sa0RBQWtEYjtJQUMvRSxNQUFNYyxLQUFLL0IscURBQVFBO3VDQUFDZ0MsQ0FBQUEsUUFBU0EsTUFBTUQsRUFBRTs7SUFDckNyQixzREFBZUE7MENBQUM7WUFDZCw0QkFBNEI7WUFDNUIsSUFBSWUsY0FBYyxVQUFVQSxjQUFjLFNBQVNBLGNBQWMsUUFBUTtZQUN6RSxTQUFTUTtnQkFDUGhDLGlEQUFTQSxDQUFDaUMsS0FBSyxDQUFDTixRQUFRSixZQUFZO29CQUFDUDtpQkFBTSxHQUFHQTtZQUNoRDtZQUNBYyxHQUFHSSxVQUFVLENBQUNDLGdCQUFnQixDQUFDLG9CQUFvQkgscUJBQXFCO2dCQUN0RUksTUFBTTtZQUNSO1FBQ0Y7eUNB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WyIvVXNlcnMvbmFrYW11cmEvZ2l0LzNkL25vZGVfbW9kdWxlcy9AcmVhY3QtdGhyZWUvZHJlaS9jb3JlL3VzZUVudmlyb25tZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVRocmVlLCB1c2VMb2FkZXIgfSBmcm9tICdAcmVhY3QtdGhyZWUvZmliZXInO1xuaW1wb3J0IHsgQ3ViZVJlZmxlY3Rpb25NYXBwaW5nLCBFcXVpcmVjdGFuZ3VsYXJSZWZsZWN0aW9uTWFwcGluZywgQ3ViZVRleHR1cmVMb2FkZXIgfSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBSR0JFTG9hZGVyLCBFWFJMb2FkZXIgfSBmcm9tICd0aHJlZS1zdGRsaWInO1xuaW1wb3J0IHsgSERSSlBHTG9hZGVyLCBHYWluTWFwTG9hZGVyIH0gZnJvbSAnQG1vbm9ncmlkL2dhaW5tYXAtanMnO1xuaW1wb3J0IHsgcHJlc2V0c09iaiB9IGZyb20gJy4uL2hlbHBlcnMvZW52aXJvbm1lbnQtYXNzZXRzLmpzJztcbmltcG9ydCB7IHVzZUxheW91dEVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuY29uc3QgQ1VCRU1BUF9ST09UID0gJ2h0dHBzOi8vcmF3LmdpdGhhY2suY29tL3BtbmRycy9kcmVpLWFzc2V0cy80NTYwNjBhMjZiYmViOGZkZjc5MzI2ZjIyNGI2ZDk5YjhiY2NlNzM2L2hkcmkvJztcbmNvbnN0IGlzQXJyYXkgPSBhcnIgPT4gQXJyYXkuaXNBcnJheShhcnIpO1xuY29uc3QgZGVmYXVsdEZpbGVzID0gWycvcHgucG5nJywgJy9ueC5wbmcnLCAnL3B5LnBuZycsICcvbnkucG5nJywgJy9wei5wbmcnLCAnL256LnBuZyddO1xuZnVuY3Rpb24gdXNlRW52aXJvbm1lbnQoe1xuICBmaWxlcyA9IGRlZmF1bHRGaWxlcyxcbiAgcGF0aCA9ICcnLFxuICBwcmVzZXQgPSB1bmRlZmluZWQsXG4gIGNvbG9yU3BhY2UgPSB1bmRlZmluZWQsXG4gIGV4dGVuc2lvbnNcbn0gPSB7fSkge1xuICBpZiAocHJlc2V0KSB7XG4gICAgdmFsaWRhdGVQcmVzZXQocHJlc2V0KTtcbiAgICBmaWxlcyA9IHByZXNldHNPYmpbcHJlc2V0XTtcbiAgICBwYXRoID0gQ1VCRU1BUF9ST09UO1xuICB9XG5cbiAgLy8gRXZlcnl0aGluZyBlbHNlXG4gIGNvbnN0IG11bHRpRmlsZSA9IGlzQXJyYXkoZmlsZXMpO1xuICBjb25zdCB7XG4gICAgZXh0ZW5zaW9uLFxuICAgIGlzQ3ViZW1hcFxuICB9ID0gZ2V0RXh0ZW5zaW9uKGZpbGVzKTtcbiAgY29uc3QgbG9hZGVyID0gZ2V0TG9hZGVyKGV4dGVuc2lvbik7XG4gIGlmICghbG9hZGVyKSB0aHJvdyBuZXcgRXJyb3IoJ3VzZUVudmlyb25tZW50OiBVbnJlY29nbml6ZWQgZmlsZSBleHRlbnNpb246ICcgKyBmaWxlcyk7XG4gIGNvbnN0IGdsID0gdXNlVGhyZWUoc3RhdGUgPT4gc3RhdGUuZ2wpO1xuICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIC8vIE9ubHkgcmVxdWlyZWQgZm9yIGdhaW5tYXBcbiAgICBpZiAoZXh0ZW5zaW9uICE9PSAnd2VicCcgJiYgZXh0ZW5zaW9uICE9PSAnanBnJyAmJiBleHRlbnNpb24gIT09ICdqcGVnJykgcmV0dXJuO1xuICAgIGZ1bmN0aW9uIGNsZWFyR2Fpbm1hcFRleHR1cmUoKSB7XG4gICAgICB1c2VMb2FkZXIuY2xlYXIobG9hZGVyLCBtdWx0aUZpbGUgPyBbZmlsZXNdIDogZmlsZXMpO1xuICAgIH1cbiAgICBnbC5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCBjbGVhckdhaW5tYXBUZXh0dXJlLCB7XG4gICAgICBvbmNlOiB0cnVlXG4gICAgfSk7XG4gIH0sIFtmaWxlcywgZ2wuZG9tRWxlbWVudF0pO1xuICBjb25zdCBsb2FkZXJSZXN1bHQgPSB1c2VMb2FkZXIobG9hZGVyLCBtdWx0aUZpbGUgPyBbZmlsZXNdIDogZmlsZXMsIGxvYWRlciA9PiB7XG4gICAgLy8gR2Fpbm1hcCByZXF1aXJlcyBhIHJlbmRlcmVyXG4gICAgaWYgKGV4dGVuc2lvbiA9PT0gJ3dlYnAnIHx8IGV4dGVuc2lvbiA9PT0gJ2pwZycgfHwgZXh0ZW5zaW9uID09PSAnanBlZycpIHtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgIGxvYWRlci5zZXRSZW5kZXJlcihnbCk7XG4gICAgfVxuICAgIGxvYWRlci5zZXRQYXRoID09IG51bGwgfHwgbG9hZGVyLnNldFBhdGgocGF0aCk7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIGlmIChleHRlbnNpb25zKSBleHRlbnNpb25zKGxvYWRlcik7XG4gIH0pO1xuICBsZXQgdGV4dHVyZSA9IG11bHRpRmlsZSA/XG4gIC8vIEB0cy1pZ25vcmVcbiAgbG9hZGVyUmVzdWx0WzBdIDogbG9hZGVyUmVzdWx0O1xuICBpZiAoZXh0ZW5zaW9uID09PSAnanBnJyB8fCBleHRlbnNpb24gPT09ICdqcGVnJyB8fCBleHRlbnNpb24gPT09ICd3ZWJwJykge1xuICAgIHZhciBfcmVuZGVyVGFyZ2V0O1xuICAgIHRleHR1cmUgPSAoX3JlbmRlclRhcmdldCA9IHRleHR1cmUucmVuZGVyVGFyZ2V0KSA9PSBudWxsID8gdm9pZCAwIDogX3JlbmRlclRhcmdldC50ZXh0dXJlO1xuICB9XG4gIHRleHR1cmUubWFwcGluZyA9IGlzQ3ViZW1hcCA/IEN1YmVSZWZsZWN0aW9uTWFwcGluZyA6IEVxdWlyZWN0YW5ndWxhclJlZmxlY3Rpb25NYXBwaW5nO1xuICB0ZXh0dXJlLmNvbG9yU3BhY2UgPSBjb2xvclNwYWNlICE9PSBudWxsICYmIGNvbG9yU3BhY2UgIT09IHZvaWQgMCA/IGNvbG9yU3BhY2UgOiBpc0N1YmVtYXAgPyAnc3JnYicgOiAnc3JnYi1saW5lYXInO1xuICByZXR1cm4gdGV4dHVyZTtcbn1cbmNvbnN0IHByZWxvYWREZWZhdWx0T3B0aW9ucyA9IHtcbiAgZmlsZXM6IGRlZmF1bHRGaWxlcyxcbiAgcGF0aDogJycsXG4gIHByZXNldDogdW5kZWZpbmVkLFxuICBleHRlbnNpb25zOiB1bmRlZmluZWRcbn07XG51c2VFbnZpcm9ubWVudC5wcmVsb2FkID0gcHJlbG9hZE9wdGlvbnMgPT4ge1xuICBjb25zdCBvcHRpb25zID0ge1xuICAgIC4uLnByZWxvYWREZWZhdWx0T3B0aW9ucyxcbiAgICAuLi5wcmVsb2FkT3B0aW9uc1xuICB9O1xuICBsZXQge1xuICAgIGZpbGVzLFxuICAgIHBhdGggPSAnJ1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3Qge1xuICAgIHByZXNldCxcbiAgICBleHRlbnNpb25zXG4gIH0gPSBvcHRpb25zO1xuICBpZiAocHJlc2V0KSB7XG4gICAgdmFsaWRhdGVQcmVzZXQocHJlc2V0KTtcbiAgICBmaWxlcyA9IHByZXNldHNPYmpbcHJlc2V0XTtcbiAgICBwYXRoID0gQ1VCRU1BUF9ST09UO1xuICB9XG4gIGNvbnN0IHtcbiAgICBleHRlbnNpb25cbiAgfSA9IGdldEV4dGVuc2lvbihmaWxlcyk7XG4gIGlmIChleHRlbnNpb24gPT09ICd3ZWJwJyB8fCBleHRlbnNpb24gPT09ICdqcGcnIHx8IGV4dGVuc2lvbiA9PT0gJ2pwZWcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VFbnZpcm9ubWVudDogUHJlbG9hZGluZyBnYWlubWFwcyBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gIH1cbiAgY29uc3QgbG9hZGVyID0gZ2V0TG9hZGVyKGV4dGVuc2lvbik7XG4gIGlmICghbG9hZGVyKSB0aHJvdyBuZXcgRXJyb3IoJ3VzZUVudmlyb25tZW50OiBVbnJlY29nbml6ZWQgZmlsZSBleHRlbnNpb246ICcgKyBmaWxlcyk7XG4gIHVzZUxvYWRlci5wcmVsb2FkKGxvYWRlciwgaXNBcnJheShmaWxlcykgPyBbZmlsZXNdIDogZmlsZXMsIGxvYWRlciA9PiB7XG4gICAgbG9hZGVyLnNldFBhdGggPT0gbnVsbCB8fCBsb2FkZXIuc2V0UGF0aChwYXRoKTtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgaWYgKGV4dGVuc2lvbnMpIGV4dGVuc2lvbnMobG9hZGVyKTtcbiAgfSk7XG59O1xuY29uc3QgY2xlYXJEZWZhdWx0T3B0aW5zID0ge1xuICBmaWxlczogZGVmYXVsdEZpbGVzLFxuICBwcmVzZXQ6IHVuZGVmaW5lZFxufTtcbnVzZUVudmlyb25tZW50LmNsZWFyID0gY2xlYXJPcHRpb25zID0+IHtcbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAuLi5jbGVhckRlZmF1bHRPcHRpbnMsXG4gICAgLi4uY2xlYXJPcHRpb25zXG4gIH07XG4gIGxldCB7XG4gICAgZmlsZXNcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHtcbiAgICBwcmVzZXRcbiAgfSA9IG9wdGlvbnM7XG4gIGlmIChwcmVzZXQpIHtcbiAgICB2YWxpZGF0ZVByZXNldChwcmVzZXQpO1xuICAgIGZpbGVzID0gcHJlc2V0c09ialtwcmVzZXRdO1xuICB9XG4gIGNvbnN0IHtcbiAgICBleHRlbnNpb25cbiAgfSA9IGdldEV4dGVuc2lvbihmaWxlcyk7XG4gIGNvbnN0IGxvYWRlciA9IGdldExvYWRlcihleHRlbnNpb24pO1xuICBpZiAoIWxvYWRlcikgdGhyb3cgbmV3IEVycm9yKCd1c2VFbnZpcm9ubWVudDogVW5yZWNvZ25pemVkIGZpbGUgZXh0ZW5zaW9uOiAnICsgZmlsZXMpO1xuICB1c2VMb2FkZXIuY2xlYXIobG9hZGVyLCBpc0FycmF5KGZpbGVzKSA/IFtmaWxlc10gOiBmaWxlcyk7XG59O1xuZnVuY3Rpb24gdmFsaWRhdGVQcmVzZXQocHJlc2V0KSB7XG4gIGlmICghKHByZXNldCBpbiBwcmVzZXRzT2JqKSkgdGhyb3cgbmV3IEVycm9yKCdQcmVzZXQgbXVzdCBiZSBvbmUgb2Y6ICcgKyBPYmplY3Qua2V5cyhwcmVzZXRzT2JqKS5qb2luKCcsICcpKTtcbn1cbmZ1bmN0aW9uIGdldEV4dGVuc2lvbihmaWxlcykge1xuICB2YXIgX2ZpcnN0RW50cnkkc3BsaXQkcG9wO1xuICBjb25zdCBpc0N1YmVtYXAgPSBpc0FycmF5KGZpbGVzKSAmJiBmaWxlcy5sZW5ndGggPT09IDY7XG4gIGNvbnN0IGlzR2Fpbm1hcCA9IGlzQXJyYXkoZmlsZXMpICYmIGZpbGVzLmxlbmd0aCA9PT0gMyAmJiBmaWxlcy5zb21lKGZpbGUgPT4gZmlsZS5lbmRzV2l0aCgnanNvbicpKTtcbiAgY29uc3QgZmlyc3RFbnRyeSA9IGlzQXJyYXkoZmlsZXMpID8gZmlsZXNbMF0gOiBmaWxlcztcblxuICAvLyBFdmVyeXRoaW5nIGVsc2VcbiAgY29uc3QgZXh0ZW5zaW9uID0gaXNDdWJlbWFwID8gJ2N1YmUnIDogaXNHYWlubWFwID8gJ3dlYnAnIDogZmlyc3RFbnRyeS5zdGFydHNXaXRoKCdkYXRhOmFwcGxpY2F0aW9uL2V4cicpID8gJ2V4cicgOiBmaXJzdEVudHJ5LnN0YXJ0c1dpdGgoJ2RhdGE6YXBwbGljYXRpb24vaGRyJykgPyAnaGRyJyA6IGZpcnN0RW50cnkuc3RhcnRzV2l0aCgnZGF0YTppbWFnZS9qcGVnJykgPyAnanBnJyA6IChfZmlyc3RFbnRyeSRzcGxpdCRwb3AgPSBmaXJzdEVudHJ5LnNwbGl0KCcuJykucG9wKCkpID09IG51bGwgfHwgKF9maXJzdEVudHJ5JHNwbGl0JHBvcCA9IF9maXJzdEVudHJ5JHNwbGl0JHBvcC5zcGxpdCgnPycpKSA9PSBudWxsIHx8IChfZmlyc3RFbnRyeSRzcGxpdCRwb3AgPSBfZmlyc3RFbnRyeSRzcGxpdCRwb3Auc2hpZnQoKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9maXJzdEVudHJ5JHNwbGl0JHBvcC50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4ge1xuICAgIGV4dGVuc2lvbixcbiAgICBpc0N1YmVtYXAsXG4gICAgaXNHYWlubWFwXG4gIH07XG59XG5mdW5jdGlvbiBnZXRMb2FkZXIoZXh0ZW5zaW9uKSB7XG4gIGNvbnN0IGxvYWRlciA9IGV4dGVuc2lvbiA9PT0gJ2N1YmUnID8gQ3ViZVRleHR1cmVMb2FkZXIgOiBleHRlbnNpb24gPT09ICdoZHInID8gUkdCRUxvYWRlciA6IGV4dGVuc2lvbiA9PT0gJ2V4cicgPyBFWFJMb2FkZXIgOiBleHRlbnNpb24gPT09ICdqcGcnIHx8IGV4dGVuc2lvbiA9PT0gJ2pwZWcnID8gSERSSlBHTG9hZGVyIDogZXh0ZW5zaW9uID09PSAnd2VicCcgPyBHYWluTWFwTG9hZGVyIDogbnVsbDtcbiAgcmV0dXJuIGxvYWRlcjtcbn1cblxuZXhwb3J0IHsgdXNlRW52aXJvbm1lbnQgfTtcbiJdLCJuYW1lcyI6WyJ1c2VUaHJlZSIsInVzZUxvYWRlciIsIkN1YmVSZWZsZWN0aW9uTWFwcGluZyIsIkVxdWlyZWN0YW5ndWxhclJlZmxlY3Rpb25NYXBwaW5nIiwiQ3ViZVRleHR1cmVMb2FkZXIiLCJSR0JFTG9hZGVyIiwiRVhSTG9hZGVyIiwiSERSSlBHTG9hZGVyIiwiR2Fpbk1hcExvYWRlciIsInByZXNldHNPYmoiLCJ1c2VMYXlvdXRFZmZlY3QiLCJDVUJFTUFQX1JPT1QiLCJpc0FycmF5IiwiYXJyIiwiQXJyYXkiLCJkZWZhdWx0RmlsZXMiLCJ1c2VFbnZpcm9ubWVudCIsImZpbGVzIiwicGF0aCIsInByZXNldCIsInVuZGVmaW5lZCIsImNvbG9yU3BhY2UiLCJleHRlbnNpb25zIiwidmFsaWRhdGVQcmVzZXQiLCJtdWx0aUZpbGUiLCJleHRlbnNpb24iLCJpc0N1YmVtYXAiLCJnZXRFeHRlbnNpb24iLCJsb2FkZXIiLCJnZXRMb2FkZXIiLCJFcnJvciIsImdsIiwic3RhdGUiLCJjbGVhckdhaW5tYXBUZXh0dXJlIiwiY2xlYXIiLCJkb21FbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uY2UiLCJsb2FkZXJSZXN1bHQiLCJzZXRSZW5kZXJlciIsInNldFBhdGgiLCJ0ZXh0dXJlIiwiX3JlbmRlclRhcmdldCIsInJlbmRlclRhcmdldCIsIm1hcHBpbmciLCJwcmVsb2FkRGVmYXVsdE9wdGlvbnMiLCJwcmVsb2FkIiwicHJlbG9hZE9wdGlvbnMiLCJvcHRpb25zIiwiY2xlYXJEZWZhdWx0T3B0aW5zIiwiY2xlYXJPcHRpb25zIiwiT2JqZWN0Iiwia2V5cyIsImpvaW4iLCJfZmlyc3RFbnRyeSRzcGxpdCRwb3AiLCJsZW5ndGgiLCJpc0dhaW5tYXAiLCJzb21lIiwiZmlsZSIsImVuZHNXaXRoIiwiZmlyc3RFbnRyeSIsInN0YXJ0c1dpdGgiLCJzcGxpdCIsInBvcCIsInNoaWZ0IiwidG9Mb3dlckNhc2UiXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/core/useEnvironment.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/helpers/constants.js":
/*!*************************************************************!*\
  !*** ./node_modules/@react-three/drei/helpers/constants.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.core.js\");\n\nconst getVersion = ()=>parseInt(three__WEBPACK_IMPORTED_MODULE_0__.REVISION.replace(/\\D+/g, ''));\nconst version = /* @__PURE__ */ getVersion();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvaGVscGVycy9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBaUM7QUFFakMsTUFBTUMsYUFBYSxJQUFNQyxTQUFTRiwyQ0FBUUEsQ0FBQ0csT0FBTyxDQUFDLFFBQVE7QUFDM0QsTUFBTUMsVUFBVSxhQUFhLEdBQUVIO0FBRVoiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uYWthbXVyYS9naXQvM2Qvbm9kZV9tb2R1bGVzL0ByZWFjdC10aHJlZS9kcmVpL2hlbHBlcnMvY29uc3RhbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJFVklTSU9OIH0gZnJvbSAndGhyZWUnO1xuXG5jb25zdCBnZXRWZXJzaW9uID0gKCkgPT4gcGFyc2VJbnQoUkVWSVNJT04ucmVwbGFjZSgvXFxEKy9nLCAnJykpO1xuY29uc3QgdmVyc2lvbiA9IC8qIEBfX1BVUkVfXyAqL2dldFZlcnNpb24oKTtcblxuZXhwb3J0IHsgdmVyc2lvbiB9O1xuIl0sIm5hbWVzIjpbIlJFVklTSU9OIiwiZ2V0VmVyc2lvbiIsInBhcnNlSW50IiwicmVwbGFjZSIsInZlcnNpb24iXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/helpers/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/drei/helpers/environment-assets.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@react-three/drei/helpers/environment-assets.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   presetsObj: () => (/* binding */ presetsObj)\n/* harmony export */ });\nconst presetsObj = {\n    apartment: 'lebombo_1k.hdr',\n    city: 'potsdamer_platz_1k.hdr',\n    dawn: 'kiara_1_dawn_1k.hdr',\n    forest: 'forest_slope_1k.hdr',\n    lobby: 'st_fagans_interior_1k.hdr',\n    night: 'dikhololo_night_1k.hdr',\n    park: 'rooitou_park_1k.hdr',\n    studio: 'studio_small_03_1k.hdr',\n    sunset: 'venice_sunset_1k.hdr',\n    warehouse: 'empty_warehouse_01_1k.hdr'\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvaGVscGVycy9lbnZpcm9ubWVudC1hc3NldHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE1BQU1BLGFBQWE7SUFDakJDLFdBQVc7SUFDWEMsTUFBTTtJQUNOQyxNQUFNO0lBQ05DLFFBQVE7SUFDUkMsT0FBTztJQUNQQyxPQUFPO0lBQ1BDLE1BQU07SUFDTkMsUUFBUTtJQUNSQyxRQUFRO0lBQ1JDLFdBQVc7QUFDYjtBQUVzQiIsInNvdXJjZXMiOlsiL1VzZXJzL25ha2FtdXJhL2dpdC8zZC9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2RyZWkvaGVscGVycy9lbnZpcm9ubWVudC1hc3NldHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcHJlc2V0c09iaiA9IHtcbiAgYXBhcnRtZW50OiAnbGVib21ib18xay5oZHInLFxuICBjaXR5OiAncG90c2RhbWVyX3BsYXR6XzFrLmhkcicsXG4gIGRhd246ICdraWFyYV8xX2Rhd25fMWsuaGRyJyxcbiAgZm9yZXN0OiAnZm9yZXN0X3Nsb3BlXzFrLmhkcicsXG4gIGxvYmJ5OiAnc3RfZmFnYW5zX2ludGVyaW9yXzFrLmhkcicsXG4gIG5pZ2h0OiAnZGlraG9sb2xvX25pZ2h0XzFrLmhkcicsXG4gIHBhcms6ICdyb29pdG91X3BhcmtfMWsuaGRyJyxcbiAgc3R1ZGlvOiAnc3R1ZGlvX3NtYWxsXzAzXzFrLmhkcicsXG4gIHN1bnNldDogJ3ZlbmljZV9zdW5zZXRfMWsuaGRyJyxcbiAgd2FyZWhvdXNlOiAnZW1wdHlfd2FyZWhvdXNlXzAxXzFrLmhkcidcbn07XG5cbmV4cG9ydCB7IHByZXNldHNPYmogfTtcbiJdLCJuYW1lcyI6WyJwcmVzZXRzT2JqIiwiYXBhcnRtZW50IiwiY2l0eSIsImRhd24iLCJmb3Jlc3QiLCJsb2JieSIsIm5pZ2h0IiwicGFyayIsInN0dWRpbyIsInN1bnNldCIsIndhcmVob3VzZSJdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/drei/helpers/environment-assets.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/fiber/dist/events-e3cb66e2.esm.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@react-three/fiber/dist/events-e3cb66e2.esm.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (/* binding */ useStore),\n/* harmony export */   B: () => (/* binding */ Block),\n/* harmony export */   C: () => (/* binding */ useThree),\n/* harmony export */   D: () => (/* binding */ useFrame),\n/* harmony export */   E: () => (/* binding */ ErrorBoundary),\n/* harmony export */   F: () => (/* binding */ useGraph),\n/* harmony export */   G: () => (/* binding */ useLoader),\n/* harmony export */   _: () => (/* binding */ _roots),\n/* harmony export */   a: () => (/* binding */ useMutableCallback),\n/* harmony export */   b: () => (/* binding */ useIsomorphicLayoutEffect),\n/* harmony export */   c: () => (/* binding */ createRoot),\n/* harmony export */   d: () => (/* binding */ unmountComponentAtNode),\n/* harmony export */   e: () => (/* binding */ extend),\n/* harmony export */   f: () => (/* binding */ createPointerEvents),\n/* harmony export */   g: () => (/* binding */ createEvents),\n/* harmony export */   h: () => (/* binding */ flushGlobalEffects),\n/* harmony export */   i: () => (/* binding */ isRef),\n/* harmony export */   j: () => (/* binding */ addEffect),\n/* harmony export */   k: () => (/* binding */ addAfterEffect),\n/* harmony export */   l: () => (/* binding */ addTail),\n/* harmony export */   m: () => (/* binding */ invalidate),\n/* harmony export */   n: () => (/* binding */ advance),\n/* harmony export */   o: () => (/* binding */ createPortal),\n/* harmony export */   p: () => (/* binding */ flushSync),\n/* harmony export */   q: () => (/* binding */ context),\n/* harmony export */   r: () => (/* binding */ reconciler),\n/* harmony export */   s: () => (/* binding */ applyProps),\n/* harmony export */   t: () => (/* binding */ threeTypes),\n/* harmony export */   u: () => (/* binding */ useBridge),\n/* harmony export */   v: () => (/* binding */ getRootState),\n/* harmony export */   w: () => (/* binding */ dispose),\n/* harmony export */   x: () => (/* binding */ act),\n/* harmony export */   y: () => (/* binding */ buildGraph),\n/* harmony export */   z: () => (/* binding */ useInstanceHandle)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_reconciler_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-reconciler/constants */ \"(ssr)/./node_modules/react-reconciler/constants.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.core.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var zustand_traditional__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! zustand/traditional */ \"(ssr)/./node_modules/zustand/esm/traditional.mjs\");\n/* harmony import */ var suspend_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! suspend-react */ \"(ssr)/./node_modules/suspend-react/index.js\");\n/* harmony import */ var react_reconciler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-reconciler */ \"(ssr)/./node_modules/react-reconciler/index.js\");\n/* harmony import */ var react_reconciler__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_reconciler__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var scheduler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! scheduler */ \"(ssr)/./node_modules/scheduler/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var its_fine__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! its-fine */ \"(ssr)/./node_modules/its-fine/dist/index.js\");\n\n\n\n\n\n\n\n\n\nvar threeTypes = /*#__PURE__*/ Object.freeze({\n    __proto__: null\n});\n/**\r\n * Returns the instance's initial (outmost) root.\r\n */ function findInitialRoot(instance) {\n    let root = instance.root;\n    while(root.getState().previousRoot)root = root.getState().previousRoot;\n    return root;\n}\n/**\r\n * Safely flush async effects when testing, simulating a legacy root.\r\n * @deprecated Import from React instead. import { act } from 'react'\r\n */ // Reference with computed key to break Webpack static analysis\n// https://github.com/webpack/webpack/issues/14814\nconst act = react__WEBPACK_IMPORTED_MODULE_0__['act' + ''];\nconst isOrthographicCamera = (def)=>def && def.isOrthographicCamera;\nconst isRef = (obj)=>obj && obj.hasOwnProperty('current');\nconst isColorRepresentation = (value)=>value != null && (typeof value === 'string' || typeof value === 'number' || value.isColor);\n/**\r\n * An SSR-friendly useLayoutEffect.\r\n *\r\n * React currently throws a warning when using useLayoutEffect on the server.\r\n * To get around it, we can conditionally useEffect on the server (no-op) and\r\n * useLayoutEffect elsewhere.\r\n *\r\n * @see https://github.com/facebook/react/issues/14927\r\n */ const useIsomorphicLayoutEffect = /* @__PURE__ */ ((_window$document, _window$navigator)=> false && (0))() ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\nfunction useMutableCallback(fn) {\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(fn);\n    useIsomorphicLayoutEffect({\n        \"useMutableCallback.useIsomorphicLayoutEffect\": ()=>void (ref.current = fn)\n    }[\"useMutableCallback.useIsomorphicLayoutEffect\"], [\n        fn\n    ]);\n    return ref;\n}\n/**\r\n * Bridges renderer Context and StrictMode from a primary renderer.\r\n */ function useBridge() {\n    const fiber = (0,its_fine__WEBPACK_IMPORTED_MODULE_5__.useFiber)();\n    const ContextBridge = (0,its_fine__WEBPACK_IMPORTED_MODULE_5__.useContextBridge)();\n    return react__WEBPACK_IMPORTED_MODULE_0__.useMemo({\n        \"useBridge.useMemo\": ()=>({\n                \"useBridge.useMemo\": ({ children })=>{\n                    const strict = !!(0,its_fine__WEBPACK_IMPORTED_MODULE_5__.traverseFiber)(fiber, true, {\n                        \"useBridge.useMemo\": (node)=>node.type === react__WEBPACK_IMPORTED_MODULE_0__.StrictMode\n                    }[\"useBridge.useMemo\"]);\n                    const Root = strict ? react__WEBPACK_IMPORTED_MODULE_0__.StrictMode : react__WEBPACK_IMPORTED_MODULE_0__.Fragment;\n                    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Root, {\n                        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(ContextBridge, {\n                            children: children\n                        })\n                    });\n                }\n            })[\"useBridge.useMemo\"]\n    }[\"useBridge.useMemo\"], [\n        fiber,\n        ContextBridge\n    ]);\n}\nfunction Block({ set }) {\n    useIsomorphicLayoutEffect({\n        \"Block.useIsomorphicLayoutEffect\": ()=>{\n            set(new Promise({\n                \"Block.useIsomorphicLayoutEffect\": ()=>null\n            }[\"Block.useIsomorphicLayoutEffect\"]));\n            return ({\n                \"Block.useIsomorphicLayoutEffect\": ()=>set(false)\n            })[\"Block.useIsomorphicLayoutEffect\"];\n        }\n    }[\"Block.useIsomorphicLayoutEffect\"], [\n        set\n    ]);\n    return null;\n}\n// NOTE: static members get down-level transpiled to mutations which break tree-shaking\nconst ErrorBoundary = /* @__PURE__ */ ((_ErrorBoundary)=>(_ErrorBoundary = class ErrorBoundary extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n        constructor(...args){\n            super(...args);\n            this.state = {\n                error: false\n            };\n        }\n        componentDidCatch(err) {\n            this.props.set(err);\n        }\n        render() {\n            return this.state.error ? null : this.props.children;\n        }\n    }, _ErrorBoundary.getDerivedStateFromError = ()=>({\n            error: true\n        }), _ErrorBoundary))();\nfunction calculateDpr(dpr) {\n    var _window$devicePixelRa;\n    // Err on the side of progress by assuming 2x dpr if we can't detect it\n    // This will happen in workers where window is defined but dpr isn't.\n    const target =  false ? 0 : 1;\n    return Array.isArray(dpr) ? Math.min(Math.max(dpr[0], target), dpr[1]) : dpr;\n}\n/**\r\n * Returns instance root state\r\n */ function getRootState(obj) {\n    var _r3f;\n    return (_r3f = obj.__r3f) == null ? void 0 : _r3f.root.getState();\n}\n// A collection of compare functions\nconst is = {\n    obj: (a)=>a === Object(a) && !is.arr(a) && typeof a !== 'function',\n    fun: (a)=>typeof a === 'function',\n    str: (a)=>typeof a === 'string',\n    num: (a)=>typeof a === 'number',\n    boo: (a)=>typeof a === 'boolean',\n    und: (a)=>a === void 0,\n    nul: (a)=>a === null,\n    arr: (a)=>Array.isArray(a),\n    equ (a, b, { arrays = 'shallow', objects = 'reference', strict = true } = {}) {\n        // Wrong type or one of the two undefined, doesn't match\n        if (typeof a !== typeof b || !!a !== !!b) return false;\n        // Atomic, just compare a against b\n        if (is.str(a) || is.num(a) || is.boo(a)) return a === b;\n        const isObj = is.obj(a);\n        if (isObj && objects === 'reference') return a === b;\n        const isArr = is.arr(a);\n        if (isArr && arrays === 'reference') return a === b;\n        // Array or Object, shallow compare first to see if it's a match\n        if ((isArr || isObj) && a === b) return true;\n        // Last resort, go through keys\n        let i;\n        // Check if a has all the keys of b\n        for(i in a)if (!(i in b)) return false;\n        // Check if values between keys match\n        if (isObj && arrays === 'shallow' && objects === 'shallow') {\n            for(i in strict ? b : a)if (!is.equ(a[i], b[i], {\n                strict,\n                objects: 'reference'\n            })) return false;\n        } else {\n            for(i in strict ? b : a)if (a[i] !== b[i]) return false;\n        }\n        // If i is undefined\n        if (is.und(i)) {\n            // If both arrays are empty we consider them equal\n            if (isArr && a.length === 0 && b.length === 0) return true;\n            // If both objects are empty we consider them equal\n            if (isObj && Object.keys(a).length === 0 && Object.keys(b).length === 0) return true;\n            // Otherwise match them by value\n            if (a !== b) return false;\n        }\n        return true;\n    }\n};\n// Collects nodes and materials from a THREE.Object3D\nfunction buildGraph(object) {\n    const data = {\n        nodes: {},\n        materials: {},\n        meshes: {}\n    };\n    if (object) {\n        object.traverse((obj)=>{\n            if (obj.name) data.nodes[obj.name] = obj;\n            if (obj.material && !data.materials[obj.material.name]) data.materials[obj.material.name] = obj.material;\n            if (obj.isMesh && !data.meshes[obj.name]) data.meshes[obj.name] = obj;\n        });\n    }\n    return data;\n}\n// Disposes an object and all its properties\nfunction dispose(obj) {\n    if (obj.type !== 'Scene') obj.dispose == null ? void 0 : obj.dispose();\n    for(const p in obj){\n        const prop = obj[p];\n        if ((prop == null ? void 0 : prop.type) !== 'Scene') prop == null ? void 0 : prop.dispose == null ? void 0 : prop.dispose();\n    }\n}\nconst REACT_INTERNAL_PROPS = [\n    'children',\n    'key',\n    'ref'\n];\n// Gets only instance props from reconciler fibers\nfunction getInstanceProps(queue) {\n    const props = {};\n    for(const key in queue){\n        if (!REACT_INTERNAL_PROPS.includes(key)) props[key] = queue[key];\n    }\n    return props;\n}\n// Each object in the scene carries a small LocalState descriptor\nfunction prepare(target, root, type, props) {\n    const object = target;\n    // Create instance descriptor\n    let instance = object == null ? void 0 : object.__r3f;\n    if (!instance) {\n        instance = {\n            root,\n            type,\n            parent: null,\n            children: [],\n            props: getInstanceProps(props),\n            object,\n            eventCount: 0,\n            handlers: {},\n            isHidden: false\n        };\n        if (object) object.__r3f = instance;\n    }\n    return instance;\n}\nfunction resolve(root, key) {\n    let target = root[key];\n    if (!key.includes('-')) return {\n        root,\n        key,\n        target\n    };\n    // Resolve pierced target\n    target = root;\n    for (const part of key.split('-')){\n        var _target;\n        key = part;\n        root = target;\n        target = (_target = target) == null ? void 0 : _target[key];\n    }\n    // TODO: change key to 'foo-bar' if target is undefined?\n    return {\n        root,\n        key,\n        target\n    };\n}\n// Checks if a dash-cased string ends with an integer\nconst INDEX_REGEX = /-\\d+$/;\nfunction attach(parent, child) {\n    if (is.str(child.props.attach)) {\n        // If attaching into an array (foo-0), create one\n        if (INDEX_REGEX.test(child.props.attach)) {\n            const index = child.props.attach.replace(INDEX_REGEX, '');\n            const { root, key } = resolve(parent.object, index);\n            if (!Array.isArray(root[key])) root[key] = [];\n        }\n        const { root, key } = resolve(parent.object, child.props.attach);\n        child.previousAttach = root[key];\n        root[key] = child.object;\n    } else if (is.fun(child.props.attach)) {\n        child.previousAttach = child.props.attach(parent.object, child.object);\n    }\n}\nfunction detach(parent, child) {\n    if (is.str(child.props.attach)) {\n        const { root, key } = resolve(parent.object, child.props.attach);\n        const previous = child.previousAttach;\n        // When the previous value was undefined, it means the value was never set to begin with\n        if (previous === undefined) delete root[key];\n        else root[key] = previous;\n    } else {\n        child.previousAttach == null ? void 0 : child.previousAttach(parent.object, child.object);\n    }\n    delete child.previousAttach;\n}\nconst RESERVED_PROPS = [\n    ...REACT_INTERNAL_PROPS,\n    // Instance props\n    'args',\n    'dispose',\n    'attach',\n    'object',\n    'onUpdate',\n    // Behavior flags\n    'dispose'\n];\nconst MEMOIZED_PROTOTYPES = new Map();\nfunction getMemoizedPrototype(root) {\n    let ctor = MEMOIZED_PROTOTYPES.get(root.constructor);\n    try {\n        if (!ctor) {\n            ctor = new root.constructor();\n            MEMOIZED_PROTOTYPES.set(root.constructor, ctor);\n        }\n    } catch (e) {\n    // ...\n    }\n    return ctor;\n}\n// This function prepares a set of changes to be applied to the instance\nfunction diffProps(instance, newProps) {\n    const changedProps = {};\n    // Sort through props\n    for(const prop in newProps){\n        // Skip reserved keys\n        if (RESERVED_PROPS.includes(prop)) continue;\n        // Skip if props match\n        if (is.equ(newProps[prop], instance.props[prop])) continue;\n        // Props changed, add them\n        changedProps[prop] = newProps[prop];\n        // Reset pierced props\n        for(const other in newProps){\n            if (other.startsWith(`${prop}-`)) changedProps[other] = newProps[other];\n        }\n    }\n    // Reset removed props for HMR\n    for(const prop in instance.props){\n        if (RESERVED_PROPS.includes(prop) || newProps.hasOwnProperty(prop)) continue;\n        const { root, key } = resolve(instance.object, prop);\n        // https://github.com/mrdoob/three.js/issues/21209\n        // HMR/fast-refresh relies on the ability to cancel out props, but threejs\n        // has no means to do this. Hence we curate a small collection of value-classes\n        // with their respective constructor/set arguments\n        // For removed props, try to set default values, if possible\n        if (root.constructor && root.constructor.length === 0) {\n            // create a blank slate of the instance and copy the particular parameter.\n            const ctor = getMemoizedPrototype(root);\n            if (!is.und(ctor)) changedProps[key] = ctor[key];\n        } else {\n            // instance does not have constructor, just set it to 0\n            changedProps[key] = 0;\n        }\n    }\n    return changedProps;\n}\n// https://github.com/mrdoob/three.js/pull/27042\n// https://github.com/mrdoob/three.js/pull/22748\nconst colorMaps = [\n    'map',\n    'emissiveMap',\n    'sheenColorMap',\n    'specularColorMap',\n    'envMap'\n];\nconst EVENT_REGEX = /^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;\n// This function applies a set of changes to the instance\nfunction applyProps(object, props) {\n    var _instance$object;\n    const instance = object.__r3f;\n    const rootState = instance && findInitialRoot(instance).getState();\n    const prevHandlers = instance == null ? void 0 : instance.eventCount;\n    for(const prop in props){\n        let value = props[prop];\n        // Don't mutate reserved keys\n        if (RESERVED_PROPS.includes(prop)) continue;\n        // Deal with pointer events, including removing them if undefined\n        if (instance && EVENT_REGEX.test(prop)) {\n            if (typeof value === 'function') instance.handlers[prop] = value;\n            else delete instance.handlers[prop];\n            instance.eventCount = Object.keys(instance.handlers).length;\n            continue;\n        }\n        // Ignore setting undefined props\n        // https://github.com/pmndrs/react-three-fiber/issues/274\n        if (value === undefined) continue;\n        let { root, key, target } = resolve(object, prop);\n        // Layers must be written to the mask property\n        if (target instanceof three__WEBPACK_IMPORTED_MODULE_6__.Layers && value instanceof three__WEBPACK_IMPORTED_MODULE_6__.Layers) {\n            target.mask = value.mask;\n        } else if (target instanceof three__WEBPACK_IMPORTED_MODULE_6__.Color && isColorRepresentation(value)) {\n            target.set(value);\n        } else if (target !== null && typeof target === 'object' && typeof target.set === 'function' && typeof target.copy === 'function' && value != null && value.constructor && target.constructor === value.constructor) {\n            target.copy(value);\n        } else if (target !== null && typeof target === 'object' && typeof target.set === 'function' && Array.isArray(value)) {\n            if (typeof target.fromArray === 'function') target.fromArray(value);\n            else target.set(...value);\n        } else if (target !== null && typeof target === 'object' && typeof target.set === 'function' && typeof value === 'number') {\n            // Allow setting array scalars\n            if (typeof target.setScalar === 'function') target.setScalar(value);\n            else target.set(value);\n        } else {\n            var _root$key;\n            root[key] = value;\n            // Auto-convert sRGB texture parameters for built-in materials\n            // https://github.com/pmndrs/react-three-fiber/issues/344\n            // https://github.com/mrdoob/three.js/pull/25857\n            if (rootState && !rootState.linear && colorMaps.includes(key) && (_root$key = root[key]) != null && _root$key.isTexture && // sRGB textures must be RGBA8 since r137 https://github.com/mrdoob/three.js/pull/23129\n            root[key].format === three__WEBPACK_IMPORTED_MODULE_6__.RGBAFormat && root[key].type === three__WEBPACK_IMPORTED_MODULE_6__.UnsignedByteType) {\n                // NOTE: this cannot be set from the renderer (e.g. sRGB source textures rendered to P3)\n                root[key].colorSpace = three__WEBPACK_IMPORTED_MODULE_6__.SRGBColorSpace;\n            }\n        }\n    }\n    // Register event handlers\n    if (instance != null && instance.parent && rootState != null && rootState.internal && (_instance$object = instance.object) != null && _instance$object.isObject3D && prevHandlers !== instance.eventCount) {\n        const object = instance.object;\n        // Pre-emptively remove the instance from the interaction manager\n        const index = rootState.internal.interaction.indexOf(object);\n        if (index > -1) rootState.internal.interaction.splice(index, 1);\n        // Add the instance to the interaction manager only when it has handlers\n        if (instance.eventCount && object.raycast !== null) {\n            rootState.internal.interaction.push(object);\n        }\n    }\n    // Auto-attach geometries and materials\n    if (instance && instance.props.attach === undefined) {\n        if (instance.object.isBufferGeometry) instance.props.attach = 'geometry';\n        else if (instance.object.isMaterial) instance.props.attach = 'material';\n    }\n    // Instance was updated, request a frame\n    if (instance) invalidateInstance(instance);\n    return object;\n}\nfunction invalidateInstance(instance) {\n    var _instance$root;\n    if (!instance.parent) return;\n    instance.props.onUpdate == null ? void 0 : instance.props.onUpdate(instance.object);\n    const state = (_instance$root = instance.root) == null ? void 0 : _instance$root.getState == null ? void 0 : _instance$root.getState();\n    if (state && state.internal.frames === 0) state.invalidate();\n}\nfunction updateCamera(camera, size) {\n    // Do not mess with the camera if it belongs to the user\n    // https://github.com/pmndrs/react-three-fiber/issues/92\n    if (camera.manual) return;\n    if (isOrthographicCamera(camera)) {\n        camera.left = size.width / -2;\n        camera.right = size.width / 2;\n        camera.top = size.height / 2;\n        camera.bottom = size.height / -2;\n    } else {\n        camera.aspect = size.width / size.height;\n    }\n    camera.updateProjectionMatrix();\n}\nconst isObject3D = (object)=>object == null ? void 0 : object.isObject3D;\nfunction makeId(event) {\n    return (event.eventObject || event.object).uuid + '/' + event.index + event.instanceId;\n}\n/**\r\n * Release pointer captures.\r\n * This is called by releasePointerCapture in the API, and when an object is removed.\r\n */ function releaseInternalPointerCapture(capturedMap, obj, captures, pointerId) {\n    const captureData = captures.get(obj);\n    if (captureData) {\n        captures.delete(obj);\n        // If this was the last capturing object for this pointer\n        if (captures.size === 0) {\n            capturedMap.delete(pointerId);\n            captureData.target.releasePointerCapture(pointerId);\n        }\n    }\n}\nfunction removeInteractivity(store, object) {\n    const { internal } = store.getState();\n    // Removes every trace of an object from the data store\n    internal.interaction = internal.interaction.filter((o)=>o !== object);\n    internal.initialHits = internal.initialHits.filter((o)=>o !== object);\n    internal.hovered.forEach((value, key)=>{\n        if (value.eventObject === object || value.object === object) {\n            // Clear out intersects, they are outdated by now\n            internal.hovered.delete(key);\n        }\n    });\n    internal.capturedMap.forEach((captures, pointerId)=>{\n        releaseInternalPointerCapture(internal.capturedMap, object, captures, pointerId);\n    });\n}\nfunction createEvents(store) {\n    /** Calculates delta */ function calculateDistance(event) {\n        const { internal } = store.getState();\n        const dx = event.offsetX - internal.initialClick[0];\n        const dy = event.offsetY - internal.initialClick[1];\n        return Math.round(Math.sqrt(dx * dx + dy * dy));\n    }\n    /** Returns true if an instance has a valid pointer-event registered, this excludes scroll, clicks etc */ function filterPointerEvents(objects) {\n        return objects.filter((obj)=>[\n                'Move',\n                'Over',\n                'Enter',\n                'Out',\n                'Leave'\n            ].some((name)=>{\n                var _r3f;\n                return (_r3f = obj.__r3f) == null ? void 0 : _r3f.handlers['onPointer' + name];\n            }));\n    }\n    function intersect(event, filter) {\n        const state = store.getState();\n        const duplicates = new Set();\n        const intersections = [];\n        // Allow callers to eliminate event objects\n        const eventsObjects = filter ? filter(state.internal.interaction) : state.internal.interaction;\n        // Reset all raycaster cameras to undefined\n        for(let i = 0; i < eventsObjects.length; i++){\n            const state = getRootState(eventsObjects[i]);\n            if (state) {\n                state.raycaster.camera = undefined;\n            }\n        }\n        if (!state.previousRoot) {\n            // Make sure root-level pointer and ray are set up\n            state.events.compute == null ? void 0 : state.events.compute(event, state);\n        }\n        function handleRaycast(obj) {\n            const state = getRootState(obj);\n            // Skip event handling when noEvents is set, or when the raycasters camera is null\n            if (!state || !state.events.enabled || state.raycaster.camera === null) return [];\n            // When the camera is undefined we have to call the event layers update function\n            if (state.raycaster.camera === undefined) {\n                var _state$previousRoot;\n                state.events.compute == null ? void 0 : state.events.compute(event, state, (_state$previousRoot = state.previousRoot) == null ? void 0 : _state$previousRoot.getState());\n                // If the camera is still undefined we have to skip this layer entirely\n                if (state.raycaster.camera === undefined) state.raycaster.camera = null;\n            }\n            // Intersect object by object\n            return state.raycaster.camera ? state.raycaster.intersectObject(obj, true) : [];\n        }\n        // Collect events\n        let hits = eventsObjects// Intersect objects\n        .flatMap(handleRaycast)// Sort by event priority and distance\n        .sort((a, b)=>{\n            const aState = getRootState(a.object);\n            const bState = getRootState(b.object);\n            if (!aState || !bState) return a.distance - b.distance;\n            return bState.events.priority - aState.events.priority || a.distance - b.distance;\n        })// Filter out duplicates\n        .filter((item)=>{\n            const id = makeId(item);\n            if (duplicates.has(id)) return false;\n            duplicates.add(id);\n            return true;\n        });\n        // https://github.com/mrdoob/three.js/issues/16031\n        // Allow custom userland intersect sort order, this likely only makes sense on the root filter\n        if (state.events.filter) hits = state.events.filter(hits, state);\n        // Bubble up the events, find the event source (eventObject)\n        for (const hit of hits){\n            let eventObject = hit.object;\n            // Bubble event up\n            while(eventObject){\n                var _r3f2;\n                if ((_r3f2 = eventObject.__r3f) != null && _r3f2.eventCount) intersections.push({\n                    ...hit,\n                    eventObject\n                });\n                eventObject = eventObject.parent;\n            }\n        }\n        // If the interaction is captured, make all capturing targets part of the intersect.\n        if ('pointerId' in event && state.internal.capturedMap.has(event.pointerId)) {\n            for (let captureData of state.internal.capturedMap.get(event.pointerId).values()){\n                if (!duplicates.has(makeId(captureData.intersection))) intersections.push(captureData.intersection);\n            }\n        }\n        return intersections;\n    }\n    /**  Handles intersections by forwarding them to handlers */ function handleIntersects(intersections, event, delta, callback) {\n        // If anything has been found, forward it to the event listeners\n        if (intersections.length) {\n            const localState = {\n                stopped: false\n            };\n            for (const hit of intersections){\n                let state = getRootState(hit.object);\n                // If the object is not managed by R3F, it might be parented to an element which is.\n                // Traverse upwards until we find a managed parent and use its state instead.\n                if (!state) {\n                    hit.object.traverseAncestors((obj)=>{\n                        const parentState = getRootState(obj);\n                        if (parentState) {\n                            state = parentState;\n                            return false;\n                        }\n                    });\n                }\n                if (state) {\n                    const { raycaster, pointer, camera, internal } = state;\n                    const unprojectedPoint = new three__WEBPACK_IMPORTED_MODULE_6__.Vector3(pointer.x, pointer.y, 0).unproject(camera);\n                    const hasPointerCapture = (id)=>{\n                        var _internal$capturedMap, _internal$capturedMap2;\n                        return (_internal$capturedMap = (_internal$capturedMap2 = internal.capturedMap.get(id)) == null ? void 0 : _internal$capturedMap2.has(hit.eventObject)) != null ? _internal$capturedMap : false;\n                    };\n                    const setPointerCapture = (id)=>{\n                        const captureData = {\n                            intersection: hit,\n                            target: event.target\n                        };\n                        if (internal.capturedMap.has(id)) {\n                            // if the pointerId was previously captured, we add the hit to the\n                            // event capturedMap.\n                            internal.capturedMap.get(id).set(hit.eventObject, captureData);\n                        } else {\n                            // if the pointerId was not previously captured, we create a map\n                            // containing the hitObject, and the hit. hitObject is used for\n                            // faster access.\n                            internal.capturedMap.set(id, new Map([\n                                [\n                                    hit.eventObject,\n                                    captureData\n                                ]\n                            ]));\n                        }\n                        event.target.setPointerCapture(id);\n                    };\n                    const releasePointerCapture = (id)=>{\n                        const captures = internal.capturedMap.get(id);\n                        if (captures) {\n                            releaseInternalPointerCapture(internal.capturedMap, hit.eventObject, captures, id);\n                        }\n                    };\n                    // Add native event props\n                    let extractEventProps = {};\n                    // This iterates over the event's properties including the inherited ones. Native PointerEvents have most of their props as getters which are inherited, but polyfilled PointerEvents have them all as their own properties (i.e. not inherited). We can't use Object.keys() or Object.entries() as they only return \"own\" properties; nor Object.getPrototypeOf(event) as that *doesn't* return \"own\" properties, only inherited ones.\n                    for(let prop in event){\n                        let property = event[prop];\n                        // Only copy over atomics, leave functions alone as these should be\n                        // called as event.nativeEvent.fn()\n                        if (typeof property !== 'function') extractEventProps[prop] = property;\n                    }\n                    let raycastEvent = {\n                        ...hit,\n                        ...extractEventProps,\n                        pointer,\n                        intersections,\n                        stopped: localState.stopped,\n                        delta,\n                        unprojectedPoint,\n                        ray: raycaster.ray,\n                        camera: camera,\n                        // Hijack stopPropagation, which just sets a flag\n                        stopPropagation () {\n                            // https://github.com/pmndrs/react-three-fiber/issues/596\n                            // Events are not allowed to stop propagation if the pointer has been captured\n                            const capturesForPointer = 'pointerId' in event && internal.capturedMap.get(event.pointerId);\n                            // We only authorize stopPropagation...\n                            if (// ...if this pointer hasn't been captured\n                            !capturesForPointer || // ... or if the hit object is capturing the pointer\n                            capturesForPointer.has(hit.eventObject)) {\n                                raycastEvent.stopped = localState.stopped = true;\n                                // Propagation is stopped, remove all other hover records\n                                // An event handler is only allowed to flush other handlers if it is hovered itself\n                                if (internal.hovered.size && Array.from(internal.hovered.values()).find((i)=>i.eventObject === hit.eventObject)) {\n                                    // Objects cannot flush out higher up objects that have already caught the event\n                                    const higher = intersections.slice(0, intersections.indexOf(hit));\n                                    cancelPointer([\n                                        ...higher,\n                                        hit\n                                    ]);\n                                }\n                            }\n                        },\n                        // there should be a distinction between target and currentTarget\n                        target: {\n                            hasPointerCapture,\n                            setPointerCapture,\n                            releasePointerCapture\n                        },\n                        currentTarget: {\n                            hasPointerCapture,\n                            setPointerCapture,\n                            releasePointerCapture\n                        },\n                        nativeEvent: event\n                    };\n                    // Call subscribers\n                    callback(raycastEvent);\n                    // Event bubbling may be interrupted by stopPropagation\n                    if (localState.stopped === true) break;\n                }\n            }\n        }\n        return intersections;\n    }\n    function cancelPointer(intersections) {\n        const { internal } = store.getState();\n        for (const hoveredObj of internal.hovered.values()){\n            // When no objects were hit or the the hovered object wasn't found underneath the cursor\n            // we call onPointerOut and delete the object from the hovered-elements map\n            if (!intersections.length || !intersections.find((hit)=>hit.object === hoveredObj.object && hit.index === hoveredObj.index && hit.instanceId === hoveredObj.instanceId)) {\n                const eventObject = hoveredObj.eventObject;\n                const instance = eventObject.__r3f;\n                internal.hovered.delete(makeId(hoveredObj));\n                if (instance != null && instance.eventCount) {\n                    const handlers = instance.handlers;\n                    // Clear out intersects, they are outdated by now\n                    const data = {\n                        ...hoveredObj,\n                        intersections\n                    };\n                    handlers.onPointerOut == null ? void 0 : handlers.onPointerOut(data);\n                    handlers.onPointerLeave == null ? void 0 : handlers.onPointerLeave(data);\n                }\n            }\n        }\n    }\n    function pointerMissed(event, objects) {\n        for(let i = 0; i < objects.length; i++){\n            const instance = objects[i].__r3f;\n            instance == null ? void 0 : instance.handlers.onPointerMissed == null ? void 0 : instance.handlers.onPointerMissed(event);\n        }\n    }\n    function handlePointer(name) {\n        // Deal with cancelation\n        switch(name){\n            case 'onPointerLeave':\n            case 'onPointerCancel':\n                return ()=>cancelPointer([]);\n            case 'onLostPointerCapture':\n                return (event)=>{\n                    const { internal } = store.getState();\n                    if ('pointerId' in event && internal.capturedMap.has(event.pointerId)) {\n                        // If the object event interface had onLostPointerCapture, we'd call it here on every\n                        // object that's getting removed. We call it on the next frame because onLostPointerCapture\n                        // fires before onPointerUp. Otherwise pointerUp would never be called if the event didn't\n                        // happen in the object it originated from, leaving components in a in-between state.\n                        requestAnimationFrame(()=>{\n                            // Only release if pointer-up didn't do it already\n                            if (internal.capturedMap.has(event.pointerId)) {\n                                internal.capturedMap.delete(event.pointerId);\n                                cancelPointer([]);\n                            }\n                        });\n                    }\n                };\n        }\n        // Any other pointer goes here ...\n        return function handleEvent(event) {\n            const { onPointerMissed, internal } = store.getState();\n            // prepareRay(event)\n            internal.lastEvent.current = event;\n            // Get fresh intersects\n            const isPointerMove = name === 'onPointerMove';\n            const isClickEvent = name === 'onClick' || name === 'onContextMenu' || name === 'onDoubleClick';\n            const filter = isPointerMove ? filterPointerEvents : undefined;\n            const hits = intersect(event, filter);\n            const delta = isClickEvent ? calculateDistance(event) : 0;\n            // Save initial coordinates on pointer-down\n            if (name === 'onPointerDown') {\n                internal.initialClick = [\n                    event.offsetX,\n                    event.offsetY\n                ];\n                internal.initialHits = hits.map((hit)=>hit.eventObject);\n            }\n            // If a click yields no results, pass it back to the user as a miss\n            // Missed events have to come first in order to establish user-land side-effect clean up\n            if (isClickEvent && !hits.length) {\n                if (delta <= 2) {\n                    pointerMissed(event, internal.interaction);\n                    if (onPointerMissed) onPointerMissed(event);\n                }\n            }\n            // Take care of unhover\n            if (isPointerMove) cancelPointer(hits);\n            function onIntersect(data) {\n                const eventObject = data.eventObject;\n                const instance = eventObject.__r3f;\n                // Check presence of handlers\n                if (!(instance != null && instance.eventCount)) return;\n                const handlers = instance.handlers;\n                /*\r\n        MAYBE TODO, DELETE IF NOT: \r\n          Check if the object is captured, captured events should not have intersects running in parallel\r\n          But wouldn't it be better to just replace capturedMap with a single entry?\r\n          Also, are we OK with straight up making picking up multiple objects impossible?\r\n          \r\n        const pointerId = (data as ThreeEvent<PointerEvent>).pointerId        \r\n        if (pointerId !== undefined) {\r\n          const capturedMeshSet = internal.capturedMap.get(pointerId)\r\n          if (capturedMeshSet) {\r\n            const captured = capturedMeshSet.get(eventObject)\r\n            if (captured && captured.localState.stopped) return\r\n          }\r\n        }*/ if (isPointerMove) {\n                    // Move event ...\n                    if (handlers.onPointerOver || handlers.onPointerEnter || handlers.onPointerOut || handlers.onPointerLeave) {\n                        // When enter or out is present take care of hover-state\n                        const id = makeId(data);\n                        const hoveredItem = internal.hovered.get(id);\n                        if (!hoveredItem) {\n                            // If the object wasn't previously hovered, book it and call its handler\n                            internal.hovered.set(id, data);\n                            handlers.onPointerOver == null ? void 0 : handlers.onPointerOver(data);\n                            handlers.onPointerEnter == null ? void 0 : handlers.onPointerEnter(data);\n                        } else if (hoveredItem.stopped) {\n                            // If the object was previously hovered and stopped, we shouldn't allow other items to proceed\n                            data.stopPropagation();\n                        }\n                    }\n                    // Call mouse move\n                    handlers.onPointerMove == null ? void 0 : handlers.onPointerMove(data);\n                } else {\n                    // All other events ...\n                    const handler = handlers[name];\n                    if (handler) {\n                        // Forward all events back to their respective handlers with the exception of click events,\n                        // which must use the initial target\n                        if (!isClickEvent || internal.initialHits.includes(eventObject)) {\n                            // Missed events have to come first\n                            pointerMissed(event, internal.interaction.filter((object)=>!internal.initialHits.includes(object)));\n                            // Now call the handler\n                            handler(data);\n                        }\n                    } else {\n                        // Trigger onPointerMissed on all elements that have pointer over/out handlers, but not click and weren't hit\n                        if (isClickEvent && internal.initialHits.includes(eventObject)) {\n                            pointerMissed(event, internal.interaction.filter((object)=>!internal.initialHits.includes(object)));\n                        }\n                    }\n                }\n            }\n            handleIntersects(hits, event, delta, onIntersect);\n        };\n    }\n    return {\n        handlePointer\n    };\n}\nconst isRenderer = (def)=>!!(def != null && def.render);\nconst context = /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst createStore = (invalidate, advance)=>{\n    const rootStore = (0,zustand_traditional__WEBPACK_IMPORTED_MODULE_7__.createWithEqualityFn)((set, get)=>{\n        const position = new three__WEBPACK_IMPORTED_MODULE_6__.Vector3();\n        const defaultTarget = new three__WEBPACK_IMPORTED_MODULE_6__.Vector3();\n        const tempTarget = new three__WEBPACK_IMPORTED_MODULE_6__.Vector3();\n        function getCurrentViewport(camera = get().camera, target = defaultTarget, size = get().size) {\n            const { width, height, top, left } = size;\n            const aspect = width / height;\n            if (target.isVector3) tempTarget.copy(target);\n            else tempTarget.set(...target);\n            const distance = camera.getWorldPosition(position).distanceTo(tempTarget);\n            if (isOrthographicCamera(camera)) {\n                return {\n                    width: width / camera.zoom,\n                    height: height / camera.zoom,\n                    top,\n                    left,\n                    factor: 1,\n                    distance,\n                    aspect\n                };\n            } else {\n                const fov = camera.fov * Math.PI / 180; // convert vertical fov to radians\n                const h = 2 * Math.tan(fov / 2) * distance; // visible height\n                const w = h * (width / height);\n                return {\n                    width: w,\n                    height: h,\n                    top,\n                    left,\n                    factor: width / w,\n                    distance,\n                    aspect\n                };\n            }\n        }\n        let performanceTimeout = undefined;\n        const setPerformanceCurrent = (current)=>set((state)=>({\n                    performance: {\n                        ...state.performance,\n                        current\n                    }\n                }));\n        const pointer = new three__WEBPACK_IMPORTED_MODULE_6__.Vector2();\n        const rootState = {\n            set,\n            get,\n            // Mock objects that have to be configured\n            gl: null,\n            camera: null,\n            raycaster: null,\n            events: {\n                priority: 1,\n                enabled: true,\n                connected: false\n            },\n            scene: null,\n            xr: null,\n            invalidate: (frames = 1)=>invalidate(get(), frames),\n            advance: (timestamp, runGlobalEffects)=>advance(timestamp, runGlobalEffects, get()),\n            legacy: false,\n            linear: false,\n            flat: false,\n            controls: null,\n            clock: new three__WEBPACK_IMPORTED_MODULE_6__.Clock(),\n            pointer,\n            mouse: pointer,\n            frameloop: 'always',\n            onPointerMissed: undefined,\n            performance: {\n                current: 1,\n                min: 0.5,\n                max: 1,\n                debounce: 200,\n                regress: ()=>{\n                    const state = get();\n                    // Clear timeout\n                    if (performanceTimeout) clearTimeout(performanceTimeout);\n                    // Set lower bound performance\n                    if (state.performance.current !== state.performance.min) setPerformanceCurrent(state.performance.min);\n                    // Go back to upper bound performance after a while unless something regresses meanwhile\n                    performanceTimeout = setTimeout(()=>setPerformanceCurrent(get().performance.max), state.performance.debounce);\n                }\n            },\n            size: {\n                width: 0,\n                height: 0,\n                top: 0,\n                left: 0\n            },\n            viewport: {\n                initialDpr: 0,\n                dpr: 0,\n                width: 0,\n                height: 0,\n                top: 0,\n                left: 0,\n                aspect: 0,\n                distance: 0,\n                factor: 0,\n                getCurrentViewport\n            },\n            setEvents: (events)=>set((state)=>({\n                        ...state,\n                        events: {\n                            ...state.events,\n                            ...events\n                        }\n                    })),\n            setSize: (width, height, top = 0, left = 0)=>{\n                const camera = get().camera;\n                const size = {\n                    width,\n                    height,\n                    top,\n                    left\n                };\n                set((state)=>({\n                        size,\n                        viewport: {\n                            ...state.viewport,\n                            ...getCurrentViewport(camera, defaultTarget, size)\n                        }\n                    }));\n            },\n            setDpr: (dpr)=>set((state)=>{\n                    const resolved = calculateDpr(dpr);\n                    return {\n                        viewport: {\n                            ...state.viewport,\n                            dpr: resolved,\n                            initialDpr: state.viewport.initialDpr || resolved\n                        }\n                    };\n                }),\n            setFrameloop: (frameloop = 'always')=>{\n                const clock = get().clock;\n                // if frameloop === \"never\" clock.elapsedTime is updated using advance(timestamp)\n                clock.stop();\n                clock.elapsedTime = 0;\n                if (frameloop !== 'never') {\n                    clock.start();\n                    clock.elapsedTime = 0;\n                }\n                set(()=>({\n                        frameloop\n                    }));\n            },\n            previousRoot: undefined,\n            internal: {\n                // Events\n                interaction: [],\n                hovered: new Map(),\n                subscribers: [],\n                initialClick: [\n                    0,\n                    0\n                ],\n                initialHits: [],\n                capturedMap: new Map(),\n                lastEvent: /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createRef(),\n                // Updates\n                active: false,\n                frames: 0,\n                priority: 0,\n                subscribe: (ref, priority, store)=>{\n                    const internal = get().internal;\n                    // If this subscription was given a priority, it takes rendering into its own hands\n                    // For that reason we switch off automatic rendering and increase the manual flag\n                    // As long as this flag is positive there can be no internal rendering at all\n                    // because there could be multiple render subscriptions\n                    internal.priority = internal.priority + (priority > 0 ? 1 : 0);\n                    internal.subscribers.push({\n                        ref,\n                        priority,\n                        store\n                    });\n                    // Register subscriber and sort layers from lowest to highest, meaning,\n                    // highest priority renders last (on top of the other frames)\n                    internal.subscribers = internal.subscribers.sort((a, b)=>a.priority - b.priority);\n                    return ()=>{\n                        const internal = get().internal;\n                        if (internal != null && internal.subscribers) {\n                            // Decrease manual flag if this subscription had a priority\n                            internal.priority = internal.priority - (priority > 0 ? 1 : 0);\n                            // Remove subscriber from list\n                            internal.subscribers = internal.subscribers.filter((s)=>s.ref !== ref);\n                        }\n                    };\n                }\n            }\n        };\n        return rootState;\n    });\n    const state = rootStore.getState();\n    let oldSize = state.size;\n    let oldDpr = state.viewport.dpr;\n    let oldCamera = state.camera;\n    rootStore.subscribe(()=>{\n        const { camera, size, viewport, gl, set } = rootStore.getState();\n        // Resize camera and renderer on changes to size and pixelratio\n        if (size.width !== oldSize.width || size.height !== oldSize.height || viewport.dpr !== oldDpr) {\n            oldSize = size;\n            oldDpr = viewport.dpr;\n            // Update camera & renderer\n            updateCamera(camera, size);\n            if (viewport.dpr > 0) gl.setPixelRatio(viewport.dpr);\n            const updateStyle = typeof HTMLCanvasElement !== 'undefined' && gl.domElement instanceof HTMLCanvasElement;\n            gl.setSize(size.width, size.height, updateStyle);\n        }\n        // Update viewport once the camera changes\n        if (camera !== oldCamera) {\n            oldCamera = camera;\n            // Update viewport\n            set((state)=>({\n                    viewport: {\n                        ...state.viewport,\n                        ...state.viewport.getCurrentViewport(camera)\n                    }\n                }));\n        }\n    });\n    // Invalidate on any change\n    rootStore.subscribe((state)=>invalidate(state));\n    // Return root state\n    return rootStore;\n};\n/**\r\n * Exposes an object's {@link Instance}.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/additional-exports#useInstanceHandle\r\n *\r\n * **Note**: this is an escape hatch to react-internal fields. Expect this to change significantly between versions.\r\n */ function useInstanceHandle(ref) {\n    const instance = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(instance, {\n        \"useInstanceHandle.useImperativeHandle\": ()=>ref.current.__r3f\n    }[\"useInstanceHandle.useImperativeHandle\"], [\n        ref\n    ]);\n    return instance;\n}\n/**\r\n * Returns the R3F Canvas' Zustand store. Useful for [transient updates](https://github.com/pmndrs/zustand#transient-updates-for-often-occurring-state-changes).\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/hooks#usestore\r\n */ function useStore() {\n    const store = react__WEBPACK_IMPORTED_MODULE_0__.useContext(context);\n    if (!store) throw new Error('R3F: Hooks can only be used within the Canvas component!');\n    return store;\n}\n/**\r\n * Accesses R3F's internal state, containing renderer, canvas, scene, etc.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/hooks#usethree\r\n */ function useThree(selector = (state)=>state, equalityFn) {\n    return useStore()(selector, equalityFn);\n}\n/**\r\n * Executes a callback before render in a shared frame loop.\r\n * Can order effects with render priority or manually render with a positive priority.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/hooks#useframe\r\n */ function useFrame(callback, renderPriority = 0) {\n    const store = useStore();\n    const subscribe = store.getState().internal.subscribe;\n    // Memoize ref\n    const ref = useMutableCallback(callback);\n    // Subscribe on mount, unsubscribe on unmount\n    useIsomorphicLayoutEffect({\n        \"useFrame.useIsomorphicLayoutEffect\": ()=>subscribe(ref, renderPriority, store)\n    }[\"useFrame.useIsomorphicLayoutEffect\"], [\n        renderPriority,\n        subscribe,\n        store\n    ]);\n    return null;\n}\n/**\r\n * Returns a node graph of an object with named nodes & materials.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/hooks#usegraph\r\n */ function useGraph(object) {\n    return react__WEBPACK_IMPORTED_MODULE_0__.useMemo({\n        \"useGraph.useMemo\": ()=>buildGraph(object)\n    }[\"useGraph.useMemo\"], [\n        object\n    ]);\n}\nconst memoizedLoaders = new WeakMap();\nconst isConstructor$1 = (value)=>{\n    var _value$prototype;\n    return typeof value === 'function' && (value == null ? void 0 : (_value$prototype = value.prototype) == null ? void 0 : _value$prototype.constructor) === value;\n};\nfunction loadingFn(extensions, onProgress) {\n    return function(Proto, ...input) {\n        let loader;\n        // Construct and cache loader if constructor was passed\n        if (isConstructor$1(Proto)) {\n            loader = memoizedLoaders.get(Proto);\n            if (!loader) {\n                loader = new Proto();\n                memoizedLoaders.set(Proto, loader);\n            }\n        } else {\n            loader = Proto;\n        }\n        // Apply loader extensions\n        if (extensions) extensions(loader);\n        // Go through the urls and load them\n        return Promise.all(input.map((input)=>new Promise((res, reject)=>loader.load(input, (data)=>{\n                    if (isObject3D(data == null ? void 0 : data.scene)) Object.assign(data, buildGraph(data.scene));\n                    res(data);\n                }, onProgress, (error)=>reject(new Error(`Could not load ${input}: ${error == null ? void 0 : error.message}`))))));\n    };\n}\n/**\r\n * Synchronously loads and caches assets with a three loader.\r\n *\r\n * Note: this hook's caller must be wrapped with `React.Suspense`\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/hooks#useloader\r\n */ function useLoader(loader, input, extensions, onProgress) {\n    // Use suspense to load async assets\n    const keys = Array.isArray(input) ? input : [\n        input\n    ];\n    const results = (0,suspend_react__WEBPACK_IMPORTED_MODULE_8__.suspend)(loadingFn(extensions, onProgress), [\n        loader,\n        ...keys\n    ], {\n        equal: is.equ\n    });\n    // Return the object(s)\n    return Array.isArray(input) ? results : results[0];\n}\n/**\r\n * Preloads an asset into cache as a side-effect.\r\n */ useLoader.preload = function(loader, input, extensions) {\n    const keys = Array.isArray(input) ? input : [\n        input\n    ];\n    return (0,suspend_react__WEBPACK_IMPORTED_MODULE_8__.preload)(loadingFn(extensions), [\n        loader,\n        ...keys\n    ]);\n};\n/**\r\n * Removes a loaded asset from cache.\r\n */ useLoader.clear = function(loader, input) {\n    const keys = Array.isArray(input) ? input : [\n        input\n    ];\n    return (0,suspend_react__WEBPACK_IMPORTED_MODULE_8__.clear)([\n        loader,\n        ...keys\n    ]);\n};\nfunction createReconciler(config) {\n    const reconciler = react_reconciler__WEBPACK_IMPORTED_MODULE_2___default()(config);\n    reconciler.injectIntoDevTools({\n        bundleType: typeof process !== 'undefined' && \"development\" !== 'production' ? 1 : 0,\n        rendererPackageName: '@react-three/fiber',\n        version: react__WEBPACK_IMPORTED_MODULE_0__.version\n    });\n    return reconciler;\n}\nconst NoEventPriority = 0;\n// TODO: handle constructor overloads\n// https://github.com/pmndrs/react-three-fiber/pull/2931\n// https://github.com/microsoft/TypeScript/issues/37079\nconst catalogue = {};\nconst PREFIX_REGEX = /^three(?=[A-Z])/;\nconst toPascalCase = (type)=>`${type[0].toUpperCase()}${type.slice(1)}`;\nlet i = 0;\nconst isConstructor = (object)=>typeof object === 'function';\nfunction extend(objects) {\n    if (isConstructor(objects)) {\n        const Component = `${i++}`;\n        catalogue[Component] = objects;\n        return Component;\n    } else {\n        Object.assign(catalogue, objects);\n    }\n}\nfunction validateInstance(type, props) {\n    // Get target from catalogue\n    const name = toPascalCase(type);\n    const target = catalogue[name];\n    // Validate element target\n    if (type !== 'primitive' && !target) throw new Error(`R3F: ${name} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);\n    // Validate primitives\n    if (type === 'primitive' && !props.object) throw new Error(`R3F: Primitives without 'object' are invalid!`);\n    // Throw if an object or literal was passed for args\n    if (props.args !== undefined && !Array.isArray(props.args)) throw new Error('R3F: The args prop must be an array!');\n}\nfunction createInstance(type, props, root) {\n    var _props$object;\n    // Remove three* prefix from elements if native element not present\n    type = toPascalCase(type) in catalogue ? type : type.replace(PREFIX_REGEX, '');\n    validateInstance(type, props);\n    // Regenerate the R3F instance for primitives to simulate a new object\n    if (type === 'primitive' && (_props$object = props.object) != null && _props$object.__r3f) delete props.object.__r3f;\n    return prepare(props.object, root, type, props);\n}\nfunction hideInstance(instance) {\n    if (!instance.isHidden) {\n        var _instance$parent;\n        if (instance.props.attach && (_instance$parent = instance.parent) != null && _instance$parent.object) {\n            detach(instance.parent, instance);\n        } else if (isObject3D(instance.object)) {\n            instance.object.visible = false;\n        }\n        instance.isHidden = true;\n        invalidateInstance(instance);\n    }\n}\nfunction unhideInstance(instance) {\n    if (instance.isHidden) {\n        var _instance$parent2;\n        if (instance.props.attach && (_instance$parent2 = instance.parent) != null && _instance$parent2.object) {\n            attach(instance.parent, instance);\n        } else if (isObject3D(instance.object) && instance.props.visible !== false) {\n            instance.object.visible = true;\n        }\n        instance.isHidden = false;\n        invalidateInstance(instance);\n    }\n}\n// https://github.com/facebook/react/issues/20271\n// This will make sure events and attach are only handled once when trees are complete\nfunction handleContainerEffects(parent, child, beforeChild) {\n    // Bail if tree isn't mounted or parent is not a container.\n    // This ensures that the tree is finalized and React won't discard results to Suspense\n    const state = child.root.getState();\n    if (!parent.parent && parent.object !== state.scene) return;\n    // Create & link object on first run\n    if (!child.object) {\n        var _child$props$object, _child$props$args;\n        // Get target from catalogue\n        const target = catalogue[toPascalCase(child.type)];\n        // Create object\n        child.object = (_child$props$object = child.props.object) != null ? _child$props$object : new target(...(_child$props$args = child.props.args) != null ? _child$props$args : []);\n        child.object.__r3f = child;\n    }\n    // Set initial props\n    applyProps(child.object, child.props);\n    // Append instance\n    if (child.props.attach) {\n        attach(parent, child);\n    } else if (isObject3D(child.object) && isObject3D(parent.object)) {\n        const childIndex = parent.object.children.indexOf(beforeChild == null ? void 0 : beforeChild.object);\n        if (beforeChild && childIndex !== -1) {\n            // If the child is already in the parent's children array, move it to the new position\n            // Otherwise, just insert it at the target position\n            const existingIndex = parent.object.children.indexOf(child.object);\n            if (existingIndex !== -1) {\n                parent.object.children.splice(existingIndex, 1);\n                const adjustedIndex = existingIndex < childIndex ? childIndex - 1 : childIndex;\n                parent.object.children.splice(adjustedIndex, 0, child.object);\n            } else {\n                child.object.parent = parent.object;\n                parent.object.children.splice(childIndex, 0, child.object);\n                child.object.dispatchEvent({\n                    type: 'added'\n                });\n                parent.object.dispatchEvent({\n                    type: 'childadded',\n                    child: child.object\n                });\n            }\n        } else {\n            parent.object.add(child.object);\n        }\n    }\n    // Link subtree\n    for (const childInstance of child.children)handleContainerEffects(child, childInstance);\n    // Tree was updated, request a frame\n    invalidateInstance(child);\n}\nfunction appendChild(parent, child) {\n    if (!child) return;\n    // Link instances\n    child.parent = parent;\n    parent.children.push(child);\n    // Attach tree once complete\n    handleContainerEffects(parent, child);\n}\nfunction insertBefore(parent, child, beforeChild) {\n    if (!child || !beforeChild) return;\n    // Link instances\n    child.parent = parent;\n    const childIndex = parent.children.indexOf(beforeChild);\n    if (childIndex !== -1) parent.children.splice(childIndex, 0, child);\n    else parent.children.push(child);\n    // Attach tree once complete\n    handleContainerEffects(parent, child, beforeChild);\n}\nfunction disposeOnIdle(object) {\n    if (typeof object.dispose === 'function') {\n        const handleDispose = ()=>{\n            try {\n                object.dispose();\n            } catch  {\n            // no-op\n            }\n        };\n        // In a testing environment, cleanup immediately\n        if (typeof IS_REACT_ACT_ENVIRONMENT !== 'undefined') handleDispose();\n        else (0,scheduler__WEBPACK_IMPORTED_MODULE_3__.unstable_scheduleCallback)(scheduler__WEBPACK_IMPORTED_MODULE_3__.unstable_IdlePriority, handleDispose);\n    }\n}\nfunction removeChild(parent, child, dispose) {\n    if (!child) return;\n    // Unlink instances\n    child.parent = null;\n    const childIndex = parent.children.indexOf(child);\n    if (childIndex !== -1) parent.children.splice(childIndex, 1);\n    // Eagerly tear down tree\n    if (child.props.attach) {\n        detach(parent, child);\n    } else if (isObject3D(child.object) && isObject3D(parent.object)) {\n        parent.object.remove(child.object);\n        removeInteractivity(findInitialRoot(child), child.object);\n    }\n    // Allow objects to bail out of unmount disposal with dispose={null}\n    const shouldDispose = child.props.dispose !== null && dispose !== false;\n    // Recursively remove instance children\n    for(let i = child.children.length - 1; i >= 0; i--){\n        const node = child.children[i];\n        removeChild(child, node, shouldDispose);\n    }\n    child.children.length = 0;\n    // Unlink instance object\n    delete child.object.__r3f;\n    // Dispose object whenever the reconciler feels like it.\n    // Never dispose of primitives because their state may be kept outside of React!\n    // In order for an object to be able to dispose it\n    //   - has a dispose method\n    //   - cannot be a <primitive object={...} />\n    //   - cannot be a THREE.Scene, because three has broken its own API\n    if (shouldDispose && child.type !== 'primitive' && child.object.type !== 'Scene') {\n        disposeOnIdle(child.object);\n    }\n    // Tree was updated, request a frame for top-level instance\n    if (dispose === undefined) invalidateInstance(child);\n}\nfunction setFiberRef(fiber, publicInstance) {\n    for (const _fiber of [\n        fiber,\n        fiber.alternate\n    ]){\n        if (_fiber !== null) {\n            if (typeof _fiber.ref === 'function') {\n                _fiber.refCleanup == null ? void 0 : _fiber.refCleanup();\n                const cleanup = _fiber.ref(publicInstance);\n                if (typeof cleanup === 'function') _fiber.refCleanup = cleanup;\n            } else if (_fiber.ref) {\n                _fiber.ref.current = publicInstance;\n            }\n        }\n    }\n}\nconst reconstructed = [];\nfunction swapInstances() {\n    // Detach instance\n    for (const [instance] of reconstructed){\n        const parent = instance.parent;\n        if (parent) {\n            if (instance.props.attach) {\n                detach(parent, instance);\n            } else if (isObject3D(instance.object) && isObject3D(parent.object)) {\n                parent.object.remove(instance.object);\n            }\n            for (const child of instance.children){\n                if (child.props.attach) {\n                    detach(instance, child);\n                } else if (isObject3D(child.object) && isObject3D(instance.object)) {\n                    instance.object.remove(child.object);\n                }\n            }\n        }\n        // If the old instance is hidden, we need to unhide it.\n        // React assumes it can discard instances since they're pure for DOM.\n        // This isn't true for us since our lifetimes are impure and longliving.\n        // So, we manually check if an instance was hidden and unhide it.\n        if (instance.isHidden) unhideInstance(instance);\n        // Dispose of old object if able\n        if (instance.object.__r3f) delete instance.object.__r3f;\n        if (instance.type !== 'primitive') disposeOnIdle(instance.object);\n    }\n    // Update instance\n    for (const [instance, props, fiber] of reconstructed){\n        instance.props = props;\n        const parent = instance.parent;\n        if (parent) {\n            var _instance$props$objec, _instance$props$args;\n            // Get target from catalogue\n            const target = catalogue[toPascalCase(instance.type)];\n            // Create object\n            instance.object = (_instance$props$objec = instance.props.object) != null ? _instance$props$objec : new target(...(_instance$props$args = instance.props.args) != null ? _instance$props$args : []);\n            instance.object.__r3f = instance;\n            setFiberRef(fiber, instance.object);\n            // Set initial props\n            applyProps(instance.object, instance.props);\n            if (instance.props.attach) {\n                attach(parent, instance);\n            } else if (isObject3D(instance.object) && isObject3D(parent.object)) {\n                parent.object.add(instance.object);\n            }\n            for (const child of instance.children){\n                if (child.props.attach) {\n                    attach(instance, child);\n                } else if (isObject3D(child.object) && isObject3D(instance.object)) {\n                    instance.object.add(child.object);\n                }\n            }\n            // Tree was updated, request a frame\n            invalidateInstance(instance);\n        }\n    }\n    reconstructed.length = 0;\n}\n// Don't handle text instances, make it no-op\nconst handleTextInstance = ()=>{};\nconst NO_CONTEXT = {};\nlet currentUpdatePriority = NoEventPriority;\n// https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactFiberFlags.js\nconst NoFlags = 0;\nconst Update = 4;\nconst reconciler = /* @__PURE__ */ createReconciler({\n    isPrimaryRenderer: false,\n    warnsIfNotActing: false,\n    supportsMutation: true,\n    supportsPersistence: false,\n    supportsHydration: false,\n    createInstance,\n    removeChild,\n    appendChild,\n    appendInitialChild: appendChild,\n    insertBefore,\n    appendChildToContainer (container, child) {\n        const scene = container.getState().scene.__r3f;\n        if (!child || !scene) return;\n        appendChild(scene, child);\n    },\n    removeChildFromContainer (container, child) {\n        const scene = container.getState().scene.__r3f;\n        if (!child || !scene) return;\n        removeChild(scene, child);\n    },\n    insertInContainerBefore (container, child, beforeChild) {\n        const scene = container.getState().scene.__r3f;\n        if (!child || !beforeChild || !scene) return;\n        insertBefore(scene, child, beforeChild);\n    },\n    getRootHostContext: ()=>NO_CONTEXT,\n    getChildHostContext: ()=>NO_CONTEXT,\n    commitUpdate (instance, type, oldProps, newProps, fiber) {\n        var _newProps$args, _oldProps$args, _newProps$args2;\n        validateInstance(type, newProps);\n        let reconstruct = false;\n        // Reconstruct primitives if object prop changes\n        if (instance.type === 'primitive' && oldProps.object !== newProps.object) reconstruct = true;\n        else if (((_newProps$args = newProps.args) == null ? void 0 : _newProps$args.length) !== ((_oldProps$args = oldProps.args) == null ? void 0 : _oldProps$args.length)) reconstruct = true;\n        else if ((_newProps$args2 = newProps.args) != null && _newProps$args2.some((value, index)=>{\n            var _oldProps$args2;\n            return value !== ((_oldProps$args2 = oldProps.args) == null ? void 0 : _oldProps$args2[index]);\n        })) reconstruct = true;\n        // Reconstruct when args or <primitive object={...} have changes\n        if (reconstruct) {\n            reconstructed.push([\n                instance,\n                {\n                    ...newProps\n                },\n                fiber\n            ]);\n        } else {\n            // Create a diff-set, flag if there are any changes\n            const changedProps = diffProps(instance, newProps);\n            if (Object.keys(changedProps).length) {\n                Object.assign(instance.props, changedProps);\n                applyProps(instance.object, changedProps);\n            }\n        }\n        // Flush reconstructed siblings when we hit the last updated child in a sequence\n        const isTailSibling = fiber.sibling === null || (fiber.flags & Update) === NoFlags;\n        if (isTailSibling) swapInstances();\n    },\n    finalizeInitialChildren: ()=>false,\n    commitMount () {},\n    getPublicInstance: (instance)=>instance == null ? void 0 : instance.object,\n    prepareForCommit: ()=>null,\n    preparePortalMount: (container)=>prepare(container.getState().scene, container, '', {}),\n    resetAfterCommit: ()=>{},\n    shouldSetTextContent: ()=>false,\n    clearContainer: ()=>false,\n    hideInstance,\n    unhideInstance,\n    createTextInstance: handleTextInstance,\n    hideTextInstance: handleTextInstance,\n    unhideTextInstance: handleTextInstance,\n    scheduleTimeout: typeof setTimeout === 'function' ? setTimeout : undefined,\n    cancelTimeout: typeof clearTimeout === 'function' ? clearTimeout : undefined,\n    noTimeout: -1,\n    getInstanceFromNode: ()=>null,\n    beforeActiveInstanceBlur () {},\n    afterActiveInstanceBlur () {},\n    detachDeletedInstance () {},\n    prepareScopeUpdate () {},\n    getInstanceFromScope: ()=>null,\n    shouldAttemptEagerTransition: ()=>false,\n    trackSchedulerEvent: ()=>{},\n    resolveEventType: ()=>null,\n    resolveEventTimeStamp: ()=>-1.1,\n    requestPostPaintCallback () {},\n    maySuspendCommit: ()=>false,\n    preloadInstance: ()=>true,\n    // true indicates already loaded\n    startSuspendingCommit () {},\n    suspendInstance () {},\n    waitForCommitToBeReady: ()=>null,\n    NotPendingTransition: null,\n    // The reconciler types use the internal ReactContext with all the hidden properties\n    // so we have to cast from the public React.Context type\n    HostTransitionContext: /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null),\n    setCurrentUpdatePriority (newPriority) {\n        currentUpdatePriority = newPriority;\n    },\n    getCurrentUpdatePriority () {\n        return currentUpdatePriority;\n    },\n    resolveUpdatePriority () {\n        var _window$event;\n        if (currentUpdatePriority !== NoEventPriority) return currentUpdatePriority;\n        switch( false && (0)){\n            case 'click':\n            case 'contextmenu':\n            case 'dblclick':\n            case 'pointercancel':\n            case 'pointerdown':\n            case 'pointerup':\n                return react_reconciler_constants__WEBPACK_IMPORTED_MODULE_1__.DiscreteEventPriority;\n            case 'pointermove':\n            case 'pointerout':\n            case 'pointerover':\n            case 'pointerenter':\n            case 'pointerleave':\n            case 'wheel':\n                return react_reconciler_constants__WEBPACK_IMPORTED_MODULE_1__.ContinuousEventPriority;\n            default:\n                return react_reconciler_constants__WEBPACK_IMPORTED_MODULE_1__.DefaultEventPriority;\n        }\n    },\n    resetFormInstance () {}\n});\nconst _roots = new Map();\nconst shallowLoose = {\n    objects: 'shallow',\n    strict: false\n};\nfunction computeInitialSize(canvas, size) {\n    if (!size && typeof HTMLCanvasElement !== 'undefined' && canvas instanceof HTMLCanvasElement && canvas.parentElement) {\n        const { width, height, top, left } = canvas.parentElement.getBoundingClientRect();\n        return {\n            width,\n            height,\n            top,\n            left\n        };\n    } else if (!size && typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas) {\n        return {\n            width: canvas.width,\n            height: canvas.height,\n            top: 0,\n            left: 0\n        };\n    }\n    return {\n        width: 0,\n        height: 0,\n        top: 0,\n        left: 0,\n        ...size\n    };\n}\nfunction createRoot(canvas) {\n    // Check against mistaken use of createRoot\n    const prevRoot = _roots.get(canvas);\n    const prevFiber = prevRoot == null ? void 0 : prevRoot.fiber;\n    const prevStore = prevRoot == null ? void 0 : prevRoot.store;\n    if (prevRoot) console.warn('R3F.createRoot should only be called once!');\n    // Report when an error was detected in a previous render\n    // https://github.com/pmndrs/react-three-fiber/pull/2261\n    const logRecoverableError = typeof reportError === 'function' ? // In modern browsers, reportError will dispatch an error event,\n    // emulating an uncaught JavaScript error.\n    reportError : // In older browsers and test environments, fallback to console.error.\n    console.error;\n    // Create store\n    const store = prevStore || createStore(invalidate, advance);\n    // Create renderer\n    const fiber = prevFiber || reconciler.createContainer(store, // container\n    react_reconciler_constants__WEBPACK_IMPORTED_MODULE_1__.ConcurrentRoot, // tag\n    null, // hydration callbacks\n    false, // isStrictMode\n    null, // concurrentUpdatesByDefaultOverride\n    '', // identifierPrefix\n    logRecoverableError, // onUncaughtError\n    logRecoverableError, // onCaughtError\n    logRecoverableError, // onRecoverableError\n    null // transitionCallbacks\n    );\n    // Map it\n    if (!prevRoot) _roots.set(canvas, {\n        fiber,\n        store\n    });\n    // Locals\n    let onCreated;\n    let lastCamera;\n    let configured = false;\n    let pending = null;\n    return {\n        async configure (props = {}) {\n            let resolve;\n            pending = new Promise((_resolve)=>resolve = _resolve);\n            let { gl: glConfig, size: propsSize, scene: sceneOptions, events, onCreated: onCreatedCallback, shadows = false, linear = false, flat = false, legacy = false, orthographic = false, frameloop = 'always', dpr = [\n                1,\n                2\n            ], performance, raycaster: raycastOptions, camera: cameraOptions, onPointerMissed } = props;\n            let state = store.getState();\n            // Set up renderer (one time only!)\n            let gl = state.gl;\n            if (!state.gl) {\n                const defaultProps = {\n                    canvas: canvas,\n                    powerPreference: 'high-performance',\n                    antialias: true,\n                    alpha: true\n                };\n                const customRenderer = typeof glConfig === 'function' ? await glConfig(defaultProps) : glConfig;\n                if (isRenderer(customRenderer)) {\n                    gl = customRenderer;\n                } else {\n                    gl = new three__WEBPACK_IMPORTED_MODULE_9__.WebGLRenderer({\n                        ...defaultProps,\n                        ...glConfig\n                    });\n                }\n                state.set({\n                    gl\n                });\n            }\n            // Set up raycaster (one time only!)\n            let raycaster = state.raycaster;\n            if (!raycaster) state.set({\n                raycaster: raycaster = new three__WEBPACK_IMPORTED_MODULE_6__.Raycaster()\n            });\n            // Set raycaster options\n            const { params, ...options } = raycastOptions || {};\n            if (!is.equ(options, raycaster, shallowLoose)) applyProps(raycaster, {\n                ...options\n            });\n            if (!is.equ(params, raycaster.params, shallowLoose)) applyProps(raycaster, {\n                params: {\n                    ...raycaster.params,\n                    ...params\n                }\n            });\n            // Create default camera, don't overwrite any user-set state\n            if (!state.camera || state.camera === lastCamera && !is.equ(lastCamera, cameraOptions, shallowLoose)) {\n                lastCamera = cameraOptions;\n                const isCamera = cameraOptions == null ? void 0 : cameraOptions.isCamera;\n                const camera = isCamera ? cameraOptions : orthographic ? new three__WEBPACK_IMPORTED_MODULE_6__.OrthographicCamera(0, 0, 0, 0, 0.1, 1000) : new three__WEBPACK_IMPORTED_MODULE_6__.PerspectiveCamera(75, 0, 0.1, 1000);\n                if (!isCamera) {\n                    camera.position.z = 5;\n                    if (cameraOptions) {\n                        applyProps(camera, cameraOptions);\n                        // Preserve user-defined frustum if possible\n                        // https://github.com/pmndrs/react-three-fiber/issues/3160\n                        if (!camera.manual) {\n                            if ('aspect' in cameraOptions || 'left' in cameraOptions || 'right' in cameraOptions || 'bottom' in cameraOptions || 'top' in cameraOptions) {\n                                camera.manual = true;\n                                camera.updateProjectionMatrix();\n                            }\n                        }\n                    }\n                    // Always look at center by default\n                    if (!state.camera && !(cameraOptions != null && cameraOptions.rotation)) camera.lookAt(0, 0, 0);\n                }\n                state.set({\n                    camera\n                });\n                // Configure raycaster\n                // https://github.com/pmndrs/react-xr/issues/300\n                raycaster.camera = camera;\n            }\n            // Set up scene (one time only!)\n            if (!state.scene) {\n                let scene;\n                if (sceneOptions != null && sceneOptions.isScene) {\n                    scene = sceneOptions;\n                    prepare(scene, store, '', {});\n                } else {\n                    scene = new three__WEBPACK_IMPORTED_MODULE_6__.Scene();\n                    prepare(scene, store, '', {});\n                    if (sceneOptions) applyProps(scene, sceneOptions);\n                }\n                state.set({\n                    scene\n                });\n            }\n            // Store events internally\n            if (events && !state.events.handlers) state.set({\n                events: events(store)\n            });\n            // Check size, allow it to take on container bounds initially\n            const size = computeInitialSize(canvas, propsSize);\n            if (!is.equ(size, state.size, shallowLoose)) {\n                state.setSize(size.width, size.height, size.top, size.left);\n            }\n            // Check pixelratio\n            if (dpr && state.viewport.dpr !== calculateDpr(dpr)) state.setDpr(dpr);\n            // Check frameloop\n            if (state.frameloop !== frameloop) state.setFrameloop(frameloop);\n            // Check pointer missed\n            if (!state.onPointerMissed) state.set({\n                onPointerMissed\n            });\n            // Check performance\n            if (performance && !is.equ(performance, state.performance, shallowLoose)) state.set((state)=>({\n                    performance: {\n                        ...state.performance,\n                        ...performance\n                    }\n                }));\n            // Set up XR (one time only!)\n            if (!state.xr) {\n                var _gl$xr;\n                // Handle frame behavior in WebXR\n                const handleXRFrame = (timestamp, frame)=>{\n                    const state = store.getState();\n                    if (state.frameloop === 'never') return;\n                    advance(timestamp, true, state, frame);\n                };\n                // Toggle render switching on session\n                const handleSessionChange = ()=>{\n                    const state = store.getState();\n                    state.gl.xr.enabled = state.gl.xr.isPresenting;\n                    state.gl.xr.setAnimationLoop(state.gl.xr.isPresenting ? handleXRFrame : null);\n                    if (!state.gl.xr.isPresenting) invalidate(state);\n                };\n                // WebXR session manager\n                const xr = {\n                    connect () {\n                        const gl = store.getState().gl;\n                        gl.xr.addEventListener('sessionstart', handleSessionChange);\n                        gl.xr.addEventListener('sessionend', handleSessionChange);\n                    },\n                    disconnect () {\n                        const gl = store.getState().gl;\n                        gl.xr.removeEventListener('sessionstart', handleSessionChange);\n                        gl.xr.removeEventListener('sessionend', handleSessionChange);\n                    }\n                };\n                // Subscribe to WebXR session events\n                if (typeof ((_gl$xr = gl.xr) == null ? void 0 : _gl$xr.addEventListener) === 'function') xr.connect();\n                state.set({\n                    xr\n                });\n            }\n            // Set shadowmap\n            if (gl.shadowMap) {\n                const oldEnabled = gl.shadowMap.enabled;\n                const oldType = gl.shadowMap.type;\n                gl.shadowMap.enabled = !!shadows;\n                if (is.boo(shadows)) {\n                    gl.shadowMap.type = three__WEBPACK_IMPORTED_MODULE_6__.PCFSoftShadowMap;\n                } else if (is.str(shadows)) {\n                    var _types$shadows;\n                    const types = {\n                        basic: three__WEBPACK_IMPORTED_MODULE_6__.BasicShadowMap,\n                        percentage: three__WEBPACK_IMPORTED_MODULE_6__.PCFShadowMap,\n                        soft: three__WEBPACK_IMPORTED_MODULE_6__.PCFSoftShadowMap,\n                        variance: three__WEBPACK_IMPORTED_MODULE_6__.VSMShadowMap\n                    };\n                    gl.shadowMap.type = (_types$shadows = types[shadows]) != null ? _types$shadows : three__WEBPACK_IMPORTED_MODULE_6__.PCFSoftShadowMap;\n                } else if (is.obj(shadows)) {\n                    Object.assign(gl.shadowMap, shadows);\n                }\n                if (oldEnabled !== gl.shadowMap.enabled || oldType !== gl.shadowMap.type) gl.shadowMap.needsUpdate = true;\n            }\n            three__WEBPACK_IMPORTED_MODULE_6__.ColorManagement.enabled = !legacy;\n            // Set color space and tonemapping preferences\n            if (!configured) {\n                gl.outputColorSpace = linear ? three__WEBPACK_IMPORTED_MODULE_6__.LinearSRGBColorSpace : three__WEBPACK_IMPORTED_MODULE_6__.SRGBColorSpace;\n                gl.toneMapping = flat ? three__WEBPACK_IMPORTED_MODULE_6__.NoToneMapping : three__WEBPACK_IMPORTED_MODULE_6__.ACESFilmicToneMapping;\n            }\n            // Update color management state\n            if (state.legacy !== legacy) state.set(()=>({\n                    legacy\n                }));\n            if (state.linear !== linear) state.set(()=>({\n                    linear\n                }));\n            if (state.flat !== flat) state.set(()=>({\n                    flat\n                }));\n            // Set gl props\n            if (glConfig && !is.fun(glConfig) && !isRenderer(glConfig) && !is.equ(glConfig, gl, shallowLoose)) applyProps(gl, glConfig);\n            // Set locals\n            onCreated = onCreatedCallback;\n            configured = true;\n            resolve();\n            return this;\n        },\n        render (children) {\n            // The root has to be configured before it can be rendered\n            if (!configured && !pending) this.configure();\n            pending.then(()=>{\n                reconciler.updateContainer(/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Provider, {\n                    store: store,\n                    children: children,\n                    onCreated: onCreated,\n                    rootElement: canvas\n                }), fiber, null, ()=>undefined);\n            });\n            return store;\n        },\n        unmount () {\n            unmountComponentAtNode(canvas);\n        }\n    };\n}\nfunction Provider({ store, children, onCreated, rootElement }) {\n    useIsomorphicLayoutEffect({\n        \"Provider.useIsomorphicLayoutEffect\": ()=>{\n            const state = store.getState();\n            // Flag the canvas active, rendering will now begin\n            state.set({\n                \"Provider.useIsomorphicLayoutEffect\": (state)=>({\n                        internal: {\n                            ...state.internal,\n                            active: true\n                        }\n                    })\n            }[\"Provider.useIsomorphicLayoutEffect\"]);\n            // Notify that init is completed, the scene graph exists, but nothing has yet rendered\n            if (onCreated) onCreated(state);\n            // Connect events to the targets parent, this is done to ensure events are registered on\n            // a shared target, and not on the canvas itself\n            if (!store.getState().events.connected) state.events.connect == null ? void 0 : state.events.connect(rootElement);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"Provider.useIsomorphicLayoutEffect\"], []);\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(context.Provider, {\n        value: store,\n        children: children\n    });\n}\nfunction unmountComponentAtNode(canvas, callback) {\n    const root = _roots.get(canvas);\n    const fiber = root == null ? void 0 : root.fiber;\n    if (fiber) {\n        const state = root == null ? void 0 : root.store.getState();\n        if (state) state.internal.active = false;\n        reconciler.updateContainer(null, fiber, null, ()=>{\n            if (state) {\n                setTimeout(()=>{\n                    try {\n                        var _state$gl, _state$gl$renderLists, _state$gl2, _state$gl3;\n                        state.events.disconnect == null ? void 0 : state.events.disconnect();\n                        (_state$gl = state.gl) == null ? void 0 : (_state$gl$renderLists = _state$gl.renderLists) == null ? void 0 : _state$gl$renderLists.dispose == null ? void 0 : _state$gl$renderLists.dispose();\n                        (_state$gl2 = state.gl) == null ? void 0 : _state$gl2.forceContextLoss == null ? void 0 : _state$gl2.forceContextLoss();\n                        if ((_state$gl3 = state.gl) != null && _state$gl3.xr) state.xr.disconnect();\n                        dispose(state.scene);\n                        _roots.delete(canvas);\n                        if (callback) callback(canvas);\n                    } catch (e) {\n                    /* ... */ }\n                }, 500);\n            }\n        });\n    }\n}\nfunction createPortal(children, container, state) {\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Portal, {\n        children: children,\n        container: container,\n        state: state\n    });\n}\nfunction Portal({ state = {}, children, container }) {\n    /** This has to be a component because it would not be able to call useThree/useStore otherwise since\r\n   *  if this is our environment, then we are not in r3f's renderer but in react-dom, it would trigger\r\n   *  the \"R3F hooks can only be used within the Canvas component!\" warning:\r\n   *  <Canvas>\r\n   *    {createPortal(...)} */ const { events, size, ...rest } = state;\n    const previousRoot = useStore();\n    const [raycaster] = react__WEBPACK_IMPORTED_MODULE_0__.useState({\n        \"Portal.useState\": ()=>new three__WEBPACK_IMPORTED_MODULE_6__.Raycaster()\n    }[\"Portal.useState\"]);\n    const [pointer] = react__WEBPACK_IMPORTED_MODULE_0__.useState({\n        \"Portal.useState\": ()=>new three__WEBPACK_IMPORTED_MODULE_6__.Vector2()\n    }[\"Portal.useState\"]);\n    const inject = useMutableCallback({\n        \"Portal.useMutableCallback[inject]\": (rootState, injectState)=>{\n            let viewport = undefined;\n            if (injectState.camera && size) {\n                const camera = injectState.camera;\n                // Calculate the override viewport, if present\n                viewport = rootState.viewport.getCurrentViewport(camera, new three__WEBPACK_IMPORTED_MODULE_6__.Vector3(), size);\n                // Update the portal camera, if it differs from the previous layer\n                if (camera !== rootState.camera) updateCamera(camera, size);\n            }\n            return {\n                // The intersect consists of the previous root state\n                ...rootState,\n                ...injectState,\n                // Portals have their own scene, which forms the root, a raycaster and a pointer\n                scene: container,\n                raycaster,\n                pointer,\n                mouse: pointer,\n                // Their previous root is the layer before it\n                previousRoot,\n                // Events, size and viewport can be overridden by the inject layer\n                events: {\n                    ...rootState.events,\n                    ...injectState.events,\n                    ...events\n                },\n                size: {\n                    ...rootState.size,\n                    ...size\n                },\n                viewport: {\n                    ...rootState.viewport,\n                    ...viewport\n                },\n                // Layers are allowed to override events\n                setEvents: ({\n                    \"Portal.useMutableCallback[inject]\": (events)=>injectState.set({\n                            \"Portal.useMutableCallback[inject]\": (state)=>({\n                                    ...state,\n                                    events: {\n                                        ...state.events,\n                                        ...events\n                                    }\n                                })\n                        }[\"Portal.useMutableCallback[inject]\"])\n                })[\"Portal.useMutableCallback[inject]\"]\n            };\n        }\n    }[\"Portal.useMutableCallback[inject]\"]);\n    const usePortalStore = react__WEBPACK_IMPORTED_MODULE_0__.useMemo({\n        \"Portal.useMemo[usePortalStore]\": ()=>{\n            // Create a mirrored store, based on the previous root with a few overrides ...\n            const store = (0,zustand_traditional__WEBPACK_IMPORTED_MODULE_7__.createWithEqualityFn)({\n                \"Portal.useMemo[usePortalStore].store\": (set, get)=>({\n                        ...rest,\n                        set,\n                        get\n                    })\n            }[\"Portal.useMemo[usePortalStore].store\"]);\n            // Subscribe to previous root-state and copy changes over to the mirrored portal-state\n            const onMutate = {\n                \"Portal.useMemo[usePortalStore].onMutate\": (prev)=>store.setState({\n                        \"Portal.useMemo[usePortalStore].onMutate\": (state)=>inject.current(prev, state)\n                    }[\"Portal.useMemo[usePortalStore].onMutate\"])\n            }[\"Portal.useMemo[usePortalStore].onMutate\"];\n            onMutate(previousRoot.getState());\n            previousRoot.subscribe(onMutate);\n            return store;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }\n    }[\"Portal.useMemo[usePortalStore]\"], [\n        previousRoot,\n        container\n    ]);\n    return(/*#__PURE__*/ // @ts-ignore, reconciler types are not maintained\n    (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment, {\n        children: reconciler.createPortal(/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(context.Provider, {\n            value: usePortalStore,\n            children: children\n        }), usePortalStore, null)\n    }));\n}\n/**\r\n * Force React to flush any updates inside the provided callback synchronously and immediately.\r\n * All the same caveats documented for react-dom's `flushSync` apply here (see https://react.dev/reference/react-dom/flushSync).\r\n * Nevertheless, sometimes one needs to render synchronously, for example to keep DOM and 3D changes in lock-step without\r\n * having to revert to a non-React solution. Note: this will only flush updates within the `Canvas` root.\r\n */ function flushSync(fn) {\n    // @ts-ignore - reconciler types are not maintained\n    return reconciler.flushSyncFromReconciler(fn);\n}\nfunction createSubs(callback, subs) {\n    const sub = {\n        callback\n    };\n    subs.add(sub);\n    return ()=>void subs.delete(sub);\n}\nconst globalEffects = new Set();\nconst globalAfterEffects = new Set();\nconst globalTailEffects = new Set();\n/**\r\n * Adds a global render callback which is called each frame.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/additional-exports#addEffect\r\n */ const addEffect = (callback)=>createSubs(callback, globalEffects);\n/**\r\n * Adds a global after-render callback which is called each frame.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/additional-exports#addAfterEffect\r\n */ const addAfterEffect = (callback)=>createSubs(callback, globalAfterEffects);\n/**\r\n * Adds a global callback which is called when rendering stops.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/additional-exports#addTail\r\n */ const addTail = (callback)=>createSubs(callback, globalTailEffects);\nfunction run(effects, timestamp) {\n    if (!effects.size) return;\n    for (const { callback } of effects.values()){\n        callback(timestamp);\n    }\n}\nfunction flushGlobalEffects(type, timestamp) {\n    switch(type){\n        case 'before':\n            return run(globalEffects, timestamp);\n        case 'after':\n            return run(globalAfterEffects, timestamp);\n        case 'tail':\n            return run(globalTailEffects, timestamp);\n    }\n}\nlet subscribers;\nlet subscription;\nfunction update(timestamp, state, frame) {\n    // Run local effects\n    let delta = state.clock.getDelta();\n    // In frameloop='never' mode, clock times are updated using the provided timestamp\n    if (state.frameloop === 'never' && typeof timestamp === 'number') {\n        delta = timestamp - state.clock.elapsedTime;\n        state.clock.oldTime = state.clock.elapsedTime;\n        state.clock.elapsedTime = timestamp;\n    }\n    // Call subscribers (useFrame)\n    subscribers = state.internal.subscribers;\n    for(let i = 0; i < subscribers.length; i++){\n        subscription = subscribers[i];\n        subscription.ref.current(subscription.store.getState(), delta, frame);\n    }\n    // Render content\n    if (!state.internal.priority && state.gl.render) state.gl.render(state.scene, state.camera);\n    // Decrease frame count\n    state.internal.frames = Math.max(0, state.internal.frames - 1);\n    return state.frameloop === 'always' ? 1 : state.internal.frames;\n}\nlet running = false;\nlet useFrameInProgress = false;\nlet repeat;\nlet frame;\nlet state;\nfunction loop(timestamp) {\n    frame = requestAnimationFrame(loop);\n    running = true;\n    repeat = 0;\n    // Run effects\n    flushGlobalEffects('before', timestamp);\n    // Render all roots\n    useFrameInProgress = true;\n    for (const root of _roots.values()){\n        var _state$gl$xr;\n        state = root.store.getState();\n        // If the frameloop is invalidated, do not run another frame\n        if (state.internal.active && (state.frameloop === 'always' || state.internal.frames > 0) && !((_state$gl$xr = state.gl.xr) != null && _state$gl$xr.isPresenting)) {\n            repeat += update(timestamp, state);\n        }\n    }\n    useFrameInProgress = false;\n    // Run after-effects\n    flushGlobalEffects('after', timestamp);\n    // Stop the loop if nothing invalidates it\n    if (repeat === 0) {\n        // Tail call effects, they are called when rendering stops\n        flushGlobalEffects('tail', timestamp);\n        // Flag end of operation\n        running = false;\n        return cancelAnimationFrame(frame);\n    }\n}\n/**\r\n * Invalidates the view, requesting a frame to be rendered. Will globally invalidate unless passed a root's state.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/additional-exports#invalidate\r\n */ function invalidate(state, frames = 1) {\n    var _state$gl$xr2;\n    if (!state) return _roots.forEach((root)=>invalidate(root.store.getState(), frames));\n    if ((_state$gl$xr2 = state.gl.xr) != null && _state$gl$xr2.isPresenting || !state.internal.active || state.frameloop === 'never') return;\n    if (frames > 1) {\n        // legacy support for people using frames parameters\n        // Increase frames, do not go higher than 60\n        state.internal.frames = Math.min(60, state.internal.frames + frames);\n    } else {\n        if (useFrameInProgress) {\n            //called from within a useFrame, it means the user wants an additional frame\n            state.internal.frames = 2;\n        } else {\n            //the user need a new frame, no need to increment further than 1\n            state.internal.frames = 1;\n        }\n    }\n    // If the render-loop isn't active, start it\n    if (!running) {\n        running = true;\n        requestAnimationFrame(loop);\n    }\n}\n/**\r\n * Advances the frameloop and runs render effects, useful for when manually rendering via `frameloop=\"never\"`.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/additional-exports#advance\r\n */ function advance(timestamp, runGlobalEffects = true, state, frame) {\n    if (runGlobalEffects) flushGlobalEffects('before', timestamp);\n    if (!state) for (const root of _roots.values())update(timestamp, root.store.getState());\n    else update(timestamp, state, frame);\n    if (runGlobalEffects) flushGlobalEffects('after', timestamp);\n}\nconst DOM_EVENTS = {\n    onClick: [\n        'click',\n        false\n    ],\n    onContextMenu: [\n        'contextmenu',\n        false\n    ],\n    onDoubleClick: [\n        'dblclick',\n        false\n    ],\n    onWheel: [\n        'wheel',\n        true\n    ],\n    onPointerDown: [\n        'pointerdown',\n        true\n    ],\n    onPointerUp: [\n        'pointerup',\n        true\n    ],\n    onPointerLeave: [\n        'pointerleave',\n        true\n    ],\n    onPointerMove: [\n        'pointermove',\n        true\n    ],\n    onPointerCancel: [\n        'pointercancel',\n        true\n    ],\n    onLostPointerCapture: [\n        'lostpointercapture',\n        true\n    ]\n};\n/** Default R3F event manager for web */ function createPointerEvents(store) {\n    const { handlePointer } = createEvents(store);\n    return {\n        priority: 1,\n        enabled: true,\n        compute (event, state, previous) {\n            // https://github.com/pmndrs/react-three-fiber/pull/782\n            // Events trigger outside of canvas when moved, use offsetX/Y by default and allow overrides\n            state.pointer.set(event.offsetX / state.size.width * 2 - 1, -(event.offsetY / state.size.height) * 2 + 1);\n            state.raycaster.setFromCamera(state.pointer, state.camera);\n        },\n        connected: undefined,\n        handlers: Object.keys(DOM_EVENTS).reduce((acc, key)=>({\n                ...acc,\n                [key]: handlePointer(key)\n            }), {}),\n        update: ()=>{\n            var _internal$lastEvent;\n            const { events, internal } = store.getState();\n            if ((_internal$lastEvent = internal.lastEvent) != null && _internal$lastEvent.current && events.handlers) events.handlers.onPointerMove(internal.lastEvent.current);\n        },\n        connect: (target)=>{\n            const { set, events } = store.getState();\n            events.disconnect == null ? void 0 : events.disconnect();\n            set((state)=>({\n                    events: {\n                        ...state.events,\n                        connected: target\n                    }\n                }));\n            if (events.handlers) {\n                for(const name in events.handlers){\n                    const event = events.handlers[name];\n                    const [eventName, passive] = DOM_EVENTS[name];\n                    target.addEventListener(eventName, event, {\n                        passive\n                    });\n                }\n            }\n        },\n        disconnect: ()=>{\n            const { set, events } = store.getState();\n            if (events.connected) {\n                if (events.handlers) {\n                    for(const name in events.handlers){\n                        const event = events.handlers[name];\n                        const [eventName] = DOM_EVENTS[name];\n                        events.connected.removeEventListener(eventName, event);\n                    }\n                }\n                set((state)=>({\n                        events: {\n                            ...state.events,\n                            connected: undefined\n                        }\n                    }));\n            }\n        }\n    };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2ZpYmVyL2Rpc3QvZXZlbnRzLWUzY2I2NmUyLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErQjtBQUNtRztBQUNuRztBQUM0QjtBQUNIO0FBQ2Q7QUFDbUM7QUFDM0I7QUFDbUI7QUFFckUsSUFBSWtCLGFBQWEsV0FBVyxHQUFFQyxPQUFPQyxNQUFNLENBQUM7SUFDMUNDLFdBQVc7QUFDYjtBQUVBOztDQUVDLEdBQ0QsU0FBU0MsZ0JBQWdCQyxRQUFRO0lBQy9CLElBQUlDLE9BQU9ELFNBQVNDLElBQUk7SUFDeEIsTUFBT0EsS0FBS0MsUUFBUSxHQUFHQyxZQUFZLENBQUVGLE9BQU9BLEtBQUtDLFFBQVEsR0FBR0MsWUFBWTtJQUN4RSxPQUFPRjtBQUNUO0FBQ0E7OztDQUdDLEdBQ0QsK0RBQStEO0FBQy9ELGtEQUFrRDtBQUNsRCxNQUFNRyxNQUFNM0Isa0NBQUssQ0FBQyxRQUFRLEdBQUc7QUFDN0IsTUFBTTRCLHVCQUF1QkMsQ0FBQUEsTUFBT0EsT0FBT0EsSUFBSUQsb0JBQW9CO0FBQ25FLE1BQU1FLFFBQVFDLENBQUFBLE1BQU9BLE9BQU9BLElBQUlDLGNBQWMsQ0FBQztBQUMvQyxNQUFNQyx3QkFBd0JDLENBQUFBLFFBQVNBLFNBQVMsUUFBUyxRQUFPQSxVQUFVLFlBQVksT0FBT0EsVUFBVSxZQUFZQSxNQUFNQyxPQUFPO0FBRWhJOzs7Ozs7OztDQVFDLEdBQ0QsTUFBTUMsNEJBQTJDLGFBQUYsR0FBRyxFQUFDQyxrQkFBa0JDLG9CQUFzQixNQUE2QixJQUFLLEVBQWtNLENBQUMsTUFBT3RDLGtEQUFxQixHQUFHQSw0Q0FBZTtBQUM5VyxTQUFTOEMsbUJBQW1CQyxFQUFFO0lBQzVCLE1BQU1DLE1BQU1oRCx5Q0FBWSxDQUFDK0M7SUFDekJYO3dEQUEwQixJQUFNLEtBQU1ZLENBQUFBLElBQUlFLE9BQU8sR0FB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O29CQUNiO2dCQUNGO1lBQ0EsSUFBSStKLE9BQU85RyxRQUFRLEVBQUU7Z0JBQ25CLElBQUssTUFBTWQsUUFBUTRILE9BQU85RyxRQUFRLENBQUU7b0JBQ2xDLE1BQU0yRSxRQUFRbUMsT0FBTzlHLFFBQVEsQ0FBQ2QsS0FBSztvQkFDbkMsTUFBTSxDQUFDNGhCLFdBQVdDLFFBQVEsR0FBR2YsVUFBVSxDQUFDOWdCLEtBQUs7b0JBQzdDbkMsT0FBTzJlLGdCQUFnQixDQUFDb0YsV0FBV25jLE9BQU87d0JBQ3hDb2M7b0JBQ0Y7Z0JBQ0Y7WUFDRjtRQUNGO1FBQ0FwRixZQUFZO1lBQ1YsTUFBTSxFQUNKNWYsR0FBRyxFQUNIK0ssTUFBTSxFQUNQLEdBQUd2QixNQUFNN0wsUUFBUTtZQUNsQixJQUFJb04sT0FBTzhGLFNBQVMsRUFBRTtnQkFDcEIsSUFBSTlGLE9BQU85RyxRQUFRLEVBQUU7b0JBQ25CLElBQUssTUFBTWQsUUFBUTRILE9BQU85RyxRQUFRLENBQUU7d0JBQ2xDLE1BQU0yRSxRQUFRbUMsT0FBTzlHLFFBQVEsQ0FBQ2QsS0FBSzt3QkFDbkMsTUFBTSxDQUFDNGhCLFVBQVUsR0FBR2QsVUFBVSxDQUFDOWdCLEtBQUs7d0JBQ3BDNEgsT0FBTzhGLFNBQVMsQ0FBQ2dQLG1CQUFtQixDQUFDa0YsV0FBV25jO29CQUNsRDtnQkFDRjtnQkFDQTVJLElBQUlNLENBQUFBLFFBQVU7d0JBQ1p5SyxRQUFROzRCQUNOLEdBQUd6SyxNQUFNeUssTUFBTTs0QkFDZjhGLFdBQVc3TDt3QkFDYjtvQkFDRjtZQUNGO1FBQ0Y7SUFDRjtBQUNGO0FBRW1tQiIsInNvdXJjZXMiOlsiL1VzZXJzL25ha2FtdXJhL2dpdC8zZC9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2ZpYmVyL2Rpc3QvZXZlbnRzLWUzY2I2NmUyLmVzbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBEZWZhdWx0RXZlbnRQcmlvcml0eSwgQ29udGludW91c0V2ZW50UHJpb3JpdHksIERpc2NyZXRlRXZlbnRQcmlvcml0eSwgQ29uY3VycmVudFJvb3QgfSBmcm9tICdyZWFjdC1yZWNvbmNpbGVyL2NvbnN0YW50cyc7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBjcmVhdGVXaXRoRXF1YWxpdHlGbiB9IGZyb20gJ3p1c3RhbmQvdHJhZGl0aW9uYWwnO1xuaW1wb3J0IHsgc3VzcGVuZCwgcHJlbG9hZCwgY2xlYXIgfSBmcm9tICdzdXNwZW5kLXJlYWN0JztcbmltcG9ydCBSZWNvbmNpbGVyIGZyb20gJ3JlYWN0LXJlY29uY2lsZXInO1xuaW1wb3J0IHsgdW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjaywgdW5zdGFibGVfSWRsZVByaW9yaXR5IH0gZnJvbSAnc2NoZWR1bGVyJztcbmltcG9ydCB7IGpzeCwgRnJhZ21lbnQgfSBmcm9tICdyZWFjdC9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyB1c2VGaWJlciwgdXNlQ29udGV4dEJyaWRnZSwgdHJhdmVyc2VGaWJlciB9IGZyb20gJ2l0cy1maW5lJztcblxudmFyIHRocmVlVHlwZXMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbFxufSk7XG5cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBpbnN0YW5jZSdzIGluaXRpYWwgKG91dG1vc3QpIHJvb3QuXHJcbiAqL1xuZnVuY3Rpb24gZmluZEluaXRpYWxSb290KGluc3RhbmNlKSB7XG4gIGxldCByb290ID0gaW5zdGFuY2Uucm9vdDtcbiAgd2hpbGUgKHJvb3QuZ2V0U3RhdGUoKS5wcmV2aW91c1Jvb3QpIHJvb3QgPSByb290LmdldFN0YXRlKCkucHJldmlvdXNSb290O1xuICByZXR1cm4gcm9vdDtcbn1cbi8qKlxyXG4gKiBTYWZlbHkgZmx1c2ggYXN5bmMgZWZmZWN0cyB3aGVuIHRlc3RpbmcsIHNpbXVsYXRpbmcgYSBsZWdhY3kgcm9vdC5cclxuICogQGRlcHJlY2F0ZWQgSW1wb3J0IGZyb20gUmVhY3QgaW5zdGVhZC4gaW1wb3J0IHsgYWN0IH0gZnJvbSAncmVhY3QnXHJcbiAqL1xuLy8gUmVmZXJlbmNlIHdpdGggY29tcHV0ZWQga2V5IHRvIGJyZWFrIFdlYnBhY2sgc3RhdGljIGFuYWx5c2lzXG4vLyBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay93ZWJwYWNrL2lzc3Vlcy8xNDgxNFxuY29uc3QgYWN0ID0gUmVhY3RbJ2FjdCcgKyAnJ107XG5jb25zdCBpc09ydGhvZ3JhcGhpY0NhbWVyYSA9IGRlZiA9PiBkZWYgJiYgZGVmLmlzT3J0aG9ncmFwaGljQ2FtZXJhO1xuY29uc3QgaXNSZWYgPSBvYmogPT4gb2JqICYmIG9iai5oYXNPd25Qcm9wZXJ0eSgnY3VycmVudCcpO1xuY29uc3QgaXNDb2xvclJlcHJlc2VudGF0aW9uID0gdmFsdWUgPT4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHZhbHVlLmlzQ29sb3IpO1xuXG4vKipcclxuICogQW4gU1NSLWZyaWVuZGx5IHVzZUxheW91dEVmZmVjdC5cclxuICpcclxuICogUmVhY3QgY3VycmVudGx5IHRocm93cyBhIHdhcm5pbmcgd2hlbiB1c2luZyB1c2VMYXlvdXRFZmZlY3Qgb24gdGhlIHNlcnZlci5cclxuICogVG8gZ2V0IGFyb3VuZCBpdCwgd2UgY2FuIGNvbmRpdGlvbmFsbHkgdXNlRWZmZWN0IG9uIHRoZSBzZXJ2ZXIgKG5vLW9wKSBhbmRcclxuICogdXNlTGF5b3V0RWZmZWN0IGVsc2V3aGVyZS5cclxuICpcclxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzE0OTI3XHJcbiAqL1xuY29uc3QgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCA9IC8qIEBfX1BVUkVfXyAqLygoX3dpbmRvdyRkb2N1bWVudCwgX3dpbmRvdyRuYXZpZ2F0b3IpID0+IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICgoKF93aW5kb3ckZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfd2luZG93JGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpIHx8ICgoX3dpbmRvdyRuYXZpZ2F0b3IgPSB3aW5kb3cubmF2aWdhdG9yKSA9PSBudWxsID8gdm9pZCAwIDogX3dpbmRvdyRuYXZpZ2F0b3IucHJvZHVjdCkgPT09ICdSZWFjdE5hdGl2ZScpKSgpID8gUmVhY3QudXNlTGF5b3V0RWZmZWN0IDogUmVhY3QudXNlRWZmZWN0O1xuZnVuY3Rpb24gdXNlTXV0YWJsZUNhbGxiYWNrKGZuKSB7XG4gIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZihmbik7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4gdm9pZCAocmVmLmN1cnJlbnQgPSBmbiksIFtmbl0pO1xuICByZXR1cm4gcmVmO1xufVxuLyoqXHJcbiAqIEJyaWRnZXMgcmVuZGVyZXIgQ29udGV4dCBhbmQgU3RyaWN0TW9kZSBmcm9tIGEgcHJpbWFyeSByZW5kZXJlci5cclxuICovXG5mdW5jdGlvbiB1c2VCcmlkZ2UoKSB7XG4gIGNvbnN0IGZpYmVyID0gdXNlRmliZXIoKTtcbiAgY29uc3QgQ29udGV4dEJyaWRnZSA9IHVzZUNvbnRleHRCcmlkZ2UoKTtcbiAgcmV0dXJuIFJlYWN0LnVzZU1lbW8oKCkgPT4gKHtcbiAgICBjaGlsZHJlblxuICB9KSA9PiB7XG4gICAgY29uc3Qgc3RyaWN0ID0gISF0cmF2ZXJzZUZpYmVyKGZpYmVyLCB0cnVlLCBub2RlID0+IG5vZGUudHlwZSA9PT0gUmVhY3QuU3RyaWN0TW9kZSk7XG4gICAgY29uc3QgUm9vdCA9IHN0cmljdCA/IFJlYWN0LlN0cmljdE1vZGUgOiBSZWFjdC5GcmFnbWVudDtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL2pzeChSb290LCB7XG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL2pzeChDb250ZXh0QnJpZGdlLCB7XG4gICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICAgICAgfSlcbiAgICB9KTtcbiAgfSwgW2ZpYmVyLCBDb250ZXh0QnJpZGdlXSk7XG59XG5mdW5jdGlvbiBCbG9jayh7XG4gIHNldFxufSkge1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBzZXQobmV3IFByb21pc2UoKCkgPT4gbnVsbCkpO1xuICAgIHJldHVybiAoKSA9PiBzZXQoZmFsc2UpO1xuICB9LCBbc2V0XSk7XG4gIHJldHVybiBudWxsO1xufVxuXG4vLyBOT1RFOiBzdGF0aWMgbWVtYmVycyBnZXQgZG93bi1sZXZlbCB0cmFuc3BpbGVkIHRvIG11dGF0aW9ucyB3aGljaCBicmVhayB0cmVlLXNoYWtpbmdcbmNvbnN0IEVycm9yQm91bmRhcnkgPSAvKiBAX19QVVJFX18gKi8oX0Vycm9yQm91bmRhcnkgPT4gKF9FcnJvckJvdW5kYXJ5ID0gY2xhc3MgRXJyb3JCb3VuZGFyeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICBzdXBlciguLi5hcmdzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgZXJyb3I6IGZhbHNlXG4gICAgfTtcbiAgfVxuICBjb21wb25lbnREaWRDYXRjaChlcnIpIHtcbiAgICB0aGlzLnByb3BzLnNldChlcnIpO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5lcnJvciA/IG51bGwgOiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICB9XG59LCBfRXJyb3JCb3VuZGFyeS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IgPSAoKSA9PiAoe1xuICBlcnJvcjogdHJ1ZVxufSksIF9FcnJvckJvdW5kYXJ5KSkoKTtcbmZ1bmN0aW9uIGNhbGN1bGF0ZURwcihkcHIpIHtcbiAgdmFyIF93aW5kb3ckZGV2aWNlUGl4ZWxSYTtcbiAgLy8gRXJyIG9uIHRoZSBzaWRlIG9mIHByb2dyZXNzIGJ5IGFzc3VtaW5nIDJ4IGRwciBpZiB3ZSBjYW4ndCBkZXRlY3QgaXRcbiAgLy8gVGhpcyB3aWxsIGhhcHBlbiBpbiB3b3JrZXJzIHdoZXJlIHdpbmRvdyBpcyBkZWZpbmVkIGJ1dCBkcHIgaXNuJ3QuXG4gIGNvbnN0IHRhcmdldCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gKF93aW5kb3ckZGV2aWNlUGl4ZWxSYSA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSAhPSBudWxsID8gX3dpbmRvdyRkZXZpY2VQaXhlbFJhIDogMiA6IDE7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGRwcikgPyBNYXRoLm1pbihNYXRoLm1heChkcHJbMF0sIHRhcmdldCksIGRwclsxXSkgOiBkcHI7XG59XG5cbi8qKlxyXG4gKiBSZXR1cm5zIGluc3RhbmNlIHJvb3Qgc3RhdGVcclxuICovXG5mdW5jdGlvbiBnZXRSb290U3RhdGUob2JqKSB7XG4gIHZhciBfcjNmO1xuICByZXR1cm4gKF9yM2YgPSBvYmouX19yM2YpID09IG51bGwgPyB2b2lkIDAgOiBfcjNmLnJvb3QuZ2V0U3RhdGUoKTtcbn1cbi8vIEEgY29sbGVjdGlvbiBvZiBjb21wYXJlIGZ1bmN0aW9uc1xuY29uc3QgaXMgPSB7XG4gIG9iajogYSA9PiBhID09PSBPYmplY3QoYSkgJiYgIWlzLmFycihhKSAmJiB0eXBlb2YgYSAhPT0gJ2Z1bmN0aW9uJyxcbiAgZnVuOiBhID0+IHR5cGVvZiBhID09PSAnZnVuY3Rpb24nLFxuICBzdHI6IGEgPT4gdHlwZW9mIGEgPT09ICdzdHJpbmcnLFxuICBudW06IGEgPT4gdHlwZW9mIGEgPT09ICdudW1iZXInLFxuICBib286IGEgPT4gdHlwZW9mIGEgPT09ICdib29sZWFuJyxcbiAgdW5kOiBhID0+IGEgPT09IHZvaWQgMCxcbiAgbnVsOiBhID0+IGEgPT09IG51bGwsXG4gIGFycjogYSA9PiBBcnJheS5pc0FycmF5KGEpLFxuICBlcXUoYSwgYiwge1xuICAgIGFycmF5cyA9ICdzaGFsbG93JyxcbiAgICBvYmplY3RzID0gJ3JlZmVyZW5jZScsXG4gICAgc3RyaWN0ID0gdHJ1ZVxuICB9ID0ge30pIHtcbiAgICAvLyBXcm9uZyB0eXBlIG9yIG9uZSBvZiB0aGUgdHdvIHVuZGVmaW5lZCwgZG9lc24ndCBtYXRjaFxuICAgIGlmICh0eXBlb2YgYSAhPT0gdHlwZW9mIGIgfHwgISFhICE9PSAhIWIpIHJldHVybiBmYWxzZTtcbiAgICAvLyBBdG9taWMsIGp1c3QgY29tcGFyZSBhIGFnYWluc3QgYlxuICAgIGlmIChpcy5zdHIoYSkgfHwgaXMubnVtKGEpIHx8IGlzLmJvbyhhKSkgcmV0dXJuIGEgPT09IGI7XG4gICAgY29uc3QgaXNPYmogPSBpcy5vYmooYSk7XG4gICAgaWYgKGlzT2JqICYmIG9iamVjdHMgPT09ICdyZWZlcmVuY2UnKSByZXR1cm4gYSA9PT0gYjtcbiAgICBjb25zdCBpc0FyciA9IGlzLmFycihhKTtcbiAgICBpZiAoaXNBcnIgJiYgYXJyYXlzID09PSAncmVmZXJlbmNlJykgcmV0dXJuIGEgPT09IGI7XG4gICAgLy8gQXJyYXkgb3IgT2JqZWN0LCBzaGFsbG93IGNvbXBhcmUgZmlyc3QgdG8gc2VlIGlmIGl0J3MgYSBtYXRjaFxuICAgIGlmICgoaXNBcnIgfHwgaXNPYmopICYmIGEgPT09IGIpIHJldHVybiB0cnVlO1xuICAgIC8vIExhc3QgcmVzb3J0LCBnbyB0aHJvdWdoIGtleXNcbiAgICBsZXQgaTtcbiAgICAvLyBDaGVjayBpZiBhIGhhcyBhbGwgdGhlIGtleXMgb2YgYlxuICAgIGZvciAoaSBpbiBhKSBpZiAoIShpIGluIGIpKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gQ2hlY2sgaWYgdmFsdWVzIGJldHdlZW4ga2V5cyBtYXRjaFxuICAgIGlmIChpc09iaiAmJiBhcnJheXMgPT09ICdzaGFsbG93JyAmJiBvYmplY3RzID09PSAnc2hhbGxvdycpIHtcbiAgICAgIGZvciAoaSBpbiBzdHJpY3QgPyBiIDogYSkgaWYgKCFpcy5lcXUoYVtpXSwgYltpXSwge1xuICAgICAgICBzdHJpY3QsXG4gICAgICAgIG9iamVjdHM6ICdyZWZlcmVuY2UnXG4gICAgICB9KSkgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGkgaW4gc3RyaWN0ID8gYiA6IGEpIGlmIChhW2ldICE9PSBiW2ldKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIElmIGkgaXMgdW5kZWZpbmVkXG4gICAgaWYgKGlzLnVuZChpKSkge1xuICAgICAgLy8gSWYgYm90aCBhcnJheXMgYXJlIGVtcHR5IHdlIGNvbnNpZGVyIHRoZW0gZXF1YWxcbiAgICAgIGlmIChpc0FyciAmJiBhLmxlbmd0aCA9PT0gMCAmJiBiLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWU7XG4gICAgICAvLyBJZiBib3RoIG9iamVjdHMgYXJlIGVtcHR5IHdlIGNvbnNpZGVyIHRoZW0gZXF1YWxcbiAgICAgIGlmIChpc09iaiAmJiBPYmplY3Qua2V5cyhhKS5sZW5ndGggPT09IDAgJiYgT2JqZWN0LmtleXMoYikubGVuZ3RoID09PSAwKSByZXR1cm4gdHJ1ZTtcbiAgICAgIC8vIE90aGVyd2lzZSBtYXRjaCB0aGVtIGJ5IHZhbHVlXG4gICAgICBpZiAoYSAhPT0gYikgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuLy8gQ29sbGVjdHMgbm9kZXMgYW5kIG1hdGVyaWFscyBmcm9tIGEgVEhSRUUuT2JqZWN0M0RcbmZ1bmN0aW9uIGJ1aWxkR3JhcGgob2JqZWN0KSB7XG4gIGNvbnN0IGRhdGEgPSB7XG4gICAgbm9kZXM6IHt9LFxuICAgIG1hdGVyaWFsczoge30sXG4gICAgbWVzaGVzOiB7fVxuICB9O1xuICBpZiAob2JqZWN0KSB7XG4gICAgb2JqZWN0LnRyYXZlcnNlKG9iaiA9PiB7XG4gICAgICBpZiAob2JqLm5hbWUpIGRhdGEubm9kZXNbb2JqLm5hbWVdID0gb2JqO1xuICAgICAgaWYgKG9iai5tYXRlcmlhbCAmJiAhZGF0YS5tYXRlcmlhbHNbb2JqLm1hdGVyaWFsLm5hbWVdKSBkYXRhLm1hdGVyaWFsc1tvYmoubWF0ZXJpYWwubmFtZV0gPSBvYmoubWF0ZXJpYWw7XG4gICAgICBpZiAob2JqLmlzTWVzaCAmJiAhZGF0YS5tZXNoZXNbb2JqLm5hbWVdKSBkYXRhLm1lc2hlc1tvYmoubmFtZV0gPSBvYmo7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGRhdGE7XG59XG4vLyBEaXNwb3NlcyBhbiBvYmplY3QgYW5kIGFsbCBpdHMgcHJvcGVydGllc1xuZnVuY3Rpb24gZGlzcG9zZShvYmopIHtcbiAgaWYgKG9iai50eXBlICE9PSAnU2NlbmUnKSBvYmouZGlzcG9zZSA9PSBudWxsID8gdm9pZCAwIDogb2JqLmRpc3Bvc2UoKTtcbiAgZm9yIChjb25zdCBwIGluIG9iaikge1xuICAgIGNvbnN0IHByb3AgPSBvYmpbcF07XG4gICAgaWYgKChwcm9wID09IG51bGwgPyB2b2lkIDAgOiBwcm9wLnR5cGUpICE9PSAnU2NlbmUnKSBwcm9wID09IG51bGwgPyB2b2lkIDAgOiBwcm9wLmRpc3Bvc2UgPT0gbnVsbCA/IHZvaWQgMCA6IHByb3AuZGlzcG9zZSgpO1xuICB9XG59XG5jb25zdCBSRUFDVF9JTlRFUk5BTF9QUk9QUyA9IFsnY2hpbGRyZW4nLCAna2V5JywgJ3JlZiddO1xuXG4vLyBHZXRzIG9ubHkgaW5zdGFuY2UgcHJvcHMgZnJvbSByZWNvbmNpbGVyIGZpYmVyc1xuZnVuY3Rpb24gZ2V0SW5zdGFuY2VQcm9wcyhxdWV1ZSkge1xuICBjb25zdCBwcm9wcyA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiBxdWV1ZSkge1xuICAgIGlmICghUkVBQ1RfSU5URVJOQUxfUFJPUFMuaW5jbHVkZXMoa2V5KSkgcHJvcHNba2V5XSA9IHF1ZXVlW2tleV07XG4gIH1cbiAgcmV0dXJuIHByb3BzO1xufVxuXG4vLyBFYWNoIG9iamVjdCBpbiB0aGUgc2NlbmUgY2FycmllcyBhIHNtYWxsIExvY2FsU3RhdGUgZGVzY3JpcHRvclxuZnVuY3Rpb24gcHJlcGFyZSh0YXJnZXQsIHJvb3QsIHR5cGUsIHByb3BzKSB7XG4gIGNvbnN0IG9iamVjdCA9IHRhcmdldDtcblxuICAvLyBDcmVhdGUgaW5zdGFuY2UgZGVzY3JpcHRvclxuICBsZXQgaW5zdGFuY2UgPSBvYmplY3QgPT0gbnVsbCA/IHZvaWQgMCA6IG9iamVjdC5fX3IzZjtcbiAgaWYgKCFpbnN0YW5jZSkge1xuICAgIGluc3RhbmNlID0ge1xuICAgICAgcm9vdCxcbiAgICAgIHR5cGUsXG4gICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICBjaGlsZHJlbjogW10sXG4gICAgICBwcm9wczogZ2V0SW5zdGFuY2VQcm9wcyhwcm9wcyksXG4gICAgICBvYmplY3QsXG4gICAgICBldmVudENvdW50OiAwLFxuICAgICAgaGFuZGxlcnM6IHt9LFxuICAgICAgaXNIaWRkZW46IGZhbHNlXG4gICAgfTtcbiAgICBpZiAob2JqZWN0KSBvYmplY3QuX19yM2YgPSBpbnN0YW5jZTtcbiAgfVxuICByZXR1cm4gaW5zdGFuY2U7XG59XG5mdW5jdGlvbiByZXNvbHZlKHJvb3QsIGtleSkge1xuICBsZXQgdGFyZ2V0ID0gcm9vdFtrZXldO1xuICBpZiAoIWtleS5pbmNsdWRlcygnLScpKSByZXR1cm4ge1xuICAgIHJvb3QsXG4gICAga2V5LFxuICAgIHRhcmdldFxuICB9O1xuXG4gIC8vIFJlc29sdmUgcGllcmNlZCB0YXJnZXRcbiAgdGFyZ2V0ID0gcm9vdDtcbiAgZm9yIChjb25zdCBwYXJ0IG9mIGtleS5zcGxpdCgnLScpKSB7XG4gICAgdmFyIF90YXJnZXQ7XG4gICAga2V5ID0gcGFydDtcbiAgICByb290ID0gdGFyZ2V0O1xuICAgIHRhcmdldCA9IChfdGFyZ2V0ID0gdGFyZ2V0KSA9PSBudWxsID8gdm9pZCAwIDogX3RhcmdldFtrZXldO1xuICB9XG5cbiAgLy8gVE9ETzogY2hhbmdlIGtleSB0byAnZm9vLWJhcicgaWYgdGFyZ2V0IGlzIHVuZGVmaW5lZD9cblxuICByZXR1cm4ge1xuICAgIHJvb3QsXG4gICAga2V5LFxuICAgIHRhcmdldFxuICB9O1xufVxuXG4vLyBDaGVja3MgaWYgYSBkYXNoLWNhc2VkIHN0cmluZyBlbmRzIHdpdGggYW4gaW50ZWdlclxuY29uc3QgSU5ERVhfUkVHRVggPSAvLVxcZCskLztcbmZ1bmN0aW9uIGF0dGFjaChwYXJlbnQsIGNoaWxkKSB7XG4gIGlmIChpcy5zdHIoY2hpbGQucHJvcHMuYXR0YWNoKSkge1xuICAgIC8vIElmIGF0dGFjaGluZyBpbnRvIGFuIGFycmF5IChmb28tMCksIGNyZWF0ZSBvbmVcbiAgICBpZiAoSU5ERVhfUkVHRVgudGVzdChjaGlsZC5wcm9wcy5hdHRhY2gpKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGNoaWxkLnByb3BzLmF0dGFjaC5yZXBsYWNlKElOREVYX1JFR0VYLCAnJyk7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHJvb3QsXG4gICAgICAgIGtleVxuICAgICAgfSA9IHJlc29sdmUocGFyZW50Lm9iamVjdCwgaW5kZXgpO1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHJvb3Rba2V5XSkpIHJvb3Rba2V5XSA9IFtdO1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICByb290LFxuICAgICAga2V5XG4gICAgfSA9IHJlc29sdmUocGFyZW50Lm9iamVjdCwgY2hpbGQucHJvcHMuYXR0YWNoKTtcbiAgICBjaGlsZC5wcmV2aW91c0F0dGFjaCA9IHJvb3Rba2V5XTtcbiAgICByb290W2tleV0gPSBjaGlsZC5vYmplY3Q7XG4gIH0gZWxzZSBpZiAoaXMuZnVuKGNoaWxkLnByb3BzLmF0dGFjaCkpIHtcbiAgICBjaGlsZC5wcmV2aW91c0F0dGFjaCA9IGNoaWxkLnByb3BzLmF0dGFjaChwYXJlbnQub2JqZWN0LCBjaGlsZC5vYmplY3QpO1xuICB9XG59XG5mdW5jdGlvbiBkZXRhY2gocGFyZW50LCBjaGlsZCkge1xuICBpZiAoaXMuc3RyKGNoaWxkLnByb3BzLmF0dGFjaCkpIHtcbiAgICBjb25zdCB7XG4gICAgICByb290LFxuICAgICAga2V5XG4gICAgfSA9IHJlc29sdmUocGFyZW50Lm9iamVjdCwgY2hpbGQucHJvcHMuYXR0YWNoKTtcbiAgICBjb25zdCBwcmV2aW91cyA9IGNoaWxkLnByZXZpb3VzQXR0YWNoO1xuICAgIC8vIFdoZW4gdGhlIHByZXZpb3VzIHZhbHVlIHdhcyB1bmRlZmluZWQsIGl0IG1lYW5zIHRoZSB2YWx1ZSB3YXMgbmV2ZXIgc2V0IHRvIGJlZ2luIHdpdGhcbiAgICBpZiAocHJldmlvdXMgPT09IHVuZGVmaW5lZCkgZGVsZXRlIHJvb3Rba2V5XTtcbiAgICAvLyBPdGhlcndpc2Ugc2V0IHRoZSBwcmV2aW91cyB2YWx1ZVxuICAgIGVsc2Ugcm9vdFtrZXldID0gcHJldmlvdXM7XG4gIH0gZWxzZSB7XG4gICAgY2hpbGQucHJldmlvdXNBdHRhY2ggPT0gbnVsbCA/IHZvaWQgMCA6IGNoaWxkLnByZXZpb3VzQXR0YWNoKHBhcmVudC5vYmplY3QsIGNoaWxkLm9iamVjdCk7XG4gIH1cbiAgZGVsZXRlIGNoaWxkLnByZXZpb3VzQXR0YWNoO1xufVxuY29uc3QgUkVTRVJWRURfUFJPUFMgPSBbLi4uUkVBQ1RfSU5URVJOQUxfUFJPUFMsXG4vLyBJbnN0YW5jZSBwcm9wc1xuJ2FyZ3MnLCAnZGlzcG9zZScsICdhdHRhY2gnLCAnb2JqZWN0JywgJ29uVXBkYXRlJyxcbi8vIEJlaGF2aW9yIGZsYWdzXG4nZGlzcG9zZSddO1xuY29uc3QgTUVNT0laRURfUFJPVE9UWVBFUyA9IG5ldyBNYXAoKTtcbmZ1bmN0aW9uIGdldE1lbW9pemVkUHJvdG90eXBlKHJvb3QpIHtcbiAgbGV0IGN0b3IgPSBNRU1PSVpFRF9QUk9UT1RZUEVTLmdldChyb290LmNvbnN0cnVjdG9yKTtcbiAgdHJ5IHtcbiAgICBpZiAoIWN0b3IpIHtcbiAgICAgIGN0b3IgPSBuZXcgcm9vdC5jb25zdHJ1Y3RvcigpO1xuICAgICAgTUVNT0laRURfUFJPVE9UWVBFUy5zZXQocm9vdC5jb25zdHJ1Y3RvciwgY3Rvcik7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gLi4uXG4gIH1cbiAgcmV0dXJuIGN0b3I7XG59XG5cbi8vIFRoaXMgZnVuY3Rpb24gcHJlcGFyZXMgYSBzZXQgb2YgY2hhbmdlcyB0byBiZSBhcHBsaWVkIHRvIHRoZSBpbnN0YW5jZVxuZnVuY3Rpb24gZGlmZlByb3BzKGluc3RhbmNlLCBuZXdQcm9wcykge1xuICBjb25zdCBjaGFuZ2VkUHJvcHMgPSB7fTtcblxuICAvLyBTb3J0IHRocm91Z2ggcHJvcHNcbiAgZm9yIChjb25zdCBwcm9wIGluIG5ld1Byb3BzKSB7XG4gICAgLy8gU2tpcCByZXNlcnZlZCBrZXlzXG4gICAgaWYgKFJFU0VSVkVEX1BST1BTLmluY2x1ZGVzKHByb3ApKSBjb250aW51ZTtcbiAgICAvLyBTa2lwIGlmIHByb3BzIG1hdGNoXG4gICAgaWYgKGlzLmVxdShuZXdQcm9wc1twcm9wXSwgaW5zdGFuY2UucHJvcHNbcHJvcF0pKSBjb250aW51ZTtcblxuICAgIC8vIFByb3BzIGNoYW5nZWQsIGFkZCB0aGVtXG4gICAgY2hhbmdlZFByb3BzW3Byb3BdID0gbmV3UHJvcHNbcHJvcF07XG5cbiAgICAvLyBSZXNldCBwaWVyY2VkIHByb3BzXG4gICAgZm9yIChjb25zdCBvdGhlciBpbiBuZXdQcm9wcykge1xuICAgICAgaWYgKG90aGVyLnN0YXJ0c1dpdGgoYCR7cHJvcH0tYCkpIGNoYW5nZWRQcm9wc1tvdGhlcl0gPSBuZXdQcm9wc1tvdGhlcl07XG4gICAgfVxuICB9XG5cbiAgLy8gUmVzZXQgcmVtb3ZlZCBwcm9wcyBmb3IgSE1SXG4gIGZvciAoY29uc3QgcHJvcCBpbiBpbnN0YW5jZS5wcm9wcykge1xuICAgIGlmIChSRVNFUlZFRF9QUk9QUy5pbmNsdWRlcyhwcm9wKSB8fCBuZXdQcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgY29udGludWU7XG4gICAgY29uc3Qge1xuICAgICAgcm9vdCxcbiAgICAgIGtleVxuICAgIH0gPSByZXNvbHZlKGluc3RhbmNlLm9iamVjdCwgcHJvcCk7XG5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL2lzc3Vlcy8yMTIwOVxuICAgIC8vIEhNUi9mYXN0LXJlZnJlc2ggcmVsaWVzIG9uIHRoZSBhYmlsaXR5IHRvIGNhbmNlbCBvdXQgcHJvcHMsIGJ1dCB0aHJlZWpzXG4gICAgLy8gaGFzIG5vIG1lYW5zIHRvIGRvIHRoaXMuIEhlbmNlIHdlIGN1cmF0ZSBhIHNtYWxsIGNvbGxlY3Rpb24gb2YgdmFsdWUtY2xhc3Nlc1xuICAgIC8vIHdpdGggdGhlaXIgcmVzcGVjdGl2ZSBjb25zdHJ1Y3Rvci9zZXQgYXJndW1lbnRzXG4gICAgLy8gRm9yIHJlbW92ZWQgcHJvcHMsIHRyeSB0byBzZXQgZGVmYXVsdCB2YWx1ZXMsIGlmIHBvc3NpYmxlXG4gICAgaWYgKHJvb3QuY29uc3RydWN0b3IgJiYgcm9vdC5jb25zdHJ1Y3Rvci5sZW5ndGggPT09IDApIHtcbiAgICAgIC8vIGNyZWF0ZSBhIGJsYW5rIHNsYXRlIG9mIHRoZSBpbnN0YW5jZSBhbmQgY29weSB0aGUgcGFydGljdWxhciBwYXJhbWV0ZXIuXG4gICAgICBjb25zdCBjdG9yID0gZ2V0TWVtb2l6ZWRQcm90b3R5cGUocm9vdCk7XG4gICAgICBpZiAoIWlzLnVuZChjdG9yKSkgY2hhbmdlZFByb3BzW2tleV0gPSBjdG9yW2tleV07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGluc3RhbmNlIGRvZXMgbm90IGhhdmUgY29uc3RydWN0b3IsIGp1c3Qgc2V0IGl0IHRvIDBcbiAgICAgIGNoYW5nZWRQcm9wc1trZXldID0gMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNoYW5nZWRQcm9wcztcbn1cblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9wdWxsLzI3MDQyXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbXJkb29iL3RocmVlLmpzL3B1bGwvMjI3NDhcbmNvbnN0IGNvbG9yTWFwcyA9IFsnbWFwJywgJ2VtaXNzaXZlTWFwJywgJ3NoZWVuQ29sb3JNYXAnLCAnc3BlY3VsYXJDb2xvck1hcCcsICdlbnZNYXAnXTtcbmNvbnN0IEVWRU5UX1JFR0VYID0gL15vbihQb2ludGVyfENsaWNrfERvdWJsZUNsaWNrfENvbnRleHRNZW51fFdoZWVsKS87XG4vLyBUaGlzIGZ1bmN0aW9uIGFwcGxpZXMgYSBzZXQgb2YgY2hhbmdlcyB0byB0aGUgaW5zdGFuY2VcbmZ1bmN0aW9uIGFwcGx5UHJvcHMob2JqZWN0LCBwcm9wcykge1xuICB2YXIgX2luc3RhbmNlJG9iamVjdDtcbiAgY29uc3QgaW5zdGFuY2UgPSBvYmplY3QuX19yM2Y7XG4gIGNvbnN0IHJvb3RTdGF0ZSA9IGluc3RhbmNlICYmIGZpbmRJbml0aWFsUm9vdChpbnN0YW5jZSkuZ2V0U3RhdGUoKTtcbiAgY29uc3QgcHJldkhhbmRsZXJzID0gaW5zdGFuY2UgPT0gbnVsbCA/IHZvaWQgMCA6IGluc3RhbmNlLmV2ZW50Q291bnQ7XG4gIGZvciAoY29uc3QgcHJvcCBpbiBwcm9wcykge1xuICAgIGxldCB2YWx1ZSA9IHByb3BzW3Byb3BdO1xuXG4gICAgLy8gRG9uJ3QgbXV0YXRlIHJlc2VydmVkIGtleXNcbiAgICBpZiAoUkVTRVJWRURfUFJPUFMuaW5jbHVkZXMocHJvcCkpIGNvbnRpbnVlO1xuXG4gICAgLy8gRGVhbCB3aXRoIHBvaW50ZXIgZXZlbnRzLCBpbmNsdWRpbmcgcmVtb3ZpbmcgdGhlbSBpZiB1bmRlZmluZWRcbiAgICBpZiAoaW5zdGFuY2UgJiYgRVZFTlRfUkVHRVgudGVzdChwcm9wKSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykgaW5zdGFuY2UuaGFuZGxlcnNbcHJvcF0gPSB2YWx1ZTtlbHNlIGRlbGV0ZSBpbnN0YW5jZS5oYW5kbGVyc1twcm9wXTtcbiAgICAgIGluc3RhbmNlLmV2ZW50Q291bnQgPSBPYmplY3Qua2V5cyhpbnN0YW5jZS5oYW5kbGVycykubGVuZ3RoO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gSWdub3JlIHNldHRpbmcgdW5kZWZpbmVkIHByb3BzXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BtbmRycy9yZWFjdC10aHJlZS1maWJlci9pc3N1ZXMvMjc0XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIGNvbnRpbnVlO1xuICAgIGxldCB7XG4gICAgICByb290LFxuICAgICAga2V5LFxuICAgICAgdGFyZ2V0XG4gICAgfSA9IHJlc29sdmUob2JqZWN0LCBwcm9wKTtcblxuICAgIC8vIExheWVycyBtdXN0IGJlIHdyaXR0ZW4gdG8gdGhlIG1hc2sgcHJvcGVydHlcbiAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgVEhSRUUuTGF5ZXJzICYmIHZhbHVlIGluc3RhbmNlb2YgVEhSRUUuTGF5ZXJzKSB7XG4gICAgICB0YXJnZXQubWFzayA9IHZhbHVlLm1hc2s7XG4gICAgfVxuICAgIC8vIFNldCBjb2xvcnMgaWYgdmFsaWQgY29sb3IgcmVwcmVzZW50YXRpb24gZm9yIGF1dG9tYXRpYyBjb252ZXJzaW9uIChjb3B5KVxuICAgIGVsc2UgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFRIUkVFLkNvbG9yICYmIGlzQ29sb3JSZXByZXNlbnRhdGlvbih2YWx1ZSkpIHtcbiAgICAgIHRhcmdldC5zZXQodmFsdWUpO1xuICAgIH1cbiAgICAvLyBDb3B5IGlmIHByb3BlcnRpZXMgbWF0Y2ggc2lnbmF0dXJlcyBhbmQgaW1wbGVtZW50IG1hdGggaW50ZXJmYWNlIChsaWtlbHkgcmVhZC1vbmx5KVxuICAgIGVsc2UgaWYgKHRhcmdldCAhPT0gbnVsbCAmJiB0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdGFyZ2V0LnNldCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdGFyZ2V0LmNvcHkgPT09ICdmdW5jdGlvbicgJiYgdmFsdWUgIT0gbnVsbCAmJiB2YWx1ZS5jb25zdHJ1Y3RvciAmJiB0YXJnZXQuY29uc3RydWN0b3IgPT09IHZhbHVlLmNvbnN0cnVjdG9yKSB7XG4gICAgICB0YXJnZXQuY29weSh2YWx1ZSk7XG4gICAgfVxuICAgIC8vIFNldCBhcnJheSB0eXBlc1xuICAgIGVsc2UgaWYgKHRhcmdldCAhPT0gbnVsbCAmJiB0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdGFyZ2V0LnNldCA9PT0gJ2Z1bmN0aW9uJyAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgaWYgKHR5cGVvZiB0YXJnZXQuZnJvbUFycmF5ID09PSAnZnVuY3Rpb24nKSB0YXJnZXQuZnJvbUFycmF5KHZhbHVlKTtlbHNlIHRhcmdldC5zZXQoLi4udmFsdWUpO1xuICAgIH1cbiAgICAvLyBTZXQgbGl0ZXJhbCB0eXBlc1xuICAgIGVsc2UgaWYgKHRhcmdldCAhPT0gbnVsbCAmJiB0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdGFyZ2V0LnNldCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAvLyBBbGxvdyBzZXR0aW5nIGFycmF5IHNjYWxhcnNcbiAgICAgIGlmICh0eXBlb2YgdGFyZ2V0LnNldFNjYWxhciA9PT0gJ2Z1bmN0aW9uJykgdGFyZ2V0LnNldFNjYWxhcih2YWx1ZSk7XG4gICAgICAvLyBPdGhlcndpc2UganVzdCBzZXQgc2luZ2xlIHZhbHVlXG4gICAgICBlbHNlIHRhcmdldC5zZXQodmFsdWUpO1xuICAgIH1cbiAgICAvLyBFbHNlLCBqdXN0IG92ZXJ3cml0ZSB0aGUgdmFsdWVcbiAgICBlbHNlIHtcbiAgICAgIHZhciBfcm9vdCRrZXk7XG4gICAgICByb290W2tleV0gPSB2YWx1ZTtcblxuICAgICAgLy8gQXV0by1jb252ZXJ0IHNSR0IgdGV4dHVyZSBwYXJhbWV0ZXJzIGZvciBidWlsdC1pbiBtYXRlcmlhbHNcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvcmVhY3QtdGhyZWUtZmliZXIvaXNzdWVzLzM0NFxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9wdWxsLzI1ODU3XG4gICAgICBpZiAocm9vdFN0YXRlICYmICFyb290U3RhdGUubGluZWFyICYmIGNvbG9yTWFwcy5pbmNsdWRlcyhrZXkpICYmIChfcm9vdCRrZXkgPSByb290W2tleV0pICE9IG51bGwgJiYgX3Jvb3Qka2V5LmlzVGV4dHVyZSAmJlxuICAgICAgLy8gc1JHQiB0ZXh0dXJlcyBtdXN0IGJlIFJHQkE4IHNpbmNlIHIxMzcgaHR0cHM6Ly9naXRodWIuY29tL21yZG9vYi90aHJlZS5qcy9wdWxsLzIzMTI5XG4gICAgICByb290W2tleV0uZm9ybWF0ID09PSBUSFJFRS5SR0JBRm9ybWF0ICYmIHJvb3Rba2V5XS50eXBlID09PSBUSFJFRS5VbnNpZ25lZEJ5dGVUeXBlKSB7XG4gICAgICAgIC8vIE5PVEU6IHRoaXMgY2Fubm90IGJlIHNldCBmcm9tIHRoZSByZW5kZXJlciAoZS5nLiBzUkdCIHNvdXJjZSB0ZXh0dXJlcyByZW5kZXJlZCB0byBQMylcbiAgICAgICAgcm9vdFtrZXldLmNvbG9yU3BhY2UgPSBUSFJFRS5TUkdCQ29sb3JTcGFjZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBSZWdpc3RlciBldmVudCBoYW5kbGVyc1xuICBpZiAoaW5zdGFuY2UgIT0gbnVsbCAmJiBpbnN0YW5jZS5wYXJlbnQgJiYgcm9vdFN0YXRlICE9IG51bGwgJiYgcm9vdFN0YXRlLmludGVybmFsICYmIChfaW5zdGFuY2Ukb2JqZWN0ID0gaW5zdGFuY2Uub2JqZWN0KSAhPSBudWxsICYmIF9pbnN0YW5jZSRvYmplY3QuaXNPYmplY3QzRCAmJiBwcmV2SGFuZGxlcnMgIT09IGluc3RhbmNlLmV2ZW50Q291bnQpIHtcbiAgICBjb25zdCBvYmplY3QgPSBpbnN0YW5jZS5vYmplY3Q7XG4gICAgLy8gUHJlLWVtcHRpdmVseSByZW1vdmUgdGhlIGluc3RhbmNlIGZyb20gdGhlIGludGVyYWN0aW9uIG1hbmFnZXJcbiAgICBjb25zdCBpbmRleCA9IHJvb3RTdGF0ZS5pbnRlcm5hbC5pbnRlcmFjdGlvbi5pbmRleE9mKG9iamVjdCk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHJvb3RTdGF0ZS5pbnRlcm5hbC5pbnRlcmFjdGlvbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIC8vIEFkZCB0aGUgaW5zdGFuY2UgdG8gdGhlIGludGVyYWN0aW9uIG1hbmFnZXIgb25seSB3aGVuIGl0IGhhcyBoYW5kbGVyc1xuICAgIGlmIChpbnN0YW5jZS5ldmVudENvdW50ICYmIG9iamVjdC5yYXljYXN0ICE9PSBudWxsKSB7XG4gICAgICByb290U3RhdGUuaW50ZXJuYWwuaW50ZXJhY3Rpb24ucHVzaChvYmplY3QpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEF1dG8tYXR0YWNoIGdlb21ldHJpZXMgYW5kIG1hdGVyaWFsc1xuICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UucHJvcHMuYXR0YWNoID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoaW5zdGFuY2Uub2JqZWN0LmlzQnVmZmVyR2VvbWV0cnkpIGluc3RhbmNlLnByb3BzLmF0dGFjaCA9ICdnZW9tZXRyeSc7ZWxzZSBpZiAoaW5zdGFuY2Uub2JqZWN0LmlzTWF0ZXJpYWwpIGluc3RhbmNlLnByb3BzLmF0dGFjaCA9ICdtYXRlcmlhbCc7XG4gIH1cblxuICAvLyBJbnN0YW5jZSB3YXMgdXBkYXRlZCwgcmVxdWVzdCBhIGZyYW1lXG4gIGlmIChpbnN0YW5jZSkgaW52YWxpZGF0ZUluc3RhbmNlKGluc3RhbmNlKTtcbiAgcmV0dXJuIG9iamVjdDtcbn1cbmZ1bmN0aW9uIGludmFsaWRhdGVJbnN0YW5jZShpbnN0YW5jZSkge1xuICB2YXIgX2luc3RhbmNlJHJvb3Q7XG4gIGlmICghaW5zdGFuY2UucGFyZW50KSByZXR1cm47XG4gIGluc3RhbmNlLnByb3BzLm9uVXBkYXRlID09IG51bGwgPyB2b2lkIDAgOiBpbnN0YW5jZS5wcm9wcy5vblVwZGF0ZShpbnN0YW5jZS5vYmplY3QpO1xuICBjb25zdCBzdGF0ZSA9IChfaW5zdGFuY2Ukcm9vdCA9IGluc3RhbmNlLnJvb3QpID09IG51bGwgPyB2b2lkIDAgOiBfaW5zdGFuY2Ukcm9vdC5nZXRTdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogX2luc3RhbmNlJHJvb3QuZ2V0U3RhdGUoKTtcbiAgaWYgKHN0YXRlICYmIHN0YXRlLmludGVybmFsLmZyYW1lcyA9PT0gMCkgc3RhdGUuaW52YWxpZGF0ZSgpO1xufVxuZnVuY3Rpb24gdXBkYXRlQ2FtZXJhKGNhbWVyYSwgc2l6ZSkge1xuICAvLyBEbyBub3QgbWVzcyB3aXRoIHRoZSBjYW1lcmEgaWYgaXQgYmVsb25ncyB0byB0aGUgdXNlclxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vcG1uZHJzL3JlYWN0LXRocmVlLWZpYmVyL2lzc3Vlcy85MlxuICBpZiAoY2FtZXJhLm1hbnVhbCkgcmV0dXJuO1xuICBpZiAoaXNPcnRob2dyYXBoaWNDYW1lcmEoY2FtZXJhKSkge1xuICAgIGNhbWVyYS5sZWZ0ID0gc2l6ZS53aWR0aCAvIC0yO1xuICAgIGNhbWVyYS5yaWdodCA9IHNpemUud2lkdGggLyAyO1xuICAgIGNhbWVyYS50b3AgPSBzaXplLmhlaWdodCAvIDI7XG4gICAgY2FtZXJhLmJvdHRvbSA9IHNpemUuaGVpZ2h0IC8gLTI7XG4gIH0gZWxzZSB7XG4gICAgY2FtZXJhLmFzcGVjdCA9IHNpemUud2lkdGggLyBzaXplLmhlaWdodDtcbiAgfVxuICBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xufVxuY29uc3QgaXNPYmplY3QzRCA9IG9iamVjdCA9PiBvYmplY3QgPT0gbnVsbCA/IHZvaWQgMCA6IG9iamVjdC5pc09iamVjdDNEO1xuXG5mdW5jdGlvbiBtYWtlSWQoZXZlbnQpIHtcbiAgcmV0dXJuIChldmVudC5ldmVudE9iamVjdCB8fCBldmVudC5vYmplY3QpLnV1aWQgKyAnLycgKyBldmVudC5pbmRleCArIGV2ZW50Lmluc3RhbmNlSWQ7XG59XG5cbi8qKlxyXG4gKiBSZWxlYXNlIHBvaW50ZXIgY2FwdHVyZXMuXHJcbiAqIFRoaXMgaXMgY2FsbGVkIGJ5IHJlbGVhc2VQb2ludGVyQ2FwdHVyZSBpbiB0aGUgQVBJLCBhbmQgd2hlbiBhbiBvYmplY3QgaXMgcmVtb3ZlZC5cclxuICovXG5mdW5jdGlvbiByZWxlYXNlSW50ZXJuYWxQb2ludGVyQ2FwdHVyZShjYXB0dXJlZE1hcCwgb2JqLCBjYXB0dXJlcywgcG9pbnRlcklkKSB7XG4gIGNvbnN0IGNhcHR1cmVEYXRhID0gY2FwdHVyZXMuZ2V0KG9iaik7XG4gIGlmIChjYXB0dXJlRGF0YSkge1xuICAgIGNhcHR1cmVzLmRlbGV0ZShvYmopO1xuICAgIC8vIElmIHRoaXMgd2FzIHRoZSBsYXN0IGNhcHR1cmluZyBvYmplY3QgZm9yIHRoaXMgcG9pbnRlclxuICAgIGlmIChjYXB0dXJlcy5zaXplID09PSAwKSB7XG4gICAgICBjYXB0dXJlZE1hcC5kZWxldGUocG9pbnRlcklkKTtcbiAgICAgIGNhcHR1cmVEYXRhLnRhcmdldC5yZWxlYXNlUG9pbnRlckNhcHR1cmUocG9pbnRlcklkKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZUludGVyYWN0aXZpdHkoc3RvcmUsIG9iamVjdCkge1xuICBjb25zdCB7XG4gICAgaW50ZXJuYWxcbiAgfSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gIC8vIFJlbW92ZXMgZXZlcnkgdHJhY2Ugb2YgYW4gb2JqZWN0IGZyb20gdGhlIGRhdGEgc3RvcmVcbiAgaW50ZXJuYWwuaW50ZXJhY3Rpb24gPSBpbnRlcm5hbC5pbnRlcmFjdGlvbi5maWx0ZXIobyA9PiBvICE9PSBvYmplY3QpO1xuICBpbnRlcm5hbC5pbml0aWFsSGl0cyA9IGludGVybmFsLmluaXRpYWxIaXRzLmZpbHRlcihvID0+IG8gIT09IG9iamVjdCk7XG4gIGludGVybmFsLmhvdmVyZWQuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgIGlmICh2YWx1ZS5ldmVudE9iamVjdCA9PT0gb2JqZWN0IHx8IHZhbHVlLm9iamVjdCA9PT0gb2JqZWN0KSB7XG4gICAgICAvLyBDbGVhciBvdXQgaW50ZXJzZWN0cywgdGhleSBhcmUgb3V0ZGF0ZWQgYnkgbm93XG4gICAgICBpbnRlcm5hbC5ob3ZlcmVkLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgfSk7XG4gIGludGVybmFsLmNhcHR1cmVkTWFwLmZvckVhY2goKGNhcHR1cmVzLCBwb2ludGVySWQpID0+IHtcbiAgICByZWxlYXNlSW50ZXJuYWxQb2ludGVyQ2FwdHVyZShpbnRlcm5hbC5jYXB0dXJlZE1hcCwgb2JqZWN0LCBjYXB0dXJlcywgcG9pbnRlcklkKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVFdmVudHMoc3RvcmUpIHtcbiAgLyoqIENhbGN1bGF0ZXMgZGVsdGEgKi9cbiAgZnVuY3Rpb24gY2FsY3VsYXRlRGlzdGFuY2UoZXZlbnQpIHtcbiAgICBjb25zdCB7XG4gICAgICBpbnRlcm5hbFxuICAgIH0gPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGR4ID0gZXZlbnQub2Zmc2V0WCAtIGludGVybmFsLmluaXRpYWxDbGlja1swXTtcbiAgICBjb25zdCBkeSA9IGV2ZW50Lm9mZnNldFkgLSBpbnRlcm5hbC5pbml0aWFsQ2xpY2tbMV07XG4gICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KSk7XG4gIH1cblxuICAvKiogUmV0dXJucyB0cnVlIGlmIGFuIGluc3RhbmNlIGhhcyBhIHZhbGlkIHBvaW50ZXItZXZlbnQgcmVnaXN0ZXJlZCwgdGhpcyBleGNsdWRlcyBzY3JvbGwsIGNsaWNrcyBldGMgKi9cbiAgZnVuY3Rpb24gZmlsdGVyUG9pbnRlckV2ZW50cyhvYmplY3RzKSB7XG4gICAgcmV0dXJuIG9iamVjdHMuZmlsdGVyKG9iaiA9PiBbJ01vdmUnLCAnT3ZlcicsICdFbnRlcicsICdPdXQnLCAnTGVhdmUnXS5zb21lKG5hbWUgPT4ge1xuICAgICAgdmFyIF9yM2Y7XG4gICAgICByZXR1cm4gKF9yM2YgPSBvYmouX19yM2YpID09IG51bGwgPyB2b2lkIDAgOiBfcjNmLmhhbmRsZXJzWydvblBvaW50ZXInICsgbmFtZV07XG4gICAgfSkpO1xuICB9XG4gIGZ1bmN0aW9uIGludGVyc2VjdChldmVudCwgZmlsdGVyKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGR1cGxpY2F0ZXMgPSBuZXcgU2V0KCk7XG4gICAgY29uc3QgaW50ZXJzZWN0aW9ucyA9IFtdO1xuICAgIC8vIEFsbG93IGNhbGxlcnMgdG8gZWxpbWluYXRlIGV2ZW50IG9iamVjdHNcbiAgICBjb25zdCBldmVudHNPYmplY3RzID0gZmlsdGVyID8gZmlsdGVyKHN0YXRlLmludGVybmFsLmludGVyYWN0aW9uKSA6IHN0YXRlLmludGVybmFsLmludGVyYWN0aW9uO1xuICAgIC8vIFJlc2V0IGFsbCByYXljYXN0ZXIgY2FtZXJhcyB0byB1bmRlZmluZWRcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50c09iamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHN0YXRlID0gZ2V0Um9vdFN0YXRlKGV2ZW50c09iamVjdHNbaV0pO1xuICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIHN0YXRlLnJheWNhc3Rlci5jYW1lcmEgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghc3RhdGUucHJldmlvdXNSb290KSB7XG4gICAgICAvLyBNYWtlIHN1cmUgcm9vdC1sZXZlbCBwb2ludGVyIGFuZCByYXkgYXJlIHNldCB1cFxuICAgICAgc3RhdGUuZXZlbnRzLmNvbXB1dGUgPT0gbnVsbCA/IHZvaWQgMCA6IHN0YXRlLmV2ZW50cy5jb21wdXRlKGV2ZW50LCBzdGF0ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZVJheWNhc3Qob2JqKSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IGdldFJvb3RTdGF0ZShvYmopO1xuICAgICAgLy8gU2tpcCBldmVudCBoYW5kbGluZyB3aGVuIG5vRXZlbnRzIGlzIHNldCwgb3Igd2hlbiB0aGUgcmF5Y2FzdGVycyBjYW1lcmEgaXMgbnVsbFxuICAgICAgaWYgKCFzdGF0ZSB8fCAhc3RhdGUuZXZlbnRzLmVuYWJsZWQgfHwgc3RhdGUucmF5Y2FzdGVyLmNhbWVyYSA9PT0gbnVsbCkgcmV0dXJuIFtdO1xuXG4gICAgICAvLyBXaGVuIHRoZSBjYW1lcmEgaXMgdW5kZWZpbmVkIHdlIGhhdmUgdG8gY2FsbCB0aGUgZXZlbnQgbGF5ZXJzIHVwZGF0ZSBmdW5jdGlvblxuICAgICAgaWYgKHN0YXRlLnJheWNhc3Rlci5jYW1lcmEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgX3N0YXRlJHByZXZpb3VzUm9vdDtcbiAgICAgICAgc3RhdGUuZXZlbnRzLmNvbXB1dGUgPT0gbnVsbCA/IHZvaWQgMCA6IHN0YXRlLmV2ZW50cy5jb21wdXRlKGV2ZW50LCBzdGF0ZSwgKF9zdGF0ZSRwcmV2aW91c1Jvb3QgPSBzdGF0ZS5wcmV2aW91c1Jvb3QpID09IG51bGwgPyB2b2lkIDAgOiBfc3RhdGUkcHJldmlvdXNSb290LmdldFN0YXRlKCkpO1xuICAgICAgICAvLyBJZiB0aGUgY2FtZXJhIGlzIHN0aWxsIHVuZGVmaW5lZCB3ZSBoYXZlIHRvIHNraXAgdGhpcyBsYXllciBlbnRpcmVseVxuICAgICAgICBpZiAoc3RhdGUucmF5Y2FzdGVyLmNhbWVyYSA9PT0gdW5kZWZpbmVkKSBzdGF0ZS5yYXljYXN0ZXIuY2FtZXJhID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gSW50ZXJzZWN0IG9iamVjdCBieSBvYmplY3RcbiAgICAgIHJldHVybiBzdGF0ZS5yYXljYXN0ZXIuY2FtZXJhID8gc3RhdGUucmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdChvYmosIHRydWUpIDogW107XG4gICAgfVxuXG4gICAgLy8gQ29sbGVjdCBldmVudHNcbiAgICBsZXQgaGl0cyA9IGV2ZW50c09iamVjdHNcbiAgICAvLyBJbnRlcnNlY3Qgb2JqZWN0c1xuICAgIC5mbGF0TWFwKGhhbmRsZVJheWNhc3QpXG4gICAgLy8gU29ydCBieSBldmVudCBwcmlvcml0eSBhbmQgZGlzdGFuY2VcbiAgICAuc29ydCgoYSwgYikgPT4ge1xuICAgICAgY29uc3QgYVN0YXRlID0gZ2V0Um9vdFN0YXRlKGEub2JqZWN0KTtcbiAgICAgIGNvbnN0IGJTdGF0ZSA9IGdldFJvb3RTdGF0ZShiLm9iamVjdCk7XG4gICAgICBpZiAoIWFTdGF0ZSB8fCAhYlN0YXRlKSByZXR1cm4gYS5kaXN0YW5jZSAtIGIuZGlzdGFuY2U7XG4gICAgICByZXR1cm4gYlN0YXRlLmV2ZW50cy5wcmlvcml0eSAtIGFTdGF0ZS5ldmVudHMucHJpb3JpdHkgfHwgYS5kaXN0YW5jZSAtIGIuZGlzdGFuY2U7XG4gICAgfSlcbiAgICAvLyBGaWx0ZXIgb3V0IGR1cGxpY2F0ZXNcbiAgICAuZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgY29uc3QgaWQgPSBtYWtlSWQoaXRlbSk7XG4gICAgICBpZiAoZHVwbGljYXRlcy5oYXMoaWQpKSByZXR1cm4gZmFsc2U7XG4gICAgICBkdXBsaWNhdGVzLmFkZChpZCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcblxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmRvb2IvdGhyZWUuanMvaXNzdWVzLzE2MDMxXG4gICAgLy8gQWxsb3cgY3VzdG9tIHVzZXJsYW5kIGludGVyc2VjdCBzb3J0IG9yZGVyLCB0aGlzIGxpa2VseSBvbmx5IG1ha2VzIHNlbnNlIG9uIHRoZSByb290IGZpbHRlclxuICAgIGlmIChzdGF0ZS5ldmVudHMuZmlsdGVyKSBoaXRzID0gc3RhdGUuZXZlbnRzLmZpbHRlcihoaXRzLCBzdGF0ZSk7XG5cbiAgICAvLyBCdWJibGUgdXAgdGhlIGV2ZW50cywgZmluZCB0aGUgZXZlbnQgc291cmNlIChldmVudE9iamVjdClcbiAgICBmb3IgKGNvbnN0IGhpdCBvZiBoaXRzKSB7XG4gICAgICBsZXQgZXZlbnRPYmplY3QgPSBoaXQub2JqZWN0O1xuICAgICAgLy8gQnViYmxlIGV2ZW50IHVwXG4gICAgICB3aGlsZSAoZXZlbnRPYmplY3QpIHtcbiAgICAgICAgdmFyIF9yM2YyO1xuICAgICAgICBpZiAoKF9yM2YyID0gZXZlbnRPYmplY3QuX19yM2YpICE9IG51bGwgJiYgX3IzZjIuZXZlbnRDb3VudCkgaW50ZXJzZWN0aW9ucy5wdXNoKHtcbiAgICAgICAgICAuLi5oaXQsXG4gICAgICAgICAgZXZlbnRPYmplY3RcbiAgICAgICAgfSk7XG4gICAgICAgIGV2ZW50T2JqZWN0ID0gZXZlbnRPYmplY3QucGFyZW50O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHRoZSBpbnRlcmFjdGlvbiBpcyBjYXB0dXJlZCwgbWFrZSBhbGwgY2FwdHVyaW5nIHRhcmdldHMgcGFydCBvZiB0aGUgaW50ZXJzZWN0LlxuICAgIGlmICgncG9pbnRlcklkJyBpbiBldmVudCAmJiBzdGF0ZS5pbnRlcm5hbC5jYXB0dXJlZE1hcC5oYXMoZXZlbnQucG9pbnRlcklkKSkge1xuICAgICAgZm9yIChsZXQgY2FwdHVyZURhdGEgb2Ygc3RhdGUuaW50ZXJuYWwuY2FwdHVyZWRNYXAuZ2V0KGV2ZW50LnBvaW50ZXJJZCkudmFsdWVzKCkpIHtcbiAgICAgICAgaWYgKCFkdXBsaWNhdGVzLmhhcyhtYWtlSWQoY2FwdHVyZURhdGEuaW50ZXJzZWN0aW9uKSkpIGludGVyc2VjdGlvbnMucHVzaChjYXB0dXJlRGF0YS5pbnRlcnNlY3Rpb24pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW50ZXJzZWN0aW9ucztcbiAgfVxuXG4gIC8qKiAgSGFuZGxlcyBpbnRlcnNlY3Rpb25zIGJ5IGZvcndhcmRpbmcgdGhlbSB0byBoYW5kbGVycyAqL1xuICBmdW5jdGlvbiBoYW5kbGVJbnRlcnNlY3RzKGludGVyc2VjdGlvbnMsIGV2ZW50LCBkZWx0YSwgY2FsbGJhY2spIHtcbiAgICAvLyBJZiBhbnl0aGluZyBoYXMgYmVlbiBmb3VuZCwgZm9yd2FyZCBpdCB0byB0aGUgZXZlbnQgbGlzdGVuZXJzXG4gICAgaWYgKGludGVyc2VjdGlvbnMubGVuZ3RoKSB7XG4gICAgICBjb25zdCBsb2NhbFN0YXRlID0ge1xuICAgICAgICBzdG9wcGVkOiBmYWxzZVxuICAgICAgfTtcbiAgICAgIGZvciAoY29uc3QgaGl0IG9mIGludGVyc2VjdGlvbnMpIHtcbiAgICAgICAgbGV0IHN0YXRlID0gZ2V0Um9vdFN0YXRlKGhpdC5vYmplY3QpO1xuXG4gICAgICAgIC8vIElmIHRoZSBvYmplY3QgaXMgbm90IG1hbmFnZWQgYnkgUjNGLCBpdCBtaWdodCBiZSBwYXJlbnRlZCB0byBhbiBlbGVtZW50IHdoaWNoIGlzLlxuICAgICAgICAvLyBUcmF2ZXJzZSB1cHdhcmRzIHVudGlsIHdlIGZpbmQgYSBtYW5hZ2VkIHBhcmVudCBhbmQgdXNlIGl0cyBzdGF0ZSBpbnN0ZWFkLlxuICAgICAgICBpZiAoIXN0YXRlKSB7XG4gICAgICAgICAgaGl0Lm9iamVjdC50cmF2ZXJzZUFuY2VzdG9ycyhvYmogPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50U3RhdGUgPSBnZXRSb290U3RhdGUob2JqKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRTdGF0ZSkge1xuICAgICAgICAgICAgICBzdGF0ZSA9IHBhcmVudFN0YXRlO1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgcmF5Y2FzdGVyLFxuICAgICAgICAgICAgcG9pbnRlcixcbiAgICAgICAgICAgIGNhbWVyYSxcbiAgICAgICAgICAgIGludGVybmFsXG4gICAgICAgICAgfSA9IHN0YXRlO1xuICAgICAgICAgIGNvbnN0IHVucHJvamVjdGVkUG9pbnQgPSBuZXcgVEhSRUUuVmVjdG9yMyhwb2ludGVyLngsIHBvaW50ZXIueSwgMCkudW5wcm9qZWN0KGNhbWVyYSk7XG4gICAgICAgICAgY29uc3QgaGFzUG9pbnRlckNhcHR1cmUgPSBpZCA9PiB7XG4gICAgICAgICAgICB2YXIgX2ludGVybmFsJGNhcHR1cmVkTWFwLCBfaW50ZXJuYWwkY2FwdHVyZWRNYXAyO1xuICAgICAgICAgICAgcmV0dXJuIChfaW50ZXJuYWwkY2FwdHVyZWRNYXAgPSAoX2ludGVybmFsJGNhcHR1cmVkTWFwMiA9IGludGVybmFsLmNhcHR1cmVkTWFwLmdldChpZCkpID09IG51bGwgPyB2b2lkIDAgOiBfaW50ZXJuYWwkY2FwdHVyZWRNYXAyLmhhcyhoaXQuZXZlbnRPYmplY3QpKSAhPSBudWxsID8gX2ludGVybmFsJGNhcHR1cmVkTWFwIDogZmFsc2U7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBjb25zdCBzZXRQb2ludGVyQ2FwdHVyZSA9IGlkID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNhcHR1cmVEYXRhID0ge1xuICAgICAgICAgICAgICBpbnRlcnNlY3Rpb246IGhpdCxcbiAgICAgICAgICAgICAgdGFyZ2V0OiBldmVudC50YXJnZXRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoaW50ZXJuYWwuY2FwdHVyZWRNYXAuaGFzKGlkKSkge1xuICAgICAgICAgICAgICAvLyBpZiB0aGUgcG9pbnRlcklkIHdhcyBwcmV2aW91c2x5IGNhcHR1cmVkLCB3ZSBhZGQgdGhlIGhpdCB0byB0aGVcbiAgICAgICAgICAgICAgLy8gZXZlbnQgY2FwdHVyZWRNYXAuXG4gICAgICAgICAgICAgIGludGVybmFsLmNhcHR1cmVkTWFwLmdldChpZCkuc2V0KGhpdC5ldmVudE9iamVjdCwgY2FwdHVyZURhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gaWYgdGhlIHBvaW50ZXJJZCB3YXMgbm90IHByZXZpb3VzbHkgY2FwdHVyZWQsIHdlIGNyZWF0ZSBhIG1hcFxuICAgICAgICAgICAgICAvLyBjb250YWluaW5nIHRoZSBoaXRPYmplY3QsIGFuZCB0aGUgaGl0LiBoaXRPYmplY3QgaXMgdXNlZCBmb3JcbiAgICAgICAgICAgICAgLy8gZmFzdGVyIGFjY2Vzcy5cbiAgICAgICAgICAgICAgaW50ZXJuYWwuY2FwdHVyZWRNYXAuc2V0KGlkLCBuZXcgTWFwKFtbaGl0LmV2ZW50T2JqZWN0LCBjYXB0dXJlRGF0YV1dKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBldmVudC50YXJnZXQuc2V0UG9pbnRlckNhcHR1cmUoaWQpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3QgcmVsZWFzZVBvaW50ZXJDYXB0dXJlID0gaWQgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2FwdHVyZXMgPSBpbnRlcm5hbC5jYXB0dXJlZE1hcC5nZXQoaWQpO1xuICAgICAgICAgICAgaWYgKGNhcHR1cmVzKSB7XG4gICAgICAgICAgICAgIHJlbGVhc2VJbnRlcm5hbFBvaW50ZXJDYXB0dXJlKGludGVybmFsLmNhcHR1cmVkTWFwLCBoaXQuZXZlbnRPYmplY3QsIGNhcHR1cmVzLCBpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIEFkZCBuYXRpdmUgZXZlbnQgcHJvcHNcbiAgICAgICAgICBsZXQgZXh0cmFjdEV2ZW50UHJvcHMgPSB7fTtcbiAgICAgICAgICAvLyBUaGlzIGl0ZXJhdGVzIG92ZXIgdGhlIGV2ZW50J3MgcHJvcGVydGllcyBpbmNsdWRpbmcgdGhlIGluaGVyaXRlZCBvbmVzLiBOYXRpdmUgUG9pbnRlckV2ZW50cyBoYXZlIG1vc3Qgb2YgdGhlaXIgcHJvcHMgYXMgZ2V0dGVycyB3aGljaCBhcmUgaW5oZXJpdGVkLCBidXQgcG9seWZpbGxlZCBQb2ludGVyRXZlbnRzIGhhdmUgdGhlbSBhbGwgYXMgdGhlaXIgb3duIHByb3BlcnRpZXMgKGkuZS4gbm90IGluaGVyaXRlZCkuIFdlIGNhbid0IHVzZSBPYmplY3Qua2V5cygpIG9yIE9iamVjdC5lbnRyaWVzKCkgYXMgdGhleSBvbmx5IHJldHVybiBcIm93blwiIHByb3BlcnRpZXM7IG5vciBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZXZlbnQpIGFzIHRoYXQgKmRvZXNuJ3QqIHJldHVybiBcIm93blwiIHByb3BlcnRpZXMsIG9ubHkgaW5oZXJpdGVkIG9uZXMuXG4gICAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBldmVudCkge1xuICAgICAgICAgICAgbGV0IHByb3BlcnR5ID0gZXZlbnRbcHJvcF07XG4gICAgICAgICAgICAvLyBPbmx5IGNvcHkgb3ZlciBhdG9taWNzLCBsZWF2ZSBmdW5jdGlvbnMgYWxvbmUgYXMgdGhlc2Ugc2hvdWxkIGJlXG4gICAgICAgICAgICAvLyBjYWxsZWQgYXMgZXZlbnQubmF0aXZlRXZlbnQuZm4oKVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSAhPT0gJ2Z1bmN0aW9uJykgZXh0cmFjdEV2ZW50UHJvcHNbcHJvcF0gPSBwcm9wZXJ0eTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IHJheWNhc3RFdmVudCA9IHtcbiAgICAgICAgICAgIC4uLmhpdCxcbiAgICAgICAgICAgIC4uLmV4dHJhY3RFdmVudFByb3BzLFxuICAgICAgICAgICAgcG9pbnRlcixcbiAgICAgICAgICAgIGludGVyc2VjdGlvbnMsXG4gICAgICAgICAgICBzdG9wcGVkOiBsb2NhbFN0YXRlLnN0b3BwZWQsXG4gICAgICAgICAgICBkZWx0YSxcbiAgICAgICAgICAgIHVucHJvamVjdGVkUG9pbnQsXG4gICAgICAgICAgICByYXk6IHJheWNhc3Rlci5yYXksXG4gICAgICAgICAgICBjYW1lcmE6IGNhbWVyYSxcbiAgICAgICAgICAgIC8vIEhpamFjayBzdG9wUHJvcGFnYXRpb24sIHdoaWNoIGp1c3Qgc2V0cyBhIGZsYWdcbiAgICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbigpIHtcbiAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BtbmRycy9yZWFjdC10aHJlZS1maWJlci9pc3N1ZXMvNTk2XG4gICAgICAgICAgICAgIC8vIEV2ZW50cyBhcmUgbm90IGFsbG93ZWQgdG8gc3RvcCBwcm9wYWdhdGlvbiBpZiB0aGUgcG9pbnRlciBoYXMgYmVlbiBjYXB0dXJlZFxuICAgICAgICAgICAgICBjb25zdCBjYXB0dXJlc0ZvclBvaW50ZXIgPSAncG9pbnRlcklkJyBpbiBldmVudCAmJiBpbnRlcm5hbC5jYXB0dXJlZE1hcC5nZXQoZXZlbnQucG9pbnRlcklkKTtcblxuICAgICAgICAgICAgICAvLyBXZSBvbmx5IGF1dGhvcml6ZSBzdG9wUHJvcGFnYXRpb24uLi5cbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAvLyAuLi5pZiB0aGlzIHBvaW50ZXIgaGFzbid0IGJlZW4gY2FwdHVyZWRcbiAgICAgICAgICAgICAgIWNhcHR1cmVzRm9yUG9pbnRlciB8fFxuICAgICAgICAgICAgICAvLyAuLi4gb3IgaWYgdGhlIGhpdCBvYmplY3QgaXMgY2FwdHVyaW5nIHRoZSBwb2ludGVyXG4gICAgICAgICAgICAgIGNhcHR1cmVzRm9yUG9pbnRlci5oYXMoaGl0LmV2ZW50T2JqZWN0KSkge1xuICAgICAgICAgICAgICAgIHJheWNhc3RFdmVudC5zdG9wcGVkID0gbG9jYWxTdGF0ZS5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBQcm9wYWdhdGlvbiBpcyBzdG9wcGVkLCByZW1vdmUgYWxsIG90aGVyIGhvdmVyIHJlY29yZHNcbiAgICAgICAgICAgICAgICAvLyBBbiBldmVudCBoYW5kbGVyIGlzIG9ubHkgYWxsb3dlZCB0byBmbHVzaCBvdGhlciBoYW5kbGVycyBpZiBpdCBpcyBob3ZlcmVkIGl0c2VsZlxuICAgICAgICAgICAgICAgIGlmIChpbnRlcm5hbC5ob3ZlcmVkLnNpemUgJiYgQXJyYXkuZnJvbShpbnRlcm5hbC5ob3ZlcmVkLnZhbHVlcygpKS5maW5kKGkgPT4gaS5ldmVudE9iamVjdCA9PT0gaGl0LmV2ZW50T2JqZWN0KSkge1xuICAgICAgICAgICAgICAgICAgLy8gT2JqZWN0cyBjYW5ub3QgZmx1c2ggb3V0IGhpZ2hlciB1cCBvYmplY3RzIHRoYXQgaGF2ZSBhbHJlYWR5IGNhdWdodCB0aGUgZXZlbnRcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGhpZ2hlciA9IGludGVyc2VjdGlvbnMuc2xpY2UoMCwgaW50ZXJzZWN0aW9ucy5pbmRleE9mKGhpdCkpO1xuICAgICAgICAgICAgICAgICAgY2FuY2VsUG9pbnRlcihbLi4uaGlnaGVyLCBoaXRdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyB0aGVyZSBzaG91bGQgYmUgYSBkaXN0aW5jdGlvbiBiZXR3ZWVuIHRhcmdldCBhbmQgY3VycmVudFRhcmdldFxuICAgICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICAgIGhhc1BvaW50ZXJDYXB0dXJlLFxuICAgICAgICAgICAgICBzZXRQb2ludGVyQ2FwdHVyZSxcbiAgICAgICAgICAgICAgcmVsZWFzZVBvaW50ZXJDYXB0dXJlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3VycmVudFRhcmdldDoge1xuICAgICAgICAgICAgICBoYXNQb2ludGVyQ2FwdHVyZSxcbiAgICAgICAgICAgICAgc2V0UG9pbnRlckNhcHR1cmUsXG4gICAgICAgICAgICAgIHJlbGVhc2VQb2ludGVyQ2FwdHVyZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5hdGl2ZUV2ZW50OiBldmVudFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBDYWxsIHN1YnNjcmliZXJzXG4gICAgICAgICAgY2FsbGJhY2socmF5Y2FzdEV2ZW50KTtcbiAgICAgICAgICAvLyBFdmVudCBidWJibGluZyBtYXkgYmUgaW50ZXJydXB0ZWQgYnkgc3RvcFByb3BhZ2F0aW9uXG4gICAgICAgICAgaWYgKGxvY2FsU3RhdGUuc3RvcHBlZCA9PT0gdHJ1ZSkgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGludGVyc2VjdGlvbnM7XG4gIH1cbiAgZnVuY3Rpb24gY2FuY2VsUG9pbnRlcihpbnRlcnNlY3Rpb25zKSB7XG4gICAgY29uc3Qge1xuICAgICAgaW50ZXJuYWxcbiAgICB9ID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICBmb3IgKGNvbnN0IGhvdmVyZWRPYmogb2YgaW50ZXJuYWwuaG92ZXJlZC52YWx1ZXMoKSkge1xuICAgICAgLy8gV2hlbiBubyBvYmplY3RzIHdlcmUgaGl0IG9yIHRoZSB0aGUgaG92ZXJlZCBvYmplY3Qgd2Fzbid0IGZvdW5kIHVuZGVybmVhdGggdGhlIGN1cnNvclxuICAgICAgLy8gd2UgY2FsbCBvblBvaW50ZXJPdXQgYW5kIGRlbGV0ZSB0aGUgb2JqZWN0IGZyb20gdGhlIGhvdmVyZWQtZWxlbWVudHMgbWFwXG4gICAgICBpZiAoIWludGVyc2VjdGlvbnMubGVuZ3RoIHx8ICFpbnRlcnNlY3Rpb25zLmZpbmQoaGl0ID0+IGhpdC5vYmplY3QgPT09IGhvdmVyZWRPYmoub2JqZWN0ICYmIGhpdC5pbmRleCA9PT0gaG92ZXJlZE9iai5pbmRleCAmJiBoaXQuaW5zdGFuY2VJZCA9PT0gaG92ZXJlZE9iai5pbnN0YW5jZUlkKSkge1xuICAgICAgICBjb25zdCBldmVudE9iamVjdCA9IGhvdmVyZWRPYmouZXZlbnRPYmplY3Q7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gZXZlbnRPYmplY3QuX19yM2Y7XG4gICAgICAgIGludGVybmFsLmhvdmVyZWQuZGVsZXRlKG1ha2VJZChob3ZlcmVkT2JqKSk7XG4gICAgICAgIGlmIChpbnN0YW5jZSAhPSBudWxsICYmIGluc3RhbmNlLmV2ZW50Q291bnQpIHtcbiAgICAgICAgICBjb25zdCBoYW5kbGVycyA9IGluc3RhbmNlLmhhbmRsZXJzO1xuICAgICAgICAgIC8vIENsZWFyIG91dCBpbnRlcnNlY3RzLCB0aGV5IGFyZSBvdXRkYXRlZCBieSBub3dcbiAgICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgLi4uaG92ZXJlZE9iaixcbiAgICAgICAgICAgIGludGVyc2VjdGlvbnNcbiAgICAgICAgICB9O1xuICAgICAgICAgIGhhbmRsZXJzLm9uUG9pbnRlck91dCA9PSBudWxsID8gdm9pZCAwIDogaGFuZGxlcnMub25Qb2ludGVyT3V0KGRhdGEpO1xuICAgICAgICAgIGhhbmRsZXJzLm9uUG9pbnRlckxlYXZlID09IG51bGwgPyB2b2lkIDAgOiBoYW5kbGVycy5vblBvaW50ZXJMZWF2ZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwb2ludGVyTWlzc2VkKGV2ZW50LCBvYmplY3RzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmplY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IG9iamVjdHNbaV0uX19yM2Y7XG4gICAgICBpbnN0YW5jZSA9PSBudWxsID8gdm9pZCAwIDogaW5zdGFuY2UuaGFuZGxlcnMub25Qb2ludGVyTWlzc2VkID09IG51bGwgPyB2b2lkIDAgOiBpbnN0YW5jZS5oYW5kbGVycy5vblBvaW50ZXJNaXNzZWQoZXZlbnQpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBoYW5kbGVQb2ludGVyKG5hbWUpIHtcbiAgICAvLyBEZWFsIHdpdGggY2FuY2VsYXRpb25cbiAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgIGNhc2UgJ29uUG9pbnRlckxlYXZlJzpcbiAgICAgIGNhc2UgJ29uUG9pbnRlckNhbmNlbCc6XG4gICAgICAgIHJldHVybiAoKSA9PiBjYW5jZWxQb2ludGVyKFtdKTtcbiAgICAgIGNhc2UgJ29uTG9zdFBvaW50ZXJDYXB0dXJlJzpcbiAgICAgICAgcmV0dXJuIGV2ZW50ID0+IHtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBpbnRlcm5hbFxuICAgICAgICAgIH0gPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgIGlmICgncG9pbnRlcklkJyBpbiBldmVudCAmJiBpbnRlcm5hbC5jYXB0dXJlZE1hcC5oYXMoZXZlbnQucG9pbnRlcklkKSkge1xuICAgICAgICAgICAgLy8gSWYgdGhlIG9iamVjdCBldmVudCBpbnRlcmZhY2UgaGFkIG9uTG9zdFBvaW50ZXJDYXB0dXJlLCB3ZSdkIGNhbGwgaXQgaGVyZSBvbiBldmVyeVxuICAgICAgICAgICAgLy8gb2JqZWN0IHRoYXQncyBnZXR0aW5nIHJlbW92ZWQuIFdlIGNhbGwgaXQgb24gdGhlIG5leHQgZnJhbWUgYmVjYXVzZSBvbkxvc3RQb2ludGVyQ2FwdHVyZVxuICAgICAgICAgICAgLy8gZmlyZXMgYmVmb3JlIG9uUG9pbnRlclVwLiBPdGhlcndpc2UgcG9pbnRlclVwIHdvdWxkIG5ldmVyIGJlIGNhbGxlZCBpZiB0aGUgZXZlbnQgZGlkbid0XG4gICAgICAgICAgICAvLyBoYXBwZW4gaW4gdGhlIG9iamVjdCBpdCBvcmlnaW5hdGVkIGZyb20sIGxlYXZpbmcgY29tcG9uZW50cyBpbiBhIGluLWJldHdlZW4gc3RhdGUuXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICAvLyBPbmx5IHJlbGVhc2UgaWYgcG9pbnRlci11cCBkaWRuJ3QgZG8gaXQgYWxyZWFkeVxuICAgICAgICAgICAgICBpZiAoaW50ZXJuYWwuY2FwdHVyZWRNYXAuaGFzKGV2ZW50LnBvaW50ZXJJZCkpIHtcbiAgICAgICAgICAgICAgICBpbnRlcm5hbC5jYXB0dXJlZE1hcC5kZWxldGUoZXZlbnQucG9pbnRlcklkKTtcbiAgICAgICAgICAgICAgICBjYW5jZWxQb2ludGVyKFtdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIEFueSBvdGhlciBwb2ludGVyIGdvZXMgaGVyZSAuLi5cbiAgICByZXR1cm4gZnVuY3Rpb24gaGFuZGxlRXZlbnQoZXZlbnQpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgb25Qb2ludGVyTWlzc2VkLFxuICAgICAgICBpbnRlcm5hbFxuICAgICAgfSA9IHN0b3JlLmdldFN0YXRlKCk7XG5cbiAgICAgIC8vIHByZXBhcmVSYXkoZXZlbnQpXG4gICAgICBpbnRlcm5hbC5sYXN0RXZlbnQuY3VycmVudCA9IGV2ZW50O1xuXG4gICAgICAvLyBHZXQgZnJlc2ggaW50ZXJzZWN0c1xuICAgICAgY29uc3QgaXNQb2ludGVyTW92ZSA9IG5hbWUgPT09ICdvblBvaW50ZXJNb3ZlJztcbiAgICAgIGNvbnN0IGlzQ2xpY2tFdmVudCA9IG5hbWUgPT09ICdvbkNsaWNrJyB8fCBuYW1lID09PSAnb25Db250ZXh0TWVudScgfHwgbmFtZSA9PT0gJ29uRG91YmxlQ2xpY2snO1xuICAgICAgY29uc3QgZmlsdGVyID0gaXNQb2ludGVyTW92ZSA/IGZpbHRlclBvaW50ZXJFdmVudHMgOiB1bmRlZmluZWQ7XG4gICAgICBjb25zdCBoaXRzID0gaW50ZXJzZWN0KGV2ZW50LCBmaWx0ZXIpO1xuICAgICAgY29uc3QgZGVsdGEgPSBpc0NsaWNrRXZlbnQgPyBjYWxjdWxhdGVEaXN0YW5jZShldmVudCkgOiAwO1xuXG4gICAgICAvLyBTYXZlIGluaXRpYWwgY29vcmRpbmF0ZXMgb24gcG9pbnRlci1kb3duXG4gICAgICBpZiAobmFtZSA9PT0gJ29uUG9pbnRlckRvd24nKSB7XG4gICAgICAgIGludGVybmFsLmluaXRpYWxDbGljayA9IFtldmVudC5vZmZzZXRYLCBldmVudC5vZmZzZXRZXTtcbiAgICAgICAgaW50ZXJuYWwuaW5pdGlhbEhpdHMgPSBoaXRzLm1hcChoaXQgPT4gaGl0LmV2ZW50T2JqZWN0KTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgYSBjbGljayB5aWVsZHMgbm8gcmVzdWx0cywgcGFzcyBpdCBiYWNrIHRvIHRoZSB1c2VyIGFzIGEgbWlzc1xuICAgICAgLy8gTWlzc2VkIGV2ZW50cyBoYXZlIHRvIGNvbWUgZmlyc3QgaW4gb3JkZXIgdG8gZXN0YWJsaXNoIHVzZXItbGFuZCBzaWRlLWVmZmVjdCBjbGVhbiB1cFxuICAgICAgaWYgKGlzQ2xpY2tFdmVudCAmJiAhaGl0cy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGRlbHRhIDw9IDIpIHtcbiAgICAgICAgICBwb2ludGVyTWlzc2VkKGV2ZW50LCBpbnRlcm5hbC5pbnRlcmFjdGlvbik7XG4gICAgICAgICAgaWYgKG9uUG9pbnRlck1pc3NlZCkgb25Qb2ludGVyTWlzc2VkKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gVGFrZSBjYXJlIG9mIHVuaG92ZXJcbiAgICAgIGlmIChpc1BvaW50ZXJNb3ZlKSBjYW5jZWxQb2ludGVyKGhpdHMpO1xuICAgICAgZnVuY3Rpb24gb25JbnRlcnNlY3QoZGF0YSkge1xuICAgICAgICBjb25zdCBldmVudE9iamVjdCA9IGRhdGEuZXZlbnRPYmplY3Q7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gZXZlbnRPYmplY3QuX19yM2Y7XG5cbiAgICAgICAgLy8gQ2hlY2sgcHJlc2VuY2Ugb2YgaGFuZGxlcnNcbiAgICAgICAgaWYgKCEoaW5zdGFuY2UgIT0gbnVsbCAmJiBpbnN0YW5jZS5ldmVudENvdW50KSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBoYW5kbGVycyA9IGluc3RhbmNlLmhhbmRsZXJzO1xuXG4gICAgICAgIC8qXHJcbiAgICAgICAgTUFZQkUgVE9ETywgREVMRVRFIElGIE5PVDogXHJcbiAgICAgICAgICBDaGVjayBpZiB0aGUgb2JqZWN0IGlzIGNhcHR1cmVkLCBjYXB0dXJlZCBldmVudHMgc2hvdWxkIG5vdCBoYXZlIGludGVyc2VjdHMgcnVubmluZyBpbiBwYXJhbGxlbFxyXG4gICAgICAgICAgQnV0IHdvdWxkbid0IGl0IGJlIGJldHRlciB0byBqdXN0IHJlcGxhY2UgY2FwdHVyZWRNYXAgd2l0aCBhIHNpbmdsZSBlbnRyeT9cclxuICAgICAgICAgIEFsc28sIGFyZSB3ZSBPSyB3aXRoIHN0cmFpZ2h0IHVwIG1ha2luZyBwaWNraW5nIHVwIG11bHRpcGxlIG9iamVjdHMgaW1wb3NzaWJsZT9cclxuICAgICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHBvaW50ZXJJZCA9IChkYXRhIGFzIFRocmVlRXZlbnQ8UG9pbnRlckV2ZW50PikucG9pbnRlcklkICAgICAgICBcclxuICAgICAgICBpZiAocG9pbnRlcklkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIGNvbnN0IGNhcHR1cmVkTWVzaFNldCA9IGludGVybmFsLmNhcHR1cmVkTWFwLmdldChwb2ludGVySWQpXHJcbiAgICAgICAgICBpZiAoY2FwdHVyZWRNZXNoU2V0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhcHR1cmVkID0gY2FwdHVyZWRNZXNoU2V0LmdldChldmVudE9iamVjdClcclxuICAgICAgICAgICAgaWYgKGNhcHR1cmVkICYmIGNhcHR1cmVkLmxvY2FsU3RhdGUuc3RvcHBlZCkgcmV0dXJuXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSovXG5cbiAgICAgICAgaWYgKGlzUG9pbnRlck1vdmUpIHtcbiAgICAgICAgICAvLyBNb3ZlIGV2ZW50IC4uLlxuICAgICAgICAgIGlmIChoYW5kbGVycy5vblBvaW50ZXJPdmVyIHx8IGhhbmRsZXJzLm9uUG9pbnRlckVudGVyIHx8IGhhbmRsZXJzLm9uUG9pbnRlck91dCB8fCBoYW5kbGVycy5vblBvaW50ZXJMZWF2ZSkge1xuICAgICAgICAgICAgLy8gV2hlbiBlbnRlciBvciBvdXQgaXMgcHJlc2VudCB0YWtlIGNhcmUgb2YgaG92ZXItc3RhdGVcbiAgICAgICAgICAgIGNvbnN0IGlkID0gbWFrZUlkKGRhdGEpO1xuICAgICAgICAgICAgY29uc3QgaG92ZXJlZEl0ZW0gPSBpbnRlcm5hbC5ob3ZlcmVkLmdldChpZCk7XG4gICAgICAgICAgICBpZiAoIWhvdmVyZWRJdGVtKSB7XG4gICAgICAgICAgICAgIC8vIElmIHRoZSBvYmplY3Qgd2Fzbid0IHByZXZpb3VzbHkgaG92ZXJlZCwgYm9vayBpdCBhbmQgY2FsbCBpdHMgaGFuZGxlclxuICAgICAgICAgICAgICBpbnRlcm5hbC5ob3ZlcmVkLnNldChpZCwgZGF0YSk7XG4gICAgICAgICAgICAgIGhhbmRsZXJzLm9uUG9pbnRlck92ZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGhhbmRsZXJzLm9uUG9pbnRlck92ZXIoZGF0YSk7XG4gICAgICAgICAgICAgIGhhbmRsZXJzLm9uUG9pbnRlckVudGVyID09IG51bGwgPyB2b2lkIDAgOiBoYW5kbGVycy5vblBvaW50ZXJFbnRlcihkYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaG92ZXJlZEl0ZW0uc3RvcHBlZCkge1xuICAgICAgICAgICAgICAvLyBJZiB0aGUgb2JqZWN0IHdhcyBwcmV2aW91c2x5IGhvdmVyZWQgYW5kIHN0b3BwZWQsIHdlIHNob3VsZG4ndCBhbGxvdyBvdGhlciBpdGVtcyB0byBwcm9jZWVkXG4gICAgICAgICAgICAgIGRhdGEuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIENhbGwgbW91c2UgbW92ZVxuICAgICAgICAgIGhhbmRsZXJzLm9uUG9pbnRlck1vdmUgPT0gbnVsbCA/IHZvaWQgMCA6IGhhbmRsZXJzLm9uUG9pbnRlck1vdmUoZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQWxsIG90aGVyIGV2ZW50cyAuLi5cbiAgICAgICAgICBjb25zdCBoYW5kbGVyID0gaGFuZGxlcnNbbmFtZV07XG4gICAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICAgIC8vIEZvcndhcmQgYWxsIGV2ZW50cyBiYWNrIHRvIHRoZWlyIHJlc3BlY3RpdmUgaGFuZGxlcnMgd2l0aCB0aGUgZXhjZXB0aW9uIG9mIGNsaWNrIGV2ZW50cyxcbiAgICAgICAgICAgIC8vIHdoaWNoIG11c3QgdXNlIHRoZSBpbml0aWFsIHRhcmdldFxuICAgICAgICAgICAgaWYgKCFpc0NsaWNrRXZlbnQgfHwgaW50ZXJuYWwuaW5pdGlhbEhpdHMuaW5jbHVkZXMoZXZlbnRPYmplY3QpKSB7XG4gICAgICAgICAgICAgIC8vIE1pc3NlZCBldmVudHMgaGF2ZSB0byBjb21lIGZpcnN0XG4gICAgICAgICAgICAgIHBvaW50ZXJNaXNzZWQoZXZlbnQsIGludGVybmFsLmludGVyYWN0aW9uLmZpbHRlcihvYmplY3QgPT4gIWludGVybmFsLmluaXRpYWxIaXRzLmluY2x1ZGVzKG9iamVjdCkpKTtcbiAgICAgICAgICAgICAgLy8gTm93IGNhbGwgdGhlIGhhbmRsZXJcbiAgICAgICAgICAgICAgaGFuZGxlcihkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVHJpZ2dlciBvblBvaW50ZXJNaXNzZWQgb24gYWxsIGVsZW1lbnRzIHRoYXQgaGF2ZSBwb2ludGVyIG92ZXIvb3V0IGhhbmRsZXJzLCBidXQgbm90IGNsaWNrIGFuZCB3ZXJlbid0IGhpdFxuICAgICAgICAgICAgaWYgKGlzQ2xpY2tFdmVudCAmJiBpbnRlcm5hbC5pbml0aWFsSGl0cy5pbmNsdWRlcyhldmVudE9iamVjdCkpIHtcbiAgICAgICAgICAgICAgcG9pbnRlck1pc3NlZChldmVudCwgaW50ZXJuYWwuaW50ZXJhY3Rpb24uZmlsdGVyKG9iamVjdCA9PiAhaW50ZXJuYWwuaW5pdGlhbEhpdHMuaW5jbHVkZXMob2JqZWN0KSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaGFuZGxlSW50ZXJzZWN0cyhoaXRzLCBldmVudCwgZGVsdGEsIG9uSW50ZXJzZWN0KTtcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgaGFuZGxlUG9pbnRlclxuICB9O1xufVxuXG5jb25zdCBpc1JlbmRlcmVyID0gZGVmID0+ICEhKGRlZiAhPSBudWxsICYmIGRlZi5yZW5kZXIpO1xuY29uc3QgY29udGV4dCA9IC8qIEBfX1BVUkVfXyAqL1JlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5jb25zdCBjcmVhdGVTdG9yZSA9IChpbnZhbGlkYXRlLCBhZHZhbmNlKSA9PiB7XG4gIGNvbnN0IHJvb3RTdG9yZSA9IGNyZWF0ZVdpdGhFcXVhbGl0eUZuKChzZXQsIGdldCkgPT4ge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICBjb25zdCBkZWZhdWx0VGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICBjb25zdCB0ZW1wVGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICBmdW5jdGlvbiBnZXRDdXJyZW50Vmlld3BvcnQoY2FtZXJhID0gZ2V0KCkuY2FtZXJhLCB0YXJnZXQgPSBkZWZhdWx0VGFyZ2V0LCBzaXplID0gZ2V0KCkuc2l6ZSkge1xuICAgICAgY29uc3Qge1xuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICB0b3AsXG4gICAgICAgIGxlZnRcbiAgICAgIH0gPSBzaXplO1xuICAgICAgY29uc3QgYXNwZWN0ID0gd2lkdGggLyBoZWlnaHQ7XG4gICAgICBpZiAodGFyZ2V0LmlzVmVjdG9yMykgdGVtcFRhcmdldC5jb3B5KHRhcmdldCk7ZWxzZSB0ZW1wVGFyZ2V0LnNldCguLi50YXJnZXQpO1xuICAgICAgY29uc3QgZGlzdGFuY2UgPSBjYW1lcmEuZ2V0V29ybGRQb3NpdGlvbihwb3NpdGlvbikuZGlzdGFuY2VUbyh0ZW1wVGFyZ2V0KTtcbiAgICAgIGlmIChpc09ydGhvZ3JhcGhpY0NhbWVyYShjYW1lcmEpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgd2lkdGg6IHdpZHRoIC8gY2FtZXJhLnpvb20sXG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHQgLyBjYW1lcmEuem9vbSxcbiAgICAgICAgICB0b3AsXG4gICAgICAgICAgbGVmdCxcbiAgICAgICAgICBmYWN0b3I6IDEsXG4gICAgICAgICAgZGlzdGFuY2UsXG4gICAgICAgICAgYXNwZWN0XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBmb3YgPSBjYW1lcmEuZm92ICogTWF0aC5QSSAvIDE4MDsgLy8gY29udmVydCB2ZXJ0aWNhbCBmb3YgdG8gcmFkaWFuc1xuICAgICAgICBjb25zdCBoID0gMiAqIE1hdGgudGFuKGZvdiAvIDIpICogZGlzdGFuY2U7IC8vIHZpc2libGUgaGVpZ2h0XG4gICAgICAgIGNvbnN0IHcgPSBoICogKHdpZHRoIC8gaGVpZ2h0KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB3aWR0aDogdyxcbiAgICAgICAgICBoZWlnaHQ6IGgsXG4gICAgICAgICAgdG9wLFxuICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgZmFjdG9yOiB3aWR0aCAvIHcsXG4gICAgICAgICAgZGlzdGFuY2UsXG4gICAgICAgICAgYXNwZWN0XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBwZXJmb3JtYW5jZVRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgY29uc3Qgc2V0UGVyZm9ybWFuY2VDdXJyZW50ID0gY3VycmVudCA9PiBzZXQoc3RhdGUgPT4gKHtcbiAgICAgIHBlcmZvcm1hbmNlOiB7XG4gICAgICAgIC4uLnN0YXRlLnBlcmZvcm1hbmNlLFxuICAgICAgICBjdXJyZW50XG4gICAgICB9XG4gICAgfSkpO1xuICAgIGNvbnN0IHBvaW50ZXIgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICAgIGNvbnN0IHJvb3RTdGF0ZSA9IHtcbiAgICAgIHNldCxcbiAgICAgIGdldCxcbiAgICAgIC8vIE1vY2sgb2JqZWN0cyB0aGF0IGhhdmUgdG8gYmUgY29uZmlndXJlZFxuICAgICAgZ2w6IG51bGwsXG4gICAgICBjYW1lcmE6IG51bGwsXG4gICAgICByYXljYXN0ZXI6IG51bGwsXG4gICAgICBldmVudHM6IHtcbiAgICAgICAgcHJpb3JpdHk6IDEsXG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIGNvbm5lY3RlZDogZmFsc2VcbiAgICAgIH0sXG4gICAgICBzY2VuZTogbnVsbCxcbiAgICAgIHhyOiBudWxsLFxuICAgICAgaW52YWxpZGF0ZTogKGZyYW1lcyA9IDEpID0+IGludmFsaWRhdGUoZ2V0KCksIGZyYW1lcyksXG4gICAgICBhZHZhbmNlOiAodGltZXN0YW1wLCBydW5HbG9iYWxFZmZlY3RzKSA9PiBhZHZhbmNlKHRpbWVzdGFtcCwgcnVuR2xvYmFsRWZmZWN0cywgZ2V0KCkpLFxuICAgICAgbGVnYWN5OiBmYWxzZSxcbiAgICAgIGxpbmVhcjogZmFsc2UsXG4gICAgICBmbGF0OiBmYWxzZSxcbiAgICAgIGNvbnRyb2xzOiBudWxsLFxuICAgICAgY2xvY2s6IG5ldyBUSFJFRS5DbG9jaygpLFxuICAgICAgcG9pbnRlcixcbiAgICAgIG1vdXNlOiBwb2ludGVyLFxuICAgICAgZnJhbWVsb29wOiAnYWx3YXlzJyxcbiAgICAgIG9uUG9pbnRlck1pc3NlZDogdW5kZWZpbmVkLFxuICAgICAgcGVyZm9ybWFuY2U6IHtcbiAgICAgICAgY3VycmVudDogMSxcbiAgICAgICAgbWluOiAwLjUsXG4gICAgICAgIG1heDogMSxcbiAgICAgICAgZGVib3VuY2U6IDIwMCxcbiAgICAgICAgcmVncmVzczogKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0YXRlID0gZ2V0KCk7XG4gICAgICAgICAgLy8gQ2xlYXIgdGltZW91dFxuICAgICAgICAgIGlmIChwZXJmb3JtYW5jZVRpbWVvdXQpIGNsZWFyVGltZW91dChwZXJmb3JtYW5jZVRpbWVvdXQpO1xuICAgICAgICAgIC8vIFNldCBsb3dlciBib3VuZCBwZXJmb3JtYW5jZVxuICAgICAgICAgIGlmIChzdGF0ZS5wZXJmb3JtYW5jZS5jdXJyZW50ICE9PSBzdGF0ZS5wZXJmb3JtYW5jZS5taW4pIHNldFBlcmZvcm1hbmNlQ3VycmVudChzdGF0ZS5wZXJmb3JtYW5jZS5taW4pO1xuICAgICAgICAgIC8vIEdvIGJhY2sgdG8gdXBwZXIgYm91bmQgcGVyZm9ybWFuY2UgYWZ0ZXIgYSB3aGlsZSB1bmxlc3Mgc29tZXRoaW5nIHJlZ3Jlc3NlcyBtZWFud2hpbGVcbiAgICAgICAgICBwZXJmb3JtYW5jZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHNldFBlcmZvcm1hbmNlQ3VycmVudChnZXQoKS5wZXJmb3JtYW5jZS5tYXgpLCBzdGF0ZS5wZXJmb3JtYW5jZS5kZWJvdW5jZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzaXplOiB7XG4gICAgICAgIHdpZHRoOiAwLFxuICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgbGVmdDogMFxuICAgICAgfSxcbiAgICAgIHZpZXdwb3J0OiB7XG4gICAgICAgIGluaXRpYWxEcHI6IDAsXG4gICAgICAgIGRwcjogMCxcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICBhc3BlY3Q6IDAsXG4gICAgICAgIGRpc3RhbmNlOiAwLFxuICAgICAgICBmYWN0b3I6IDAsXG4gICAgICAgIGdldEN1cnJlbnRWaWV3cG9ydFxuICAgICAgfSxcbiAgICAgIHNldEV2ZW50czogZXZlbnRzID0+IHNldChzdGF0ZSA9PiAoe1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgLi4uc3RhdGUuZXZlbnRzLFxuICAgICAgICAgIC4uLmV2ZW50c1xuICAgICAgICB9XG4gICAgICB9KSksXG4gICAgICBzZXRTaXplOiAod2lkdGgsIGhlaWdodCwgdG9wID0gMCwgbGVmdCA9IDApID0+IHtcbiAgICAgICAgY29uc3QgY2FtZXJhID0gZ2V0KCkuY2FtZXJhO1xuICAgICAgICBjb25zdCBzaXplID0ge1xuICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICB0b3AsXG4gICAgICAgICAgbGVmdFxuICAgICAgICB9O1xuICAgICAgICBzZXQoc3RhdGUgPT4gKHtcbiAgICAgICAgICBzaXplLFxuICAgICAgICAgIHZpZXdwb3J0OiB7XG4gICAgICAgICAgICAuLi5zdGF0ZS52aWV3cG9ydCxcbiAgICAgICAgICAgIC4uLmdldEN1cnJlbnRWaWV3cG9ydChjYW1lcmEsIGRlZmF1bHRUYXJnZXQsIHNpemUpXG4gICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICB9LFxuICAgICAgc2V0RHByOiBkcHIgPT4gc2V0KHN0YXRlID0+IHtcbiAgICAgICAgY29uc3QgcmVzb2x2ZWQgPSBjYWxjdWxhdGVEcHIoZHByKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB2aWV3cG9ydDoge1xuICAgICAgICAgICAgLi4uc3RhdGUudmlld3BvcnQsXG4gICAgICAgICAgICBkcHI6IHJlc29sdmVkLFxuICAgICAgICAgICAgaW5pdGlhbERwcjogc3RhdGUudmlld3BvcnQuaW5pdGlhbERwciB8fCByZXNvbHZlZFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pLFxuICAgICAgc2V0RnJhbWVsb29wOiAoZnJhbWVsb29wID0gJ2Fsd2F5cycpID0+IHtcbiAgICAgICAgY29uc3QgY2xvY2sgPSBnZXQoKS5jbG9jaztcblxuICAgICAgICAvLyBpZiBmcmFtZWxvb3AgPT09IFwibmV2ZXJcIiBjbG9jay5lbGFwc2VkVGltZSBpcyB1cGRhdGVkIHVzaW5nIGFkdmFuY2UodGltZXN0YW1wKVxuICAgICAgICBjbG9jay5zdG9wKCk7XG4gICAgICAgIGNsb2NrLmVsYXBzZWRUaW1lID0gMDtcbiAgICAgICAgaWYgKGZyYW1lbG9vcCAhPT0gJ25ldmVyJykge1xuICAgICAgICAgIGNsb2NrLnN0YXJ0KCk7XG4gICAgICAgICAgY2xvY2suZWxhcHNlZFRpbWUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHNldCgoKSA9PiAoe1xuICAgICAgICAgIGZyYW1lbG9vcFxuICAgICAgICB9KSk7XG4gICAgICB9LFxuICAgICAgcHJldmlvdXNSb290OiB1bmRlZmluZWQsXG4gICAgICBpbnRlcm5hbDoge1xuICAgICAgICAvLyBFdmVudHNcbiAgICAgICAgaW50ZXJhY3Rpb246IFtdLFxuICAgICAgICBob3ZlcmVkOiBuZXcgTWFwKCksXG4gICAgICAgIHN1YnNjcmliZXJzOiBbXSxcbiAgICAgICAgaW5pdGlhbENsaWNrOiBbMCwgMF0sXG4gICAgICAgIGluaXRpYWxIaXRzOiBbXSxcbiAgICAgICAgY2FwdHVyZWRNYXA6IG5ldyBNYXAoKSxcbiAgICAgICAgbGFzdEV2ZW50OiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlUmVmKCksXG4gICAgICAgIC8vIFVwZGF0ZXNcbiAgICAgICAgYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgZnJhbWVzOiAwLFxuICAgICAgICBwcmlvcml0eTogMCxcbiAgICAgICAgc3Vic2NyaWJlOiAocmVmLCBwcmlvcml0eSwgc3RvcmUpID0+IHtcbiAgICAgICAgICBjb25zdCBpbnRlcm5hbCA9IGdldCgpLmludGVybmFsO1xuICAgICAgICAgIC8vIElmIHRoaXMgc3Vic2NyaXB0aW9uIHdhcyBnaXZlbiBhIHByaW9yaXR5LCBpdCB0YWtlcyByZW5kZXJpbmcgaW50byBpdHMgb3duIGhhbmRzXG4gICAgICAgICAgLy8gRm9yIHRoYXQgcmVhc29uIHdlIHN3aXRjaCBvZmYgYXV0b21hdGljIHJlbmRlcmluZyBhbmQgaW5jcmVhc2UgdGhlIG1hbnVhbCBmbGFnXG4gICAgICAgICAgLy8gQXMgbG9uZyBhcyB0aGlzIGZsYWcgaXMgcG9zaXRpdmUgdGhlcmUgY2FuIGJlIG5vIGludGVybmFsIHJlbmRlcmluZyBhdCBhbGxcbiAgICAgICAgICAvLyBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG11bHRpcGxlIHJlbmRlciBzdWJzY3JpcHRpb25zXG4gICAgICAgICAgaW50ZXJuYWwucHJpb3JpdHkgPSBpbnRlcm5hbC5wcmlvcml0eSArIChwcmlvcml0eSA+IDAgPyAxIDogMCk7XG4gICAgICAgICAgaW50ZXJuYWwuc3Vic2NyaWJlcnMucHVzaCh7XG4gICAgICAgICAgICByZWYsXG4gICAgICAgICAgICBwcmlvcml0eSxcbiAgICAgICAgICAgIHN0b3JlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgLy8gUmVnaXN0ZXIgc3Vic2NyaWJlciBhbmQgc29ydCBsYXllcnMgZnJvbSBsb3dlc3QgdG8gaGlnaGVzdCwgbWVhbmluZyxcbiAgICAgICAgICAvLyBoaWdoZXN0IHByaW9yaXR5IHJlbmRlcnMgbGFzdCAob24gdG9wIG9mIHRoZSBvdGhlciBmcmFtZXMpXG4gICAgICAgICAgaW50ZXJuYWwuc3Vic2NyaWJlcnMgPSBpbnRlcm5hbC5zdWJzY3JpYmVycy5zb3J0KChhLCBiKSA9PiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eSk7XG4gICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGludGVybmFsID0gZ2V0KCkuaW50ZXJuYWw7XG4gICAgICAgICAgICBpZiAoaW50ZXJuYWwgIT0gbnVsbCAmJiBpbnRlcm5hbC5zdWJzY3JpYmVycykge1xuICAgICAgICAgICAgICAvLyBEZWNyZWFzZSBtYW51YWwgZmxhZyBpZiB0aGlzIHN1YnNjcmlwdGlvbiBoYWQgYSBwcmlvcml0eVxuICAgICAgICAgICAgICBpbnRlcm5hbC5wcmlvcml0eSA9IGludGVybmFsLnByaW9yaXR5IC0gKHByaW9yaXR5ID4gMCA/IDEgOiAwKTtcbiAgICAgICAgICAgICAgLy8gUmVtb3ZlIHN1YnNjcmliZXIgZnJvbSBsaXN0XG4gICAgICAgICAgICAgIGludGVybmFsLnN1YnNjcmliZXJzID0gaW50ZXJuYWwuc3Vic2NyaWJlcnMuZmlsdGVyKHMgPT4gcy5yZWYgIT09IHJlZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHJvb3RTdGF0ZTtcbiAgfSk7XG4gIGNvbnN0IHN0YXRlID0gcm9vdFN0b3JlLmdldFN0YXRlKCk7XG4gIGxldCBvbGRTaXplID0gc3RhdGUuc2l6ZTtcbiAgbGV0IG9sZERwciA9IHN0YXRlLnZpZXdwb3J0LmRwcjtcbiAgbGV0IG9sZENhbWVyYSA9IHN0YXRlLmNhbWVyYTtcbiAgcm9vdFN0b3JlLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgY2FtZXJhLFxuICAgICAgc2l6ZSxcbiAgICAgIHZpZXdwb3J0LFxuICAgICAgZ2wsXG4gICAgICBzZXRcbiAgICB9ID0gcm9vdFN0b3JlLmdldFN0YXRlKCk7XG5cbiAgICAvLyBSZXNpemUgY2FtZXJhIGFuZCByZW5kZXJlciBvbiBjaGFuZ2VzIHRvIHNpemUgYW5kIHBpeGVscmF0aW9cbiAgICBpZiAoc2l6ZS53aWR0aCAhPT0gb2xkU2l6ZS53aWR0aCB8fCBzaXplLmhlaWdodCAhPT0gb2xkU2l6ZS5oZWlnaHQgfHwgdmlld3BvcnQuZHByICE9PSBvbGREcHIpIHtcbiAgICAgIG9sZFNpemUgPSBzaXplO1xuICAgICAgb2xkRHByID0gdmlld3BvcnQuZHByO1xuICAgICAgLy8gVXBkYXRlIGNhbWVyYSAmIHJlbmRlcmVyXG4gICAgICB1cGRhdGVDYW1lcmEoY2FtZXJhLCBzaXplKTtcbiAgICAgIGlmICh2aWV3cG9ydC5kcHIgPiAwKSBnbC5zZXRQaXhlbFJhdGlvKHZpZXdwb3J0LmRwcik7XG4gICAgICBjb25zdCB1cGRhdGVTdHlsZSA9IHR5cGVvZiBIVE1MQ2FudmFzRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2wuZG9tRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50O1xuICAgICAgZ2wuc2V0U2l6ZShzaXplLndpZHRoLCBzaXplLmhlaWdodCwgdXBkYXRlU3R5bGUpO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB2aWV3cG9ydCBvbmNlIHRoZSBjYW1lcmEgY2hhbmdlc1xuICAgIGlmIChjYW1lcmEgIT09IG9sZENhbWVyYSkge1xuICAgICAgb2xkQ2FtZXJhID0gY2FtZXJhO1xuICAgICAgLy8gVXBkYXRlIHZpZXdwb3J0XG4gICAgICBzZXQoc3RhdGUgPT4gKHtcbiAgICAgICAgdmlld3BvcnQ6IHtcbiAgICAgICAgICAuLi5zdGF0ZS52aWV3cG9ydCxcbiAgICAgICAgICAuLi5zdGF0ZS52aWV3cG9ydC5nZXRDdXJyZW50Vmlld3BvcnQoY2FtZXJhKVxuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBJbnZhbGlkYXRlIG9uIGFueSBjaGFuZ2VcbiAgcm9vdFN0b3JlLnN1YnNjcmliZShzdGF0ZSA9PiBpbnZhbGlkYXRlKHN0YXRlKSk7XG5cbiAgLy8gUmV0dXJuIHJvb3Qgc3RhdGVcbiAgcmV0dXJuIHJvb3RTdG9yZTtcbn07XG5cbi8qKlxyXG4gKiBFeHBvc2VzIGFuIG9iamVjdCdzIHtAbGluayBJbnN0YW5jZX0uXHJcbiAqIEBzZWUgaHR0cHM6Ly9kb2NzLnBtbmQucnMvcmVhY3QtdGhyZWUtZmliZXIvYXBpL2FkZGl0aW9uYWwtZXhwb3J0cyN1c2VJbnN0YW5jZUhhbmRsZVxyXG4gKlxyXG4gKiAqKk5vdGUqKjogdGhpcyBpcyBhbiBlc2NhcGUgaGF0Y2ggdG8gcmVhY3QtaW50ZXJuYWwgZmllbGRzLiBFeHBlY3QgdGhpcyB0byBjaGFuZ2Ugc2lnbmlmaWNhbnRseSBiZXR3ZWVuIHZlcnNpb25zLlxyXG4gKi9cbmZ1bmN0aW9uIHVzZUluc3RhbmNlSGFuZGxlKHJlZikge1xuICBjb25zdCBpbnN0YW5jZSA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShpbnN0YW5jZSwgKCkgPT4gcmVmLmN1cnJlbnQuX19yM2YsIFtyZWZdKTtcbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vKipcclxuICogUmV0dXJucyB0aGUgUjNGIENhbnZhcycgWnVzdGFuZCBzdG9yZS4gVXNlZnVsIGZvciBbdHJhbnNpZW50IHVwZGF0ZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvenVzdGFuZCN0cmFuc2llbnQtdXBkYXRlcy1mb3Itb2Z0ZW4tb2NjdXJyaW5nLXN0YXRlLWNoYW5nZXMpLlxyXG4gKiBAc2VlIGh0dHBzOi8vZG9jcy5wbW5kLnJzL3JlYWN0LXRocmVlLWZpYmVyL2FwaS9ob29rcyN1c2VzdG9yZVxyXG4gKi9cbmZ1bmN0aW9uIHVzZVN0b3JlKCkge1xuICBjb25zdCBzdG9yZSA9IFJlYWN0LnVzZUNvbnRleHQoY29udGV4dCk7XG4gIGlmICghc3RvcmUpIHRocm93IG5ldyBFcnJvcignUjNGOiBIb29rcyBjYW4gb25seSBiZSB1c2VkIHdpdGhpbiB0aGUgQ2FudmFzIGNvbXBvbmVudCEnKTtcbiAgcmV0dXJuIHN0b3JlO1xufVxuXG4vKipcclxuICogQWNjZXNzZXMgUjNGJ3MgaW50ZXJuYWwgc3RhdGUsIGNvbnRhaW5pbmcgcmVuZGVyZXIsIGNhbnZhcywgc2NlbmUsIGV0Yy5cclxuICogQHNlZSBodHRwczovL2RvY3MucG1uZC5ycy9yZWFjdC10aHJlZS1maWJlci9hcGkvaG9va3MjdXNldGhyZWVcclxuICovXG5mdW5jdGlvbiB1c2VUaHJlZShzZWxlY3RvciA9IHN0YXRlID0+IHN0YXRlLCBlcXVhbGl0eUZuKSB7XG4gIHJldHVybiB1c2VTdG9yZSgpKHNlbGVjdG9yLCBlcXVhbGl0eUZuKTtcbn1cblxuLyoqXHJcbiAqIEV4ZWN1dGVzIGEgY2FsbGJhY2sgYmVmb3JlIHJlbmRlciBpbiBhIHNoYXJlZCBmcmFtZSBsb29wLlxyXG4gKiBDYW4gb3JkZXIgZWZmZWN0cyB3aXRoIHJlbmRlciBwcmlvcml0eSBvciBtYW51YWxseSByZW5kZXIgd2l0aCBhIHBvc2l0aXZlIHByaW9yaXR5LlxyXG4gKiBAc2VlIGh0dHBzOi8vZG9jcy5wbW5kLnJzL3JlYWN0LXRocmVlLWZpYmVyL2FwaS9ob29rcyN1c2VmcmFtZVxyXG4gKi9cbmZ1bmN0aW9uIHVzZUZyYW1lKGNhbGxiYWNrLCByZW5kZXJQcmlvcml0eSA9IDApIHtcbiAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSgpO1xuICBjb25zdCBzdWJzY3JpYmUgPSBzdG9yZS5nZXRTdGF0ZSgpLmludGVybmFsLnN1YnNjcmliZTtcbiAgLy8gTWVtb2l6ZSByZWZcbiAgY29uc3QgcmVmID0gdXNlTXV0YWJsZUNhbGxiYWNrKGNhbGxiYWNrKTtcbiAgLy8gU3Vic2NyaWJlIG9uIG1vdW50LCB1bnN1YnNjcmliZSBvbiB1bm1vdW50XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4gc3Vic2NyaWJlKHJlZiwgcmVuZGVyUHJpb3JpdHksIHN0b3JlKSwgW3JlbmRlclByaW9yaXR5LCBzdWJzY3JpYmUsIHN0b3JlXSk7XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcclxuICogUmV0dXJucyBhIG5vZGUgZ3JhcGggb2YgYW4gb2JqZWN0IHdpdGggbmFtZWQgbm9kZXMgJiBtYXRlcmlhbHMuXHJcbiAqIEBzZWUgaHR0cHM6Ly9kb2NzLnBtbmQucnMvcmVhY3QtdGhyZWUtZmliZXIvYXBpL2hvb2tzI3VzZWdyYXBoXHJcbiAqL1xuZnVuY3Rpb24gdXNlR3JhcGgob2JqZWN0KSB7XG4gIHJldHVybiBSZWFjdC51c2VNZW1vKCgpID0+IGJ1aWxkR3JhcGgob2JqZWN0KSwgW29iamVjdF0pO1xufVxuY29uc3QgbWVtb2l6ZWRMb2FkZXJzID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IGlzQ29uc3RydWN0b3IkMSA9IHZhbHVlID0+IHtcbiAgdmFyIF92YWx1ZSRwcm90b3R5cGU7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgJiYgKHZhbHVlID09IG51bGwgPyB2b2lkIDAgOiAoX3ZhbHVlJHByb3RvdHlwZSA9IHZhbHVlLnByb3RvdHlwZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF92YWx1ZSRwcm90b3R5cGUuY29uc3RydWN0b3IpID09PSB2YWx1ZTtcbn07XG5mdW5jdGlvbiBsb2FkaW5nRm4oZXh0ZW5zaW9ucywgb25Qcm9ncmVzcykge1xuICByZXR1cm4gZnVuY3Rpb24gKFByb3RvLCAuLi5pbnB1dCkge1xuICAgIGxldCBsb2FkZXI7XG5cbiAgICAvLyBDb25zdHJ1Y3QgYW5kIGNhY2hlIGxvYWRlciBpZiBjb25zdHJ1Y3RvciB3YXMgcGFzc2VkXG4gICAgaWYgKGlzQ29uc3RydWN0b3IkMShQcm90bykpIHtcbiAgICAgIGxvYWRlciA9IG1lbW9pemVkTG9hZGVycy5nZXQoUHJvdG8pO1xuICAgICAgaWYgKCFsb2FkZXIpIHtcbiAgICAgICAgbG9hZGVyID0gbmV3IFByb3RvKCk7XG4gICAgICAgIG1lbW9pemVkTG9hZGVycy5zZXQoUHJvdG8sIGxvYWRlcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvYWRlciA9IFByb3RvO1xuICAgIH1cblxuICAgIC8vIEFwcGx5IGxvYWRlciBleHRlbnNpb25zXG4gICAgaWYgKGV4dGVuc2lvbnMpIGV4dGVuc2lvbnMobG9hZGVyKTtcblxuICAgIC8vIEdvIHRocm91Z2ggdGhlIHVybHMgYW5kIGxvYWQgdGhlbVxuICAgIHJldHVybiBQcm9taXNlLmFsbChpbnB1dC5tYXAoaW5wdXQgPT4gbmV3IFByb21pc2UoKHJlcywgcmVqZWN0KSA9PiBsb2FkZXIubG9hZChpbnB1dCwgZGF0YSA9PiB7XG4gICAgICBpZiAoaXNPYmplY3QzRChkYXRhID09IG51bGwgPyB2b2lkIDAgOiBkYXRhLnNjZW5lKSkgT2JqZWN0LmFzc2lnbihkYXRhLCBidWlsZEdyYXBoKGRhdGEuc2NlbmUpKTtcbiAgICAgIHJlcyhkYXRhKTtcbiAgICB9LCBvblByb2dyZXNzLCBlcnJvciA9PiByZWplY3QobmV3IEVycm9yKGBDb3VsZCBub3QgbG9hZCAke2lucHV0fTogJHtlcnJvciA9PSBudWxsID8gdm9pZCAwIDogZXJyb3IubWVzc2FnZX1gKSkpKSkpO1xuICB9O1xufVxuXG4vKipcclxuICogU3luY2hyb25vdXNseSBsb2FkcyBhbmQgY2FjaGVzIGFzc2V0cyB3aXRoIGEgdGhyZWUgbG9hZGVyLlxyXG4gKlxyXG4gKiBOb3RlOiB0aGlzIGhvb2sncyBjYWxsZXIgbXVzdCBiZSB3cmFwcGVkIHdpdGggYFJlYWN0LlN1c3BlbnNlYFxyXG4gKiBAc2VlIGh0dHBzOi8vZG9jcy5wbW5kLnJzL3JlYWN0LXRocmVlLWZpYmVyL2FwaS9ob29rcyN1c2Vsb2FkZXJcclxuICovXG5mdW5jdGlvbiB1c2VMb2FkZXIobG9hZGVyLCBpbnB1dCwgZXh0ZW5zaW9ucywgb25Qcm9ncmVzcykge1xuICAvLyBVc2Ugc3VzcGVuc2UgdG8gbG9hZCBhc3luYyBhc3NldHNcbiAgY29uc3Qga2V5cyA9IEFycmF5LmlzQXJyYXkoaW5wdXQpID8gaW5wdXQgOiBbaW5wdXRdO1xuICBjb25zdCByZXN1bHRzID0gc3VzcGVuZChsb2FkaW5nRm4oZXh0ZW5zaW9ucywgb25Qcm9ncmVzcyksIFtsb2FkZXIsIC4uLmtleXNdLCB7XG4gICAgZXF1YWw6IGlzLmVxdVxuICB9KTtcbiAgLy8gUmV0dXJuIHRoZSBvYmplY3QocylcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoaW5wdXQpID8gcmVzdWx0cyA6IHJlc3VsdHNbMF07XG59XG5cbi8qKlxyXG4gKiBQcmVsb2FkcyBhbiBhc3NldCBpbnRvIGNhY2hlIGFzIGEgc2lkZS1lZmZlY3QuXHJcbiAqL1xudXNlTG9hZGVyLnByZWxvYWQgPSBmdW5jdGlvbiAobG9hZGVyLCBpbnB1dCwgZXh0ZW5zaW9ucykge1xuICBjb25zdCBrZXlzID0gQXJyYXkuaXNBcnJheShpbnB1dCkgPyBpbnB1dCA6IFtpbnB1dF07XG4gIHJldHVybiBwcmVsb2FkKGxvYWRpbmdGbihleHRlbnNpb25zKSwgW2xvYWRlciwgLi4ua2V5c10pO1xufTtcblxuLyoqXHJcbiAqIFJlbW92ZXMgYSBsb2FkZWQgYXNzZXQgZnJvbSBjYWNoZS5cclxuICovXG51c2VMb2FkZXIuY2xlYXIgPSBmdW5jdGlvbiAobG9hZGVyLCBpbnB1dCkge1xuICBjb25zdCBrZXlzID0gQXJyYXkuaXNBcnJheShpbnB1dCkgPyBpbnB1dCA6IFtpbnB1dF07XG4gIHJldHVybiBjbGVhcihbbG9hZGVyLCAuLi5rZXlzXSk7XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVSZWNvbmNpbGVyKGNvbmZpZykge1xuICBjb25zdCByZWNvbmNpbGVyID0gUmVjb25jaWxlcihjb25maWcpO1xuICByZWNvbmNpbGVyLmluamVjdEludG9EZXZUb29scyh7XG4gICAgYnVuZGxlVHlwZTogdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyAxIDogMCxcbiAgICByZW5kZXJlclBhY2thZ2VOYW1lOiAnQHJlYWN0LXRocmVlL2ZpYmVyJyxcbiAgICB2ZXJzaW9uOiBSZWFjdC52ZXJzaW9uXG4gIH0pO1xuICByZXR1cm4gcmVjb25jaWxlcjtcbn1cbmNvbnN0IE5vRXZlbnRQcmlvcml0eSA9IDA7XG5cbi8vIFRPRE86IGhhbmRsZSBjb25zdHJ1Y3RvciBvdmVybG9hZHNcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvcmVhY3QtdGhyZWUtZmliZXIvcHVsbC8yOTMxXG4vLyBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzM3MDc5XG5cbmNvbnN0IGNhdGFsb2d1ZSA9IHt9O1xuY29uc3QgUFJFRklYX1JFR0VYID0gL150aHJlZSg/PVtBLVpdKS87XG5jb25zdCB0b1Bhc2NhbENhc2UgPSB0eXBlID0+IGAke3R5cGVbMF0udG9VcHBlckNhc2UoKX0ke3R5cGUuc2xpY2UoMSl9YDtcbmxldCBpID0gMDtcbmNvbnN0IGlzQ29uc3RydWN0b3IgPSBvYmplY3QgPT4gdHlwZW9mIG9iamVjdCA9PT0gJ2Z1bmN0aW9uJztcbmZ1bmN0aW9uIGV4dGVuZChvYmplY3RzKSB7XG4gIGlmIChpc0NvbnN0cnVjdG9yKG9iamVjdHMpKSB7XG4gICAgY29uc3QgQ29tcG9uZW50ID0gYCR7aSsrfWA7XG4gICAgY2F0YWxvZ3VlW0NvbXBvbmVudF0gPSBvYmplY3RzO1xuICAgIHJldHVybiBDb21wb25lbnQ7XG4gIH0gZWxzZSB7XG4gICAgT2JqZWN0LmFzc2lnbihjYXRhbG9ndWUsIG9iamVjdHMpO1xuICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUluc3RhbmNlKHR5cGUsIHByb3BzKSB7XG4gIC8vIEdldCB0YXJnZXQgZnJvbSBjYXRhbG9ndWVcbiAgY29uc3QgbmFtZSA9IHRvUGFzY2FsQ2FzZSh0eXBlKTtcbiAgY29uc3QgdGFyZ2V0ID0gY2F0YWxvZ3VlW25hbWVdO1xuXG4gIC8vIFZhbGlkYXRlIGVsZW1lbnQgdGFyZ2V0XG4gIGlmICh0eXBlICE9PSAncHJpbWl0aXZlJyAmJiAhdGFyZ2V0KSB0aHJvdyBuZXcgRXJyb3IoYFIzRjogJHtuYW1lfSBpcyBub3QgcGFydCBvZiB0aGUgVEhSRUUgbmFtZXNwYWNlISBEaWQgeW91IGZvcmdldCB0byBleHRlbmQ/IFNlZTogaHR0cHM6Ly9kb2NzLnBtbmQucnMvcmVhY3QtdGhyZWUtZmliZXIvYXBpL29iamVjdHMjdXNpbmctM3JkLXBhcnR5LW9iamVjdHMtZGVjbGFyYXRpdmVseWApO1xuXG4gIC8vIFZhbGlkYXRlIHByaW1pdGl2ZXNcbiAgaWYgKHR5cGUgPT09ICdwcmltaXRpdmUnICYmICFwcm9wcy5vYmplY3QpIHRocm93IG5ldyBFcnJvcihgUjNGOiBQcmltaXRpdmVzIHdpdGhvdXQgJ29iamVjdCcgYXJlIGludmFsaWQhYCk7XG5cbiAgLy8gVGhyb3cgaWYgYW4gb2JqZWN0IG9yIGxpdGVyYWwgd2FzIHBhc3NlZCBmb3IgYXJnc1xuICBpZiAocHJvcHMuYXJncyAhPT0gdW5kZWZpbmVkICYmICFBcnJheS5pc0FycmF5KHByb3BzLmFyZ3MpKSB0aHJvdyBuZXcgRXJyb3IoJ1IzRjogVGhlIGFyZ3MgcHJvcCBtdXN0IGJlIGFuIGFycmF5IScpO1xufVxuZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UodHlwZSwgcHJvcHMsIHJvb3QpIHtcbiAgdmFyIF9wcm9wcyRvYmplY3Q7XG4gIC8vIFJlbW92ZSB0aHJlZSogcHJlZml4IGZyb20gZWxlbWVudHMgaWYgbmF0aXZlIGVsZW1lbnQgbm90IHByZXNlbnRcbiAgdHlwZSA9IHRvUGFzY2FsQ2FzZSh0eXBlKSBpbiBjYXRhbG9ndWUgPyB0eXBlIDogdHlwZS5yZXBsYWNlKFBSRUZJWF9SRUdFWCwgJycpO1xuICB2YWxpZGF0ZUluc3RhbmNlKHR5cGUsIHByb3BzKTtcblxuICAvLyBSZWdlbmVyYXRlIHRoZSBSM0YgaW5zdGFuY2UgZm9yIHByaW1pdGl2ZXMgdG8gc2ltdWxhdGUgYSBuZXcgb2JqZWN0XG4gIGlmICh0eXBlID09PSAncHJpbWl0aXZlJyAmJiAoX3Byb3BzJG9iamVjdCA9IHByb3BzLm9iamVjdCkgIT0gbnVsbCAmJiBfcHJvcHMkb2JqZWN0Ll9fcjNmKSBkZWxldGUgcHJvcHMub2JqZWN0Ll9fcjNmO1xuICByZXR1cm4gcHJlcGFyZShwcm9wcy5vYmplY3QsIHJvb3QsIHR5cGUsIHByb3BzKTtcbn1cbmZ1bmN0aW9uIGhpZGVJbnN0YW5jZShpbnN0YW5jZSkge1xuICBpZiAoIWluc3RhbmNlLmlzSGlkZGVuKSB7XG4gICAgdmFyIF9pbnN0YW5jZSRwYXJlbnQ7XG4gICAgaWYgKGluc3RhbmNlLnByb3BzLmF0dGFjaCAmJiAoX2luc3RhbmNlJHBhcmVudCA9IGluc3RhbmNlLnBhcmVudCkgIT0gbnVsbCAmJiBfaW5zdGFuY2UkcGFyZW50Lm9iamVjdCkge1xuICAgICAgZGV0YWNoKGluc3RhbmNlLnBhcmVudCwgaW5zdGFuY2UpO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QzRChpbnN0YW5jZS5vYmplY3QpKSB7XG4gICAgICBpbnN0YW5jZS5vYmplY3QudmlzaWJsZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpbnN0YW5jZS5pc0hpZGRlbiA9IHRydWU7XG4gICAgaW52YWxpZGF0ZUluc3RhbmNlKGluc3RhbmNlKTtcbiAgfVxufVxuZnVuY3Rpb24gdW5oaWRlSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgaWYgKGluc3RhbmNlLmlzSGlkZGVuKSB7XG4gICAgdmFyIF9pbnN0YW5jZSRwYXJlbnQyO1xuICAgIGlmIChpbnN0YW5jZS5wcm9wcy5hdHRhY2ggJiYgKF9pbnN0YW5jZSRwYXJlbnQyID0gaW5zdGFuY2UucGFyZW50KSAhPSBudWxsICYmIF9pbnN0YW5jZSRwYXJlbnQyLm9iamVjdCkge1xuICAgICAgYXR0YWNoKGluc3RhbmNlLnBhcmVudCwgaW5zdGFuY2UpO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QzRChpbnN0YW5jZS5vYmplY3QpICYmIGluc3RhbmNlLnByb3BzLnZpc2libGUgIT09IGZhbHNlKSB7XG4gICAgICBpbnN0YW5jZS5vYmplY3QudmlzaWJsZSA9IHRydWU7XG4gICAgfVxuICAgIGluc3RhbmNlLmlzSGlkZGVuID0gZmFsc2U7XG4gICAgaW52YWxpZGF0ZUluc3RhbmNlKGluc3RhbmNlKTtcbiAgfVxufVxuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzIwMjcxXG4vLyBUaGlzIHdpbGwgbWFrZSBzdXJlIGV2ZW50cyBhbmQgYXR0YWNoIGFyZSBvbmx5IGhhbmRsZWQgb25jZSB3aGVuIHRyZWVzIGFyZSBjb21wbGV0ZVxuZnVuY3Rpb24gaGFuZGxlQ29udGFpbmVyRWZmZWN0cyhwYXJlbnQsIGNoaWxkLCBiZWZvcmVDaGlsZCkge1xuICAvLyBCYWlsIGlmIHRyZWUgaXNuJ3QgbW91bnRlZCBvciBwYXJlbnQgaXMgbm90IGEgY29udGFpbmVyLlxuICAvLyBUaGlzIGVuc3VyZXMgdGhhdCB0aGUgdHJlZSBpcyBmaW5hbGl6ZWQgYW5kIFJlYWN0IHdvbid0IGRpc2NhcmQgcmVzdWx0cyB0byBTdXNwZW5zZVxuICBjb25zdCBzdGF0ZSA9IGNoaWxkLnJvb3QuZ2V0U3RhdGUoKTtcbiAgaWYgKCFwYXJlbnQucGFyZW50ICYmIHBhcmVudC5vYmplY3QgIT09IHN0YXRlLnNjZW5lKSByZXR1cm47XG5cbiAgLy8gQ3JlYXRlICYgbGluayBvYmplY3Qgb24gZmlyc3QgcnVuXG4gIGlmICghY2hpbGQub2JqZWN0KSB7XG4gICAgdmFyIF9jaGlsZCRwcm9wcyRvYmplY3QsIF9jaGlsZCRwcm9wcyRhcmdzO1xuICAgIC8vIEdldCB0YXJnZXQgZnJvbSBjYXRhbG9ndWVcbiAgICBjb25zdCB0YXJnZXQgPSBjYXRhbG9ndWVbdG9QYXNjYWxDYXNlKGNoaWxkLnR5cGUpXTtcblxuICAgIC8vIENyZWF0ZSBvYmplY3RcbiAgICBjaGlsZC5vYmplY3QgPSAoX2NoaWxkJHByb3BzJG9iamVjdCA9IGNoaWxkLnByb3BzLm9iamVjdCkgIT0gbnVsbCA/IF9jaGlsZCRwcm9wcyRvYmplY3QgOiBuZXcgdGFyZ2V0KC4uLigoX2NoaWxkJHByb3BzJGFyZ3MgPSBjaGlsZC5wcm9wcy5hcmdzKSAhPSBudWxsID8gX2NoaWxkJHByb3BzJGFyZ3MgOiBbXSkpO1xuICAgIGNoaWxkLm9iamVjdC5fX3IzZiA9IGNoaWxkO1xuICB9XG5cbiAgLy8gU2V0IGluaXRpYWwgcHJvcHNcbiAgYXBwbHlQcm9wcyhjaGlsZC5vYmplY3QsIGNoaWxkLnByb3BzKTtcblxuICAvLyBBcHBlbmQgaW5zdGFuY2VcbiAgaWYgKGNoaWxkLnByb3BzLmF0dGFjaCkge1xuICAgIGF0dGFjaChwYXJlbnQsIGNoaWxkKTtcbiAgfSBlbHNlIGlmIChpc09iamVjdDNEKGNoaWxkLm9iamVjdCkgJiYgaXNPYmplY3QzRChwYXJlbnQub2JqZWN0KSkge1xuICAgIGNvbnN0IGNoaWxkSW5kZXggPSBwYXJlbnQub2JqZWN0LmNoaWxkcmVuLmluZGV4T2YoYmVmb3JlQ2hpbGQgPT0gbnVsbCA/IHZvaWQgMCA6IGJlZm9yZUNoaWxkLm9iamVjdCk7XG4gICAgaWYgKGJlZm9yZUNoaWxkICYmIGNoaWxkSW5kZXggIT09IC0xKSB7XG4gICAgICAvLyBJZiB0aGUgY2hpbGQgaXMgYWxyZWFkeSBpbiB0aGUgcGFyZW50J3MgY2hpbGRyZW4gYXJyYXksIG1vdmUgaXQgdG8gdGhlIG5ldyBwb3NpdGlvblxuICAgICAgLy8gT3RoZXJ3aXNlLCBqdXN0IGluc2VydCBpdCBhdCB0aGUgdGFyZ2V0IHBvc2l0aW9uXG4gICAgICBjb25zdCBleGlzdGluZ0luZGV4ID0gcGFyZW50Lm9iamVjdC5jaGlsZHJlbi5pbmRleE9mKGNoaWxkLm9iamVjdCk7XG4gICAgICBpZiAoZXhpc3RpbmdJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgcGFyZW50Lm9iamVjdC5jaGlsZHJlbi5zcGxpY2UoZXhpc3RpbmdJbmRleCwgMSk7XG4gICAgICAgIGNvbnN0IGFkanVzdGVkSW5kZXggPSBleGlzdGluZ0luZGV4IDwgY2hpbGRJbmRleCA/IGNoaWxkSW5kZXggLSAxIDogY2hpbGRJbmRleDtcbiAgICAgICAgcGFyZW50Lm9iamVjdC5jaGlsZHJlbi5zcGxpY2UoYWRqdXN0ZWRJbmRleCwgMCwgY2hpbGQub2JqZWN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkLm9iamVjdC5wYXJlbnQgPSBwYXJlbnQub2JqZWN0O1xuICAgICAgICBwYXJlbnQub2JqZWN0LmNoaWxkcmVuLnNwbGljZShjaGlsZEluZGV4LCAwLCBjaGlsZC5vYmplY3QpO1xuICAgICAgICBjaGlsZC5vYmplY3QuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgICAgdHlwZTogJ2FkZGVkJ1xuICAgICAgICB9KTtcbiAgICAgICAgcGFyZW50Lm9iamVjdC5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgICB0eXBlOiAnY2hpbGRhZGRlZCcsXG4gICAgICAgICAgY2hpbGQ6IGNoaWxkLm9iamVjdFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGFyZW50Lm9iamVjdC5hZGQoY2hpbGQub2JqZWN0KTtcbiAgICB9XG4gIH1cblxuICAvLyBMaW5rIHN1YnRyZWVcbiAgZm9yIChjb25zdCBjaGlsZEluc3RhbmNlIG9mIGNoaWxkLmNoaWxkcmVuKSBoYW5kbGVDb250YWluZXJFZmZlY3RzKGNoaWxkLCBjaGlsZEluc3RhbmNlKTtcblxuICAvLyBUcmVlIHdhcyB1cGRhdGVkLCByZXF1ZXN0IGEgZnJhbWVcbiAgaW52YWxpZGF0ZUluc3RhbmNlKGNoaWxkKTtcbn1cbmZ1bmN0aW9uIGFwcGVuZENoaWxkKHBhcmVudCwgY2hpbGQpIHtcbiAgaWYgKCFjaGlsZCkgcmV0dXJuO1xuXG4gIC8vIExpbmsgaW5zdGFuY2VzXG4gIGNoaWxkLnBhcmVudCA9IHBhcmVudDtcbiAgcGFyZW50LmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuXG4gIC8vIEF0dGFjaCB0cmVlIG9uY2UgY29tcGxldGVcbiAgaGFuZGxlQ29udGFpbmVyRWZmZWN0cyhwYXJlbnQsIGNoaWxkKTtcbn1cbmZ1bmN0aW9uIGluc2VydEJlZm9yZShwYXJlbnQsIGNoaWxkLCBiZWZvcmVDaGlsZCkge1xuICBpZiAoIWNoaWxkIHx8ICFiZWZvcmVDaGlsZCkgcmV0dXJuO1xuXG4gIC8vIExpbmsgaW5zdGFuY2VzXG4gIGNoaWxkLnBhcmVudCA9IHBhcmVudDtcbiAgY29uc3QgY2hpbGRJbmRleCA9IHBhcmVudC5jaGlsZHJlbi5pbmRleE9mKGJlZm9yZUNoaWxkKTtcbiAgaWYgKGNoaWxkSW5kZXggIT09IC0xKSBwYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGNoaWxkSW5kZXgsIDAsIGNoaWxkKTtlbHNlIHBhcmVudC5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcblxuICAvLyBBdHRhY2ggdHJlZSBvbmNlIGNvbXBsZXRlXG4gIGhhbmRsZUNvbnRhaW5lckVmZmVjdHMocGFyZW50LCBjaGlsZCwgYmVmb3JlQ2hpbGQpO1xufVxuZnVuY3Rpb24gZGlzcG9zZU9uSWRsZShvYmplY3QpIHtcbiAgaWYgKHR5cGVvZiBvYmplY3QuZGlzcG9zZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNvbnN0IGhhbmRsZURpc3Bvc2UgPSAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBvYmplY3QuZGlzcG9zZSgpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIC8vIG5vLW9wXG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIEluIGEgdGVzdGluZyBlbnZpcm9ubWVudCwgY2xlYW51cCBpbW1lZGlhdGVseVxuICAgIGlmICh0eXBlb2YgSVNfUkVBQ1RfQUNUX0VOVklST05NRU5UICE9PSAndW5kZWZpbmVkJykgaGFuZGxlRGlzcG9zZSgpO1xuICAgIC8vIE90aGVyd2lzZSwgdXNpbmcgYSByZWFsIEdQVSBzbyBzY2hlZHVsZSBjbGVhbnVwIHRvIHByZXZlbnQgc3RhbGxzXG4gICAgZWxzZSB1bnN0YWJsZV9zY2hlZHVsZUNhbGxiYWNrKHVuc3RhYmxlX0lkbGVQcmlvcml0eSwgaGFuZGxlRGlzcG9zZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZUNoaWxkKHBhcmVudCwgY2hpbGQsIGRpc3Bvc2UpIHtcbiAgaWYgKCFjaGlsZCkgcmV0dXJuO1xuXG4gIC8vIFVubGluayBpbnN0YW5jZXNcbiAgY2hpbGQucGFyZW50ID0gbnVsbDtcbiAgY29uc3QgY2hpbGRJbmRleCA9IHBhcmVudC5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcbiAgaWYgKGNoaWxkSW5kZXggIT09IC0xKSBwYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGNoaWxkSW5kZXgsIDEpO1xuXG4gIC8vIEVhZ2VybHkgdGVhciBkb3duIHRyZWVcbiAgaWYgKGNoaWxkLnByb3BzLmF0dGFjaCkge1xuICAgIGRldGFjaChwYXJlbnQsIGNoaWxkKTtcbiAgfSBlbHNlIGlmIChpc09iamVjdDNEKGNoaWxkLm9iamVjdCkgJiYgaXNPYmplY3QzRChwYXJlbnQub2JqZWN0KSkge1xuICAgIHBhcmVudC5vYmplY3QucmVtb3ZlKGNoaWxkLm9iamVjdCk7XG4gICAgcmVtb3ZlSW50ZXJhY3Rpdml0eShmaW5kSW5pdGlhbFJvb3QoY2hpbGQpLCBjaGlsZC5vYmplY3QpO1xuICB9XG5cbiAgLy8gQWxsb3cgb2JqZWN0cyB0byBiYWlsIG91dCBvZiB1bm1vdW50IGRpc3Bvc2FsIHdpdGggZGlzcG9zZT17bnVsbH1cbiAgY29uc3Qgc2hvdWxkRGlzcG9zZSA9IGNoaWxkLnByb3BzLmRpc3Bvc2UgIT09IG51bGwgJiYgZGlzcG9zZSAhPT0gZmFsc2U7XG5cbiAgLy8gUmVjdXJzaXZlbHkgcmVtb3ZlIGluc3RhbmNlIGNoaWxkcmVuXG4gIGZvciAobGV0IGkgPSBjaGlsZC5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGNvbnN0IG5vZGUgPSBjaGlsZC5jaGlsZHJlbltpXTtcbiAgICByZW1vdmVDaGlsZChjaGlsZCwgbm9kZSwgc2hvdWxkRGlzcG9zZSk7XG4gIH1cbiAgY2hpbGQuY2hpbGRyZW4ubGVuZ3RoID0gMDtcblxuICAvLyBVbmxpbmsgaW5zdGFuY2Ugb2JqZWN0XG4gIGRlbGV0ZSBjaGlsZC5vYmplY3QuX19yM2Y7XG5cbiAgLy8gRGlzcG9zZSBvYmplY3Qgd2hlbmV2ZXIgdGhlIHJlY29uY2lsZXIgZmVlbHMgbGlrZSBpdC5cbiAgLy8gTmV2ZXIgZGlzcG9zZSBvZiBwcmltaXRpdmVzIGJlY2F1c2UgdGhlaXIgc3RhdGUgbWF5IGJlIGtlcHQgb3V0c2lkZSBvZiBSZWFjdCFcbiAgLy8gSW4gb3JkZXIgZm9yIGFuIG9iamVjdCB0byBiZSBhYmxlIHRvIGRpc3Bvc2UgaXRcbiAgLy8gICAtIGhhcyBhIGRpc3Bvc2UgbWV0aG9kXG4gIC8vICAgLSBjYW5ub3QgYmUgYSA8cHJpbWl0aXZlIG9iamVjdD17Li4ufSAvPlxuICAvLyAgIC0gY2Fubm90IGJlIGEgVEhSRUUuU2NlbmUsIGJlY2F1c2UgdGhyZWUgaGFzIGJyb2tlbiBpdHMgb3duIEFQSVxuICBpZiAoc2hvdWxkRGlzcG9zZSAmJiBjaGlsZC50eXBlICE9PSAncHJpbWl0aXZlJyAmJiBjaGlsZC5vYmplY3QudHlwZSAhPT0gJ1NjZW5lJykge1xuICAgIGRpc3Bvc2VPbklkbGUoY2hpbGQub2JqZWN0KTtcbiAgfVxuXG4gIC8vIFRyZWUgd2FzIHVwZGF0ZWQsIHJlcXVlc3QgYSBmcmFtZSBmb3IgdG9wLWxldmVsIGluc3RhbmNlXG4gIGlmIChkaXNwb3NlID09PSB1bmRlZmluZWQpIGludmFsaWRhdGVJbnN0YW5jZShjaGlsZCk7XG59XG5mdW5jdGlvbiBzZXRGaWJlclJlZihmaWJlciwgcHVibGljSW5zdGFuY2UpIHtcbiAgZm9yIChjb25zdCBfZmliZXIgb2YgW2ZpYmVyLCBmaWJlci5hbHRlcm5hdGVdKSB7XG4gICAgaWYgKF9maWJlciAhPT0gbnVsbCkge1xuICAgICAgaWYgKHR5cGVvZiBfZmliZXIucmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIF9maWJlci5yZWZDbGVhbnVwID09IG51bGwgPyB2b2lkIDAgOiBfZmliZXIucmVmQ2xlYW51cCgpO1xuICAgICAgICBjb25zdCBjbGVhbnVwID0gX2ZpYmVyLnJlZihwdWJsaWNJbnN0YW5jZSk7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYW51cCA9PT0gJ2Z1bmN0aW9uJykgX2ZpYmVyLnJlZkNsZWFudXAgPSBjbGVhbnVwO1xuICAgICAgfSBlbHNlIGlmIChfZmliZXIucmVmKSB7XG4gICAgICAgIF9maWJlci5yZWYuY3VycmVudCA9IHB1YmxpY0luc3RhbmNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuY29uc3QgcmVjb25zdHJ1Y3RlZCA9IFtdO1xuZnVuY3Rpb24gc3dhcEluc3RhbmNlcygpIHtcbiAgLy8gRGV0YWNoIGluc3RhbmNlXG4gIGZvciAoY29uc3QgW2luc3RhbmNlXSBvZiByZWNvbnN0cnVjdGVkKSB7XG4gICAgY29uc3QgcGFyZW50ID0gaW5zdGFuY2UucGFyZW50O1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIGlmIChpbnN0YW5jZS5wcm9wcy5hdHRhY2gpIHtcbiAgICAgICAgZGV0YWNoKHBhcmVudCwgaW5zdGFuY2UpO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdDNEKGluc3RhbmNlLm9iamVjdCkgJiYgaXNPYmplY3QzRChwYXJlbnQub2JqZWN0KSkge1xuICAgICAgICBwYXJlbnQub2JqZWN0LnJlbW92ZShpbnN0YW5jZS5vYmplY3QpO1xuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBpbnN0YW5jZS5jaGlsZHJlbikge1xuICAgICAgICBpZiAoY2hpbGQucHJvcHMuYXR0YWNoKSB7XG4gICAgICAgICAgZGV0YWNoKGluc3RhbmNlLCBjaGlsZCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QzRChjaGlsZC5vYmplY3QpICYmIGlzT2JqZWN0M0QoaW5zdGFuY2Uub2JqZWN0KSkge1xuICAgICAgICAgIGluc3RhbmNlLm9iamVjdC5yZW1vdmUoY2hpbGQub2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHRoZSBvbGQgaW5zdGFuY2UgaXMgaGlkZGVuLCB3ZSBuZWVkIHRvIHVuaGlkZSBpdC5cbiAgICAvLyBSZWFjdCBhc3N1bWVzIGl0IGNhbiBkaXNjYXJkIGluc3RhbmNlcyBzaW5jZSB0aGV5J3JlIHB1cmUgZm9yIERPTS5cbiAgICAvLyBUaGlzIGlzbid0IHRydWUgZm9yIHVzIHNpbmNlIG91ciBsaWZldGltZXMgYXJlIGltcHVyZSBhbmQgbG9uZ2xpdmluZy5cbiAgICAvLyBTbywgd2UgbWFudWFsbHkgY2hlY2sgaWYgYW4gaW5zdGFuY2Ugd2FzIGhpZGRlbiBhbmQgdW5oaWRlIGl0LlxuICAgIGlmIChpbnN0YW5jZS5pc0hpZGRlbikgdW5oaWRlSW5zdGFuY2UoaW5zdGFuY2UpO1xuXG4gICAgLy8gRGlzcG9zZSBvZiBvbGQgb2JqZWN0IGlmIGFibGVcbiAgICBpZiAoaW5zdGFuY2Uub2JqZWN0Ll9fcjNmKSBkZWxldGUgaW5zdGFuY2Uub2JqZWN0Ll9fcjNmO1xuICAgIGlmIChpbnN0YW5jZS50eXBlICE9PSAncHJpbWl0aXZlJykgZGlzcG9zZU9uSWRsZShpbnN0YW5jZS5vYmplY3QpO1xuICB9XG5cbiAgLy8gVXBkYXRlIGluc3RhbmNlXG4gIGZvciAoY29uc3QgW2luc3RhbmNlLCBwcm9wcywgZmliZXJdIG9mIHJlY29uc3RydWN0ZWQpIHtcbiAgICBpbnN0YW5jZS5wcm9wcyA9IHByb3BzO1xuICAgIGNvbnN0IHBhcmVudCA9IGluc3RhbmNlLnBhcmVudDtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICB2YXIgX2luc3RhbmNlJHByb3BzJG9iamVjLCBfaW5zdGFuY2UkcHJvcHMkYXJncztcbiAgICAgIC8vIEdldCB0YXJnZXQgZnJvbSBjYXRhbG9ndWVcbiAgICAgIGNvbnN0IHRhcmdldCA9IGNhdGFsb2d1ZVt0b1Bhc2NhbENhc2UoaW5zdGFuY2UudHlwZSldO1xuXG4gICAgICAvLyBDcmVhdGUgb2JqZWN0XG4gICAgICBpbnN0YW5jZS5vYmplY3QgPSAoX2luc3RhbmNlJHByb3BzJG9iamVjID0gaW5zdGFuY2UucHJvcHMub2JqZWN0KSAhPSBudWxsID8gX2luc3RhbmNlJHByb3BzJG9iamVjIDogbmV3IHRhcmdldCguLi4oKF9pbnN0YW5jZSRwcm9wcyRhcmdzID0gaW5zdGFuY2UucHJvcHMuYXJncykgIT0gbnVsbCA/IF9pbnN0YW5jZSRwcm9wcyRhcmdzIDogW10pKTtcbiAgICAgIGluc3RhbmNlLm9iamVjdC5fX3IzZiA9IGluc3RhbmNlO1xuICAgICAgc2V0RmliZXJSZWYoZmliZXIsIGluc3RhbmNlLm9iamVjdCk7XG5cbiAgICAgIC8vIFNldCBpbml0aWFsIHByb3BzXG4gICAgICBhcHBseVByb3BzKGluc3RhbmNlLm9iamVjdCwgaW5zdGFuY2UucHJvcHMpO1xuICAgICAgaWYgKGluc3RhbmNlLnByb3BzLmF0dGFjaCkge1xuICAgICAgICBhdHRhY2gocGFyZW50LCBpbnN0YW5jZSk7XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0M0QoaW5zdGFuY2Uub2JqZWN0KSAmJiBpc09iamVjdDNEKHBhcmVudC5vYmplY3QpKSB7XG4gICAgICAgIHBhcmVudC5vYmplY3QuYWRkKGluc3RhbmNlLm9iamVjdCk7XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGluc3RhbmNlLmNoaWxkcmVuKSB7XG4gICAgICAgIGlmIChjaGlsZC5wcm9wcy5hdHRhY2gpIHtcbiAgICAgICAgICBhdHRhY2goaW5zdGFuY2UsIGNoaWxkKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc09iamVjdDNEKGNoaWxkLm9iamVjdCkgJiYgaXNPYmplY3QzRChpbnN0YW5jZS5vYmplY3QpKSB7XG4gICAgICAgICAgaW5zdGFuY2Uub2JqZWN0LmFkZChjaGlsZC5vYmplY3QpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRyZWUgd2FzIHVwZGF0ZWQsIHJlcXVlc3QgYSBmcmFtZVxuICAgICAgaW52YWxpZGF0ZUluc3RhbmNlKGluc3RhbmNlKTtcbiAgICB9XG4gIH1cbiAgcmVjb25zdHJ1Y3RlZC5sZW5ndGggPSAwO1xufVxuXG4vLyBEb24ndCBoYW5kbGUgdGV4dCBpbnN0YW5jZXMsIG1ha2UgaXQgbm8tb3BcbmNvbnN0IGhhbmRsZVRleHRJbnN0YW5jZSA9ICgpID0+IHt9O1xuY29uc3QgTk9fQ09OVEVYVCA9IHt9O1xubGV0IGN1cnJlbnRVcGRhdGVQcmlvcml0eSA9IE5vRXZlbnRQcmlvcml0eTtcblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvbWFpbi9wYWNrYWdlcy9yZWFjdC1yZWNvbmNpbGVyL3NyYy9SZWFjdEZpYmVyRmxhZ3MuanNcbmNvbnN0IE5vRmxhZ3MgPSAwO1xuY29uc3QgVXBkYXRlID0gNDtcbmNvbnN0IHJlY29uY2lsZXIgPSAvKiBAX19QVVJFX18gKi9jcmVhdGVSZWNvbmNpbGVyKHtcbiAgaXNQcmltYXJ5UmVuZGVyZXI6IGZhbHNlLFxuICB3YXJuc0lmTm90QWN0aW5nOiBmYWxzZSxcbiAgc3VwcG9ydHNNdXRhdGlvbjogdHJ1ZSxcbiAgc3VwcG9ydHNQZXJzaXN0ZW5jZTogZmFsc2UsXG4gIHN1cHBvcnRzSHlkcmF0aW9uOiBmYWxzZSxcbiAgY3JlYXRlSW5zdGFuY2UsXG4gIHJlbW92ZUNoaWxkLFxuICBhcHBlbmRDaGlsZCxcbiAgYXBwZW5kSW5pdGlhbENoaWxkOiBhcHBlbmRDaGlsZCxcbiAgaW5zZXJ0QmVmb3JlLFxuICBhcHBlbmRDaGlsZFRvQ29udGFpbmVyKGNvbnRhaW5lciwgY2hpbGQpIHtcbiAgICBjb25zdCBzY2VuZSA9IGNvbnRhaW5lci5nZXRTdGF0ZSgpLnNjZW5lLl9fcjNmO1xuICAgIGlmICghY2hpbGQgfHwgIXNjZW5lKSByZXR1cm47XG4gICAgYXBwZW5kQ2hpbGQoc2NlbmUsIGNoaWxkKTtcbiAgfSxcbiAgcmVtb3ZlQ2hpbGRGcm9tQ29udGFpbmVyKGNvbnRhaW5lciwgY2hpbGQpIHtcbiAgICBjb25zdCBzY2VuZSA9IGNvbnRhaW5lci5nZXRTdGF0ZSgpLnNjZW5lLl9fcjNmO1xuICAgIGlmICghY2hpbGQgfHwgIXNjZW5lKSByZXR1cm47XG4gICAgcmVtb3ZlQ2hpbGQoc2NlbmUsIGNoaWxkKTtcbiAgfSxcbiAgaW5zZXJ0SW5Db250YWluZXJCZWZvcmUoY29udGFpbmVyLCBjaGlsZCwgYmVmb3JlQ2hpbGQpIHtcbiAgICBjb25zdCBzY2VuZSA9IGNvbnRhaW5lci5nZXRTdGF0ZSgpLnNjZW5lLl9fcjNmO1xuICAgIGlmICghY2hpbGQgfHwgIWJlZm9yZUNoaWxkIHx8ICFzY2VuZSkgcmV0dXJuO1xuICAgIGluc2VydEJlZm9yZShzY2VuZSwgY2hpbGQsIGJlZm9yZUNoaWxkKTtcbiAgfSxcbiAgZ2V0Um9vdEhvc3RDb250ZXh0OiAoKSA9PiBOT19DT05URVhULFxuICBnZXRDaGlsZEhvc3RDb250ZXh0OiAoKSA9PiBOT19DT05URVhULFxuICBjb21taXRVcGRhdGUoaW5zdGFuY2UsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcywgZmliZXIpIHtcbiAgICB2YXIgX25ld1Byb3BzJGFyZ3MsIF9vbGRQcm9wcyRhcmdzLCBfbmV3UHJvcHMkYXJnczI7XG4gICAgdmFsaWRhdGVJbnN0YW5jZSh0eXBlLCBuZXdQcm9wcyk7XG4gICAgbGV0IHJlY29uc3RydWN0ID0gZmFsc2U7XG5cbiAgICAvLyBSZWNvbnN0cnVjdCBwcmltaXRpdmVzIGlmIG9iamVjdCBwcm9wIGNoYW5nZXNcbiAgICBpZiAoaW5zdGFuY2UudHlwZSA9PT0gJ3ByaW1pdGl2ZScgJiYgb2xkUHJvcHMub2JqZWN0ICE9PSBuZXdQcm9wcy5vYmplY3QpIHJlY29uc3RydWN0ID0gdHJ1ZTtcbiAgICAvLyBSZWNvbnN0cnVjdCBpbnN0YW5jZSBpZiBhcmdzIHdlcmUgYWRkZWQgb3IgcmVtb3ZlZFxuICAgIGVsc2UgaWYgKCgoX25ld1Byb3BzJGFyZ3MgPSBuZXdQcm9wcy5hcmdzKSA9PSBudWxsID8gdm9pZCAwIDogX25ld1Byb3BzJGFyZ3MubGVuZ3RoKSAhPT0gKChfb2xkUHJvcHMkYXJncyA9IG9sZFByb3BzLmFyZ3MpID09IG51bGwgPyB2b2lkIDAgOiBfb2xkUHJvcHMkYXJncy5sZW5ndGgpKSByZWNvbnN0cnVjdCA9IHRydWU7XG4gICAgLy8gUmVjb25zdHJ1Y3QgaW5zdGFuY2UgaWYgYXJncyB3ZXJlIGNoYW5nZWRcbiAgICBlbHNlIGlmICgoX25ld1Byb3BzJGFyZ3MyID0gbmV3UHJvcHMuYXJncykgIT0gbnVsbCAmJiBfbmV3UHJvcHMkYXJnczIuc29tZSgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICB2YXIgX29sZFByb3BzJGFyZ3MyO1xuICAgICAgcmV0dXJuIHZhbHVlICE9PSAoKF9vbGRQcm9wcyRhcmdzMiA9IG9sZFByb3BzLmFyZ3MpID09IG51bGwgPyB2b2lkIDAgOiBfb2xkUHJvcHMkYXJnczJbaW5kZXhdKTtcbiAgICB9KSkgcmVjb25zdHJ1Y3QgPSB0cnVlO1xuXG4gICAgLy8gUmVjb25zdHJ1Y3Qgd2hlbiBhcmdzIG9yIDxwcmltaXRpdmUgb2JqZWN0PXsuLi59IGhhdmUgY2hhbmdlc1xuICAgIGlmIChyZWNvbnN0cnVjdCkge1xuICAgICAgcmVjb25zdHJ1Y3RlZC5wdXNoKFtpbnN0YW5jZSwge1xuICAgICAgICAuLi5uZXdQcm9wc1xuICAgICAgfSwgZmliZXJdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ3JlYXRlIGEgZGlmZi1zZXQsIGZsYWcgaWYgdGhlcmUgYXJlIGFueSBjaGFuZ2VzXG4gICAgICBjb25zdCBjaGFuZ2VkUHJvcHMgPSBkaWZmUHJvcHMoaW5zdGFuY2UsIG5ld1Byb3BzKTtcbiAgICAgIGlmIChPYmplY3Qua2V5cyhjaGFuZ2VkUHJvcHMpLmxlbmd0aCkge1xuICAgICAgICBPYmplY3QuYXNzaWduKGluc3RhbmNlLnByb3BzLCBjaGFuZ2VkUHJvcHMpO1xuICAgICAgICBhcHBseVByb3BzKGluc3RhbmNlLm9iamVjdCwgY2hhbmdlZFByb3BzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGbHVzaCByZWNvbnN0cnVjdGVkIHNpYmxpbmdzIHdoZW4gd2UgaGl0IHRoZSBsYXN0IHVwZGF0ZWQgY2hpbGQgaW4gYSBzZXF1ZW5jZVxuICAgIGNvbnN0IGlzVGFpbFNpYmxpbmcgPSBmaWJlci5zaWJsaW5nID09PSBudWxsIHx8IChmaWJlci5mbGFncyAmIFVwZGF0ZSkgPT09IE5vRmxhZ3M7XG4gICAgaWYgKGlzVGFpbFNpYmxpbmcpIHN3YXBJbnN0YW5jZXMoKTtcbiAgfSxcbiAgZmluYWxpemVJbml0aWFsQ2hpbGRyZW46ICgpID0+IGZhbHNlLFxuICBjb21taXRNb3VudCgpIHt9LFxuICBnZXRQdWJsaWNJbnN0YW5jZTogaW5zdGFuY2UgPT4gaW5zdGFuY2UgPT0gbnVsbCA/IHZvaWQgMCA6IGluc3RhbmNlLm9iamVjdCxcbiAgcHJlcGFyZUZvckNvbW1pdDogKCkgPT4gbnVsbCxcbiAgcHJlcGFyZVBvcnRhbE1vdW50OiBjb250YWluZXIgPT4gcHJlcGFyZShjb250YWluZXIuZ2V0U3RhdGUoKS5zY2VuZSwgY29udGFpbmVyLCAnJywge30pLFxuICByZXNldEFmdGVyQ29tbWl0OiAoKSA9PiB7fSxcbiAgc2hvdWxkU2V0VGV4dENvbnRlbnQ6ICgpID0+IGZhbHNlLFxuICBjbGVhckNvbnRhaW5lcjogKCkgPT4gZmFsc2UsXG4gIGhpZGVJbnN0YW5jZSxcbiAgdW5oaWRlSW5zdGFuY2UsXG4gIGNyZWF0ZVRleHRJbnN0YW5jZTogaGFuZGxlVGV4dEluc3RhbmNlLFxuICBoaWRlVGV4dEluc3RhbmNlOiBoYW5kbGVUZXh0SW5zdGFuY2UsXG4gIHVuaGlkZVRleHRJbnN0YW5jZTogaGFuZGxlVGV4dEluc3RhbmNlLFxuICBzY2hlZHVsZVRpbWVvdXQ6IHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nID8gc2V0VGltZW91dCA6IHVuZGVmaW5lZCxcbiAgY2FuY2VsVGltZW91dDogdHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJyA/IGNsZWFyVGltZW91dCA6IHVuZGVmaW5lZCxcbiAgbm9UaW1lb3V0OiAtMSxcbiAgZ2V0SW5zdGFuY2VGcm9tTm9kZTogKCkgPT4gbnVsbCxcbiAgYmVmb3JlQWN0aXZlSW5zdGFuY2VCbHVyKCkge30sXG4gIGFmdGVyQWN0aXZlSW5zdGFuY2VCbHVyKCkge30sXG4gIGRldGFjaERlbGV0ZWRJbnN0YW5jZSgpIHt9LFxuICBwcmVwYXJlU2NvcGVVcGRhdGUoKSB7fSxcbiAgZ2V0SW5zdGFuY2VGcm9tU2NvcGU6ICgpID0+IG51bGwsXG4gIHNob3VsZEF0dGVtcHRFYWdlclRyYW5zaXRpb246ICgpID0+IGZhbHNlLFxuICB0cmFja1NjaGVkdWxlckV2ZW50OiAoKSA9PiB7fSxcbiAgcmVzb2x2ZUV2ZW50VHlwZTogKCkgPT4gbnVsbCxcbiAgcmVzb2x2ZUV2ZW50VGltZVN0YW1wOiAoKSA9PiAtMS4xLFxuICByZXF1ZXN0UG9zdFBhaW50Q2FsbGJhY2soKSB7fSxcbiAgbWF5U3VzcGVuZENvbW1pdDogKCkgPT4gZmFsc2UsXG4gIHByZWxvYWRJbnN0YW5jZTogKCkgPT4gdHJ1ZSxcbiAgLy8gdHJ1ZSBpbmRpY2F0ZXMgYWxyZWFkeSBsb2FkZWRcbiAgc3RhcnRTdXNwZW5kaW5nQ29tbWl0KCkge30sXG4gIHN1c3BlbmRJbnN0YW5jZSgpIHt9LFxuICB3YWl0Rm9yQ29tbWl0VG9CZVJlYWR5OiAoKSA9PiBudWxsLFxuICBOb3RQZW5kaW5nVHJhbnNpdGlvbjogbnVsbCxcbiAgLy8gVGhlIHJlY29uY2lsZXIgdHlwZXMgdXNlIHRoZSBpbnRlcm5hbCBSZWFjdENvbnRleHQgd2l0aCBhbGwgdGhlIGhpZGRlbiBwcm9wZXJ0aWVzXG4gIC8vIHNvIHdlIGhhdmUgdG8gY2FzdCBmcm9tIHRoZSBwdWJsaWMgUmVhY3QuQ29udGV4dCB0eXBlXG4gIEhvc3RUcmFuc2l0aW9uQ29udGV4dDogLyogQF9fUFVSRV9fICovUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKSxcbiAgc2V0Q3VycmVudFVwZGF0ZVByaW9yaXR5KG5ld1ByaW9yaXR5KSB7XG4gICAgY3VycmVudFVwZGF0ZVByaW9yaXR5ID0gbmV3UHJpb3JpdHk7XG4gIH0sXG4gIGdldEN1cnJlbnRVcGRhdGVQcmlvcml0eSgpIHtcbiAgICByZXR1cm4gY3VycmVudFVwZGF0ZVByaW9yaXR5O1xuICB9LFxuICByZXNvbHZlVXBkYXRlUHJpb3JpdHkoKSB7XG4gICAgdmFyIF93aW5kb3ckZXZlbnQ7XG4gICAgaWYgKGN1cnJlbnRVcGRhdGVQcmlvcml0eSAhPT0gTm9FdmVudFByaW9yaXR5KSByZXR1cm4gY3VycmVudFVwZGF0ZVByaW9yaXR5O1xuICAgIHN3aXRjaCAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgKChfd2luZG93JGV2ZW50ID0gd2luZG93LmV2ZW50KSA9PSBudWxsID8gdm9pZCAwIDogX3dpbmRvdyRldmVudC50eXBlKSkge1xuICAgICAgY2FzZSAnY2xpY2snOlxuICAgICAgY2FzZSAnY29udGV4dG1lbnUnOlxuICAgICAgY2FzZSAnZGJsY2xpY2snOlxuICAgICAgY2FzZSAncG9pbnRlcmNhbmNlbCc6XG4gICAgICBjYXNlICdwb2ludGVyZG93bic6XG4gICAgICBjYXNlICdwb2ludGVydXAnOlxuICAgICAgICByZXR1cm4gRGlzY3JldGVFdmVudFByaW9yaXR5O1xuICAgICAgY2FzZSAncG9pbnRlcm1vdmUnOlxuICAgICAgY2FzZSAncG9pbnRlcm91dCc6XG4gICAgICBjYXNlICdwb2ludGVyb3Zlcic6XG4gICAgICBjYXNlICdwb2ludGVyZW50ZXInOlxuICAgICAgY2FzZSAncG9pbnRlcmxlYXZlJzpcbiAgICAgIGNhc2UgJ3doZWVsJzpcbiAgICAgICAgcmV0dXJuIENvbnRpbnVvdXNFdmVudFByaW9yaXR5O1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIERlZmF1bHRFdmVudFByaW9yaXR5O1xuICAgIH1cbiAgfSxcbiAgcmVzZXRGb3JtSW5zdGFuY2UoKSB7fVxufSk7XG5cbmNvbnN0IF9yb290cyA9IG5ldyBNYXAoKTtcbmNvbnN0IHNoYWxsb3dMb29zZSA9IHtcbiAgb2JqZWN0czogJ3NoYWxsb3cnLFxuICBzdHJpY3Q6IGZhbHNlXG59O1xuZnVuY3Rpb24gY29tcHV0ZUluaXRpYWxTaXplKGNhbnZhcywgc2l6ZSkge1xuICBpZiAoIXNpemUgJiYgdHlwZW9mIEhUTUxDYW52YXNFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBjYW52YXMgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCAmJiBjYW52YXMucGFyZW50RWxlbWVudCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgICAgdG9wLFxuICAgICAgbGVmdFxuICAgIH0gPSBjYW52YXMucGFyZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgICB0b3AsXG4gICAgICBsZWZ0XG4gICAgfTtcbiAgfSBlbHNlIGlmICghc2l6ZSAmJiB0eXBlb2YgT2Zmc2NyZWVuQ2FudmFzICE9PSAndW5kZWZpbmVkJyAmJiBjYW52YXMgaW5zdGFuY2VvZiBPZmZzY3JlZW5DYW52YXMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IGNhbnZhcy53aWR0aCxcbiAgICAgIGhlaWdodDogY2FudmFzLmhlaWdodCxcbiAgICAgIHRvcDogMCxcbiAgICAgIGxlZnQ6IDBcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwLFxuICAgIHRvcDogMCxcbiAgICBsZWZ0OiAwLFxuICAgIC4uLnNpemVcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJvb3QoY2FudmFzKSB7XG4gIC8vIENoZWNrIGFnYWluc3QgbWlzdGFrZW4gdXNlIG9mIGNyZWF0ZVJvb3RcbiAgY29uc3QgcHJldlJvb3QgPSBfcm9vdHMuZ2V0KGNhbnZhcyk7XG4gIGNvbnN0IHByZXZGaWJlciA9IHByZXZSb290ID09IG51bGwgPyB2b2lkIDAgOiBwcmV2Um9vdC5maWJlcjtcbiAgY29uc3QgcHJldlN0b3JlID0gcHJldlJvb3QgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXZSb290LnN0b3JlO1xuICBpZiAocHJldlJvb3QpIGNvbnNvbGUud2FybignUjNGLmNyZWF0ZVJvb3Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UhJyk7XG5cbiAgLy8gUmVwb3J0IHdoZW4gYW4gZXJyb3Igd2FzIGRldGVjdGVkIGluIGEgcHJldmlvdXMgcmVuZGVyXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvcmVhY3QtdGhyZWUtZmliZXIvcHVsbC8yMjYxXG4gIGNvbnN0IGxvZ1JlY292ZXJhYmxlRXJyb3IgPSB0eXBlb2YgcmVwb3J0RXJyb3IgPT09ICdmdW5jdGlvbicgP1xuICAvLyBJbiBtb2Rlcm4gYnJvd3NlcnMsIHJlcG9ydEVycm9yIHdpbGwgZGlzcGF0Y2ggYW4gZXJyb3IgZXZlbnQsXG4gIC8vIGVtdWxhdGluZyBhbiB1bmNhdWdodCBKYXZhU2NyaXB0IGVycm9yLlxuICByZXBvcnRFcnJvciA6XG4gIC8vIEluIG9sZGVyIGJyb3dzZXJzIGFuZCB0ZXN0IGVudmlyb25tZW50cywgZmFsbGJhY2sgdG8gY29uc29sZS5lcnJvci5cbiAgY29uc29sZS5lcnJvcjtcblxuICAvLyBDcmVhdGUgc3RvcmVcbiAgY29uc3Qgc3RvcmUgPSBwcmV2U3RvcmUgfHwgY3JlYXRlU3RvcmUoaW52YWxpZGF0ZSwgYWR2YW5jZSk7XG4gIC8vIENyZWF0ZSByZW5kZXJlclxuICBjb25zdCBmaWJlciA9IHByZXZGaWJlciB8fCByZWNvbmNpbGVyLmNyZWF0ZUNvbnRhaW5lcihzdG9yZSxcbiAgLy8gY29udGFpbmVyXG4gIENvbmN1cnJlbnRSb290LFxuICAvLyB0YWdcbiAgbnVsbCxcbiAgLy8gaHlkcmF0aW9uIGNhbGxiYWNrc1xuICBmYWxzZSxcbiAgLy8gaXNTdHJpY3RNb2RlXG4gIG51bGwsXG4gIC8vIGNvbmN1cnJlbnRVcGRhdGVzQnlEZWZhdWx0T3ZlcnJpZGVcbiAgJycsXG4gIC8vIGlkZW50aWZpZXJQcmVmaXhcbiAgbG9nUmVjb3ZlcmFibGVFcnJvcixcbiAgLy8gb25VbmNhdWdodEVycm9yXG4gIGxvZ1JlY292ZXJhYmxlRXJyb3IsXG4gIC8vIG9uQ2F1Z2h0RXJyb3JcbiAgbG9nUmVjb3ZlcmFibGVFcnJvcixcbiAgLy8gb25SZWNvdmVyYWJsZUVycm9yXG4gIG51bGwgLy8gdHJhbnNpdGlvbkNhbGxiYWNrc1xuICApO1xuICAvLyBNYXAgaXRcbiAgaWYgKCFwcmV2Um9vdCkgX3Jvb3RzLnNldChjYW52YXMsIHtcbiAgICBmaWJlcixcbiAgICBzdG9yZVxuICB9KTtcblxuICAvLyBMb2NhbHNcbiAgbGV0IG9uQ3JlYXRlZDtcbiAgbGV0IGxhc3RDYW1lcmE7XG4gIGxldCBjb25maWd1cmVkID0gZmFsc2U7XG4gIGxldCBwZW5kaW5nID0gbnVsbDtcbiAgcmV0dXJuIHtcbiAgICBhc3luYyBjb25maWd1cmUocHJvcHMgPSB7fSkge1xuICAgICAgbGV0IHJlc29sdmU7XG4gICAgICBwZW5kaW5nID0gbmV3IFByb21pc2UoX3Jlc29sdmUgPT4gcmVzb2x2ZSA9IF9yZXNvbHZlKTtcbiAgICAgIGxldCB7XG4gICAgICAgIGdsOiBnbENvbmZpZyxcbiAgICAgICAgc2l6ZTogcHJvcHNTaXplLFxuICAgICAgICBzY2VuZTogc2NlbmVPcHRpb25zLFxuICAgICAgICBldmVudHMsXG4gICAgICAgIG9uQ3JlYXRlZDogb25DcmVhdGVkQ2FsbGJhY2ssXG4gICAgICAgIHNoYWRvd3MgPSBmYWxzZSxcbiAgICAgICAgbGluZWFyID0gZmFsc2UsXG4gICAgICAgIGZsYXQgPSBmYWxzZSxcbiAgICAgICAgbGVnYWN5ID0gZmFsc2UsXG4gICAgICAgIG9ydGhvZ3JhcGhpYyA9IGZhbHNlLFxuICAgICAgICBmcmFtZWxvb3AgPSAnYWx3YXlzJyxcbiAgICAgICAgZHByID0gWzEsIDJdLFxuICAgICAgICBwZXJmb3JtYW5jZSxcbiAgICAgICAgcmF5Y2FzdGVyOiByYXljYXN0T3B0aW9ucyxcbiAgICAgICAgY2FtZXJhOiBjYW1lcmFPcHRpb25zLFxuICAgICAgICBvblBvaW50ZXJNaXNzZWRcbiAgICAgIH0gPSBwcm9wcztcbiAgICAgIGxldCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG5cbiAgICAgIC8vIFNldCB1cCByZW5kZXJlciAob25lIHRpbWUgb25seSEpXG4gICAgICBsZXQgZ2wgPSBzdGF0ZS5nbDtcbiAgICAgIGlmICghc3RhdGUuZ2wpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICAgIGNhbnZhczogY2FudmFzLFxuICAgICAgICAgIHBvd2VyUHJlZmVyZW5jZTogJ2hpZ2gtcGVyZm9ybWFuY2UnLFxuICAgICAgICAgIGFudGlhbGlhczogdHJ1ZSxcbiAgICAgICAgICBhbHBoYTogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjdXN0b21SZW5kZXJlciA9IHR5cGVvZiBnbENvbmZpZyA9PT0gJ2Z1bmN0aW9uJyA/IGF3YWl0IGdsQ29uZmlnKGRlZmF1bHRQcm9wcykgOiBnbENvbmZpZztcbiAgICAgICAgaWYgKGlzUmVuZGVyZXIoY3VzdG9tUmVuZGVyZXIpKSB7XG4gICAgICAgICAgZ2wgPSBjdXN0b21SZW5kZXJlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBnbCA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHtcbiAgICAgICAgICAgIC4uLmRlZmF1bHRQcm9wcyxcbiAgICAgICAgICAgIC4uLmdsQ29uZmlnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUuc2V0KHtcbiAgICAgICAgICBnbFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IHVwIHJheWNhc3RlciAob25lIHRpbWUgb25seSEpXG4gICAgICBsZXQgcmF5Y2FzdGVyID0gc3RhdGUucmF5Y2FzdGVyO1xuICAgICAgaWYgKCFyYXljYXN0ZXIpIHN0YXRlLnNldCh7XG4gICAgICAgIHJheWNhc3RlcjogcmF5Y2FzdGVyID0gbmV3IFRIUkVFLlJheWNhc3RlcigpXG4gICAgICB9KTtcblxuICAgICAgLy8gU2V0IHJheWNhc3RlciBvcHRpb25zXG4gICAgICBjb25zdCB7XG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgLi4ub3B0aW9uc1xuICAgICAgfSA9IHJheWNhc3RPcHRpb25zIHx8IHt9O1xuICAgICAgaWYgKCFpcy5lcXUob3B0aW9ucywgcmF5Y2FzdGVyLCBzaGFsbG93TG9vc2UpKSBhcHBseVByb3BzKHJheWNhc3Rlciwge1xuICAgICAgICAuLi5vcHRpb25zXG4gICAgICB9KTtcbiAgICAgIGlmICghaXMuZXF1KHBhcmFtcywgcmF5Y2FzdGVyLnBhcmFtcywgc2hhbGxvd0xvb3NlKSkgYXBwbHlQcm9wcyhyYXljYXN0ZXIsIHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgLi4ucmF5Y2FzdGVyLnBhcmFtcyxcbiAgICAgICAgICAuLi5wYXJhbXNcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIENyZWF0ZSBkZWZhdWx0IGNhbWVyYSwgZG9uJ3Qgb3ZlcndyaXRlIGFueSB1c2VyLXNldCBzdGF0ZVxuICAgICAgaWYgKCFzdGF0ZS5jYW1lcmEgfHwgc3RhdGUuY2FtZXJhID09PSBsYXN0Q2FtZXJhICYmICFpcy5lcXUobGFzdENhbWVyYSwgY2FtZXJhT3B0aW9ucywgc2hhbGxvd0xvb3NlKSkge1xuICAgICAgICBsYXN0Q2FtZXJhID0gY2FtZXJhT3B0aW9ucztcbiAgICAgICAgY29uc3QgaXNDYW1lcmEgPSBjYW1lcmFPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBjYW1lcmFPcHRpb25zLmlzQ2FtZXJhO1xuICAgICAgICBjb25zdCBjYW1lcmEgPSBpc0NhbWVyYSA/IGNhbWVyYU9wdGlvbnMgOiBvcnRob2dyYXBoaWMgPyBuZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKDAsIDAsIDAsIDAsIDAuMSwgMTAwMCkgOiBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNzUsIDAsIDAuMSwgMTAwMCk7XG4gICAgICAgIGlmICghaXNDYW1lcmEpIHtcbiAgICAgICAgICBjYW1lcmEucG9zaXRpb24ueiA9IDU7XG4gICAgICAgICAgaWYgKGNhbWVyYU9wdGlvbnMpIHtcbiAgICAgICAgICAgIGFwcGx5UHJvcHMoY2FtZXJhLCBjYW1lcmFPcHRpb25zKTtcbiAgICAgICAgICAgIC8vIFByZXNlcnZlIHVzZXItZGVmaW5lZCBmcnVzdHVtIGlmIHBvc3NpYmxlXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vcG1uZHJzL3JlYWN0LXRocmVlLWZpYmVyL2lzc3Vlcy8zMTYwXG4gICAgICAgICAgICBpZiAoIWNhbWVyYS5tYW51YWwpIHtcbiAgICAgICAgICAgICAgaWYgKCdhc3BlY3QnIGluIGNhbWVyYU9wdGlvbnMgfHwgJ2xlZnQnIGluIGNhbWVyYU9wdGlvbnMgfHwgJ3JpZ2h0JyBpbiBjYW1lcmFPcHRpb25zIHx8ICdib3R0b20nIGluIGNhbWVyYU9wdGlvbnMgfHwgJ3RvcCcgaW4gY2FtZXJhT3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGNhbWVyYS5tYW51YWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQWx3YXlzIGxvb2sgYXQgY2VudGVyIGJ5IGRlZmF1bHRcbiAgICAgICAgICBpZiAoIXN0YXRlLmNhbWVyYSAmJiAhKGNhbWVyYU9wdGlvbnMgIT0gbnVsbCAmJiBjYW1lcmFPcHRpb25zLnJvdGF0aW9uKSkgY2FtZXJhLmxvb2tBdCgwLCAwLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5zZXQoe1xuICAgICAgICAgIGNhbWVyYVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBDb25maWd1cmUgcmF5Y2FzdGVyXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wbW5kcnMvcmVhY3QteHIvaXNzdWVzLzMwMFxuICAgICAgICByYXljYXN0ZXIuY2FtZXJhID0gY2FtZXJhO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgdXAgc2NlbmUgKG9uZSB0aW1lIG9ubHkhKVxuICAgICAgaWYgKCFzdGF0ZS5zY2VuZSkge1xuICAgICAgICBsZXQgc2NlbmU7XG4gICAgICAgIGlmIChzY2VuZU9wdGlvbnMgIT0gbnVsbCAmJiBzY2VuZU9wdGlvbnMuaXNTY2VuZSkge1xuICAgICAgICAgIHNjZW5lID0gc2NlbmVPcHRpb25zO1xuICAgICAgICAgIHByZXBhcmUoc2NlbmUsIHN0b3JlLCAnJywge30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgICAgICAgcHJlcGFyZShzY2VuZSwgc3RvcmUsICcnLCB7fSk7XG4gICAgICAgICAgaWYgKHNjZW5lT3B0aW9ucykgYXBwbHlQcm9wcyhzY2VuZSwgc2NlbmVPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZS5zZXQoe1xuICAgICAgICAgIHNjZW5lXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBTdG9yZSBldmVudHMgaW50ZXJuYWxseVxuICAgICAgaWYgKGV2ZW50cyAmJiAhc3RhdGUuZXZlbnRzLmhhbmRsZXJzKSBzdGF0ZS5zZXQoe1xuICAgICAgICBldmVudHM6IGV2ZW50cyhzdG9yZSlcbiAgICAgIH0pO1xuICAgICAgLy8gQ2hlY2sgc2l6ZSwgYWxsb3cgaXQgdG8gdGFrZSBvbiBjb250YWluZXIgYm91bmRzIGluaXRpYWxseVxuICAgICAgY29uc3Qgc2l6ZSA9IGNvbXB1dGVJbml0aWFsU2l6ZShjYW52YXMsIHByb3BzU2l6ZSk7XG4gICAgICBpZiAoIWlzLmVxdShzaXplLCBzdGF0ZS5zaXplLCBzaGFsbG93TG9vc2UpKSB7XG4gICAgICAgIHN0YXRlLnNldFNpemUoc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQsIHNpemUudG9wLCBzaXplLmxlZnQpO1xuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgcGl4ZWxyYXRpb1xuICAgICAgaWYgKGRwciAmJiBzdGF0ZS52aWV3cG9ydC5kcHIgIT09IGNhbGN1bGF0ZURwcihkcHIpKSBzdGF0ZS5zZXREcHIoZHByKTtcbiAgICAgIC8vIENoZWNrIGZyYW1lbG9vcFxuICAgICAgaWYgKHN0YXRlLmZyYW1lbG9vcCAhPT0gZnJhbWVsb29wKSBzdGF0ZS5zZXRGcmFtZWxvb3AoZnJhbWVsb29wKTtcbiAgICAgIC8vIENoZWNrIHBvaW50ZXIgbWlzc2VkXG4gICAgICBpZiAoIXN0YXRlLm9uUG9pbnRlck1pc3NlZCkgc3RhdGUuc2V0KHtcbiAgICAgICAgb25Qb2ludGVyTWlzc2VkXG4gICAgICB9KTtcbiAgICAgIC8vIENoZWNrIHBlcmZvcm1hbmNlXG4gICAgICBpZiAocGVyZm9ybWFuY2UgJiYgIWlzLmVxdShwZXJmb3JtYW5jZSwgc3RhdGUucGVyZm9ybWFuY2UsIHNoYWxsb3dMb29zZSkpIHN0YXRlLnNldChzdGF0ZSA9PiAoe1xuICAgICAgICBwZXJmb3JtYW5jZToge1xuICAgICAgICAgIC4uLnN0YXRlLnBlcmZvcm1hbmNlLFxuICAgICAgICAgIC4uLnBlcmZvcm1hbmNlXG4gICAgICAgIH1cbiAgICAgIH0pKTtcblxuICAgICAgLy8gU2V0IHVwIFhSIChvbmUgdGltZSBvbmx5ISlcbiAgICAgIGlmICghc3RhdGUueHIpIHtcbiAgICAgICAgdmFyIF9nbCR4cjtcbiAgICAgICAgLy8gSGFuZGxlIGZyYW1lIGJlaGF2aW9yIGluIFdlYlhSXG4gICAgICAgIGNvbnN0IGhhbmRsZVhSRnJhbWUgPSAodGltZXN0YW1wLCBmcmFtZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICBpZiAoc3RhdGUuZnJhbWVsb29wID09PSAnbmV2ZXInKSByZXR1cm47XG4gICAgICAgICAgYWR2YW5jZSh0aW1lc3RhbXAsIHRydWUsIHN0YXRlLCBmcmFtZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gVG9nZ2xlIHJlbmRlciBzd2l0Y2hpbmcgb24gc2Vzc2lvblxuICAgICAgICBjb25zdCBoYW5kbGVTZXNzaW9uQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICBzdGF0ZS5nbC54ci5lbmFibGVkID0gc3RhdGUuZ2wueHIuaXNQcmVzZW50aW5nO1xuICAgICAgICAgIHN0YXRlLmdsLnhyLnNldEFuaW1hdGlvbkxvb3Aoc3RhdGUuZ2wueHIuaXNQcmVzZW50aW5nID8gaGFuZGxlWFJGcmFtZSA6IG51bGwpO1xuICAgICAgICAgIGlmICghc3RhdGUuZ2wueHIuaXNQcmVzZW50aW5nKSBpbnZhbGlkYXRlKHN0YXRlKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBXZWJYUiBzZXNzaW9uIG1hbmFnZXJcbiAgICAgICAgY29uc3QgeHIgPSB7XG4gICAgICAgICAgY29ubmVjdCgpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gc3RvcmUuZ2V0U3RhdGUoKS5nbDtcbiAgICAgICAgICAgIGdsLnhyLmFkZEV2ZW50TGlzdGVuZXIoJ3Nlc3Npb25zdGFydCcsIGhhbmRsZVNlc3Npb25DaGFuZ2UpO1xuICAgICAgICAgICAgZ2wueHIuYWRkRXZlbnRMaXN0ZW5lcignc2Vzc2lvbmVuZCcsIGhhbmRsZVNlc3Npb25DaGFuZ2UpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gc3RvcmUuZ2V0U3RhdGUoKS5nbDtcbiAgICAgICAgICAgIGdsLnhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Nlc3Npb25zdGFydCcsIGhhbmRsZVNlc3Npb25DaGFuZ2UpO1xuICAgICAgICAgICAgZ2wueHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Vzc2lvbmVuZCcsIGhhbmRsZVNlc3Npb25DaGFuZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBTdWJzY3JpYmUgdG8gV2ViWFIgc2Vzc2lvbiBldmVudHNcbiAgICAgICAgaWYgKHR5cGVvZiAoKF9nbCR4ciA9IGdsLnhyKSA9PSBudWxsID8gdm9pZCAwIDogX2dsJHhyLmFkZEV2ZW50TGlzdGVuZXIpID09PSAnZnVuY3Rpb24nKSB4ci5jb25uZWN0KCk7XG4gICAgICAgIHN0YXRlLnNldCh7XG4gICAgICAgICAgeHJcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldCBzaGFkb3dtYXBcbiAgICAgIGlmIChnbC5zaGFkb3dNYXApIHtcbiAgICAgICAgY29uc3Qgb2xkRW5hYmxlZCA9IGdsLnNoYWRvd01hcC5lbmFibGVkO1xuICAgICAgICBjb25zdCBvbGRUeXBlID0gZ2wuc2hhZG93TWFwLnR5cGU7XG4gICAgICAgIGdsLnNoYWRvd01hcC5lbmFibGVkID0gISFzaGFkb3dzO1xuICAgICAgICBpZiAoaXMuYm9vKHNoYWRvd3MpKSB7XG4gICAgICAgICAgZ2wuc2hhZG93TWFwLnR5cGUgPSBUSFJFRS5QQ0ZTb2Z0U2hhZG93TWFwO1xuICAgICAgICB9IGVsc2UgaWYgKGlzLnN0cihzaGFkb3dzKSkge1xuICAgICAgICAgIHZhciBfdHlwZXMkc2hhZG93cztcbiAgICAgICAgICBjb25zdCB0eXBlcyA9IHtcbiAgICAgICAgICAgIGJhc2ljOiBUSFJFRS5CYXNpY1NoYWRvd01hcCxcbiAgICAgICAgICAgIHBlcmNlbnRhZ2U6IFRIUkVFLlBDRlNoYWRvd01hcCxcbiAgICAgICAgICAgIHNvZnQ6IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXAsXG4gICAgICAgICAgICB2YXJpYW5jZTogVEhSRUUuVlNNU2hhZG93TWFwXG4gICAgICAgICAgfTtcbiAgICAgICAgICBnbC5zaGFkb3dNYXAudHlwZSA9IChfdHlwZXMkc2hhZG93cyA9IHR5cGVzW3NoYWRvd3NdKSAhPSBudWxsID8gX3R5cGVzJHNoYWRvd3MgOiBUSFJFRS5QQ0ZTb2Z0U2hhZG93TWFwO1xuICAgICAgICB9IGVsc2UgaWYgKGlzLm9iaihzaGFkb3dzKSkge1xuICAgICAgICAgIE9iamVjdC5hc3NpZ24oZ2wuc2hhZG93TWFwLCBzaGFkb3dzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2xkRW5hYmxlZCAhPT0gZ2wuc2hhZG93TWFwLmVuYWJsZWQgfHwgb2xkVHlwZSAhPT0gZ2wuc2hhZG93TWFwLnR5cGUpIGdsLnNoYWRvd01hcC5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBUSFJFRS5Db2xvck1hbmFnZW1lbnQuZW5hYmxlZCA9ICFsZWdhY3k7XG5cbiAgICAgIC8vIFNldCBjb2xvciBzcGFjZSBhbmQgdG9uZW1hcHBpbmcgcHJlZmVyZW5jZXNcbiAgICAgIGlmICghY29uZmlndXJlZCkge1xuICAgICAgICBnbC5vdXRwdXRDb2xvclNwYWNlID0gbGluZWFyID8gVEhSRUUuTGluZWFyU1JHQkNvbG9yU3BhY2UgOiBUSFJFRS5TUkdCQ29sb3JTcGFjZTtcbiAgICAgICAgZ2wudG9uZU1hcHBpbmcgPSBmbGF0ID8gVEhSRUUuTm9Ub25lTWFwcGluZyA6IFRIUkVFLkFDRVNGaWxtaWNUb25lTWFwcGluZztcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIGNvbG9yIG1hbmFnZW1lbnQgc3RhdGVcbiAgICAgIGlmIChzdGF0ZS5sZWdhY3kgIT09IGxlZ2FjeSkgc3RhdGUuc2V0KCgpID0+ICh7XG4gICAgICAgIGxlZ2FjeVxuICAgICAgfSkpO1xuICAgICAgaWYgKHN0YXRlLmxpbmVhciAhPT0gbGluZWFyKSBzdGF0ZS5zZXQoKCkgPT4gKHtcbiAgICAgICAgbGluZWFyXG4gICAgICB9KSk7XG4gICAgICBpZiAoc3RhdGUuZmxhdCAhPT0gZmxhdCkgc3RhdGUuc2V0KCgpID0+ICh7XG4gICAgICAgIGZsYXRcbiAgICAgIH0pKTtcblxuICAgICAgLy8gU2V0IGdsIHByb3BzXG4gICAgICBpZiAoZ2xDb25maWcgJiYgIWlzLmZ1bihnbENvbmZpZykgJiYgIWlzUmVuZGVyZXIoZ2xDb25maWcpICYmICFpcy5lcXUoZ2xDb25maWcsIGdsLCBzaGFsbG93TG9vc2UpKSBhcHBseVByb3BzKGdsLCBnbENvbmZpZyk7XG5cbiAgICAgIC8vIFNldCBsb2NhbHNcbiAgICAgIG9uQ3JlYXRlZCA9IG9uQ3JlYXRlZENhbGxiYWNrO1xuICAgICAgY29uZmlndXJlZCA9IHRydWU7XG4gICAgICByZXNvbHZlKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHJlbmRlcihjaGlsZHJlbikge1xuICAgICAgLy8gVGhlIHJvb3QgaGFzIHRvIGJlIGNvbmZpZ3VyZWQgYmVmb3JlIGl0IGNhbiBiZSByZW5kZXJlZFxuICAgICAgaWYgKCFjb25maWd1cmVkICYmICFwZW5kaW5nKSB0aGlzLmNvbmZpZ3VyZSgpO1xuICAgICAgcGVuZGluZy50aGVuKCgpID0+IHtcbiAgICAgICAgcmVjb25jaWxlci51cGRhdGVDb250YWluZXIoIC8qI19fUFVSRV9fKi9qc3goUHJvdmlkZXIsIHtcbiAgICAgICAgICBzdG9yZTogc3RvcmUsXG4gICAgICAgICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgICAgICAgIG9uQ3JlYXRlZDogb25DcmVhdGVkLFxuICAgICAgICAgIHJvb3RFbGVtZW50OiBjYW52YXNcbiAgICAgICAgfSksIGZpYmVyLCBudWxsLCAoKSA9PiB1bmRlZmluZWQpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gc3RvcmU7XG4gICAgfSxcbiAgICB1bm1vdW50KCkge1xuICAgICAgdW5tb3VudENvbXBvbmVudEF0Tm9kZShjYW52YXMpO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIFByb3ZpZGVyKHtcbiAgc3RvcmUsXG4gIGNoaWxkcmVuLFxuICBvbkNyZWF0ZWQsXG4gIHJvb3RFbGVtZW50XG59KSB7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAvLyBGbGFnIHRoZSBjYW52YXMgYWN0aXZlLCByZW5kZXJpbmcgd2lsbCBub3cgYmVnaW5cbiAgICBzdGF0ZS5zZXQoc3RhdGUgPT4gKHtcbiAgICAgIGludGVybmFsOiB7XG4gICAgICAgIC4uLnN0YXRlLmludGVybmFsLFxuICAgICAgICBhY3RpdmU6IHRydWVcbiAgICAgIH1cbiAgICB9KSk7XG4gICAgLy8gTm90aWZ5IHRoYXQgaW5pdCBpcyBjb21wbGV0ZWQsIHRoZSBzY2VuZSBncmFwaCBleGlzdHMsIGJ1dCBub3RoaW5nIGhhcyB5ZXQgcmVuZGVyZWRcbiAgICBpZiAob25DcmVhdGVkKSBvbkNyZWF0ZWQoc3RhdGUpO1xuICAgIC8vIENvbm5lY3QgZXZlbnRzIHRvIHRoZSB0YXJnZXRzIHBhcmVudCwgdGhpcyBpcyBkb25lIHRvIGVuc3VyZSBldmVudHMgYXJlIHJlZ2lzdGVyZWQgb25cbiAgICAvLyBhIHNoYXJlZCB0YXJnZXQsIGFuZCBub3Qgb24gdGhlIGNhbnZhcyBpdHNlbGZcbiAgICBpZiAoIXN0b3JlLmdldFN0YXRlKCkuZXZlbnRzLmNvbm5lY3RlZCkgc3RhdGUuZXZlbnRzLmNvbm5lY3QgPT0gbnVsbCA/IHZvaWQgMCA6IHN0YXRlLmV2ZW50cy5jb25uZWN0KHJvb3RFbGVtZW50KTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9qc3goY29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBzdG9yZSxcbiAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgfSk7XG59XG5mdW5jdGlvbiB1bm1vdW50Q29tcG9uZW50QXROb2RlKGNhbnZhcywgY2FsbGJhY2spIHtcbiAgY29uc3Qgcm9vdCA9IF9yb290cy5nZXQoY2FudmFzKTtcbiAgY29uc3QgZmliZXIgPSByb290ID09IG51bGwgPyB2b2lkIDAgOiByb290LmZpYmVyO1xuICBpZiAoZmliZXIpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHJvb3QgPT0gbnVsbCA/IHZvaWQgMCA6IHJvb3Quc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICBpZiAoc3RhdGUpIHN0YXRlLmludGVybmFsLmFjdGl2ZSA9IGZhbHNlO1xuICAgIHJlY29uY2lsZXIudXBkYXRlQ29udGFpbmVyKG51bGwsIGZpYmVyLCBudWxsLCAoKSA9PiB7XG4gICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBfc3RhdGUkZ2wsIF9zdGF0ZSRnbCRyZW5kZXJMaXN0cywgX3N0YXRlJGdsMiwgX3N0YXRlJGdsMztcbiAgICAgICAgICAgIHN0YXRlLmV2ZW50cy5kaXNjb25uZWN0ID09IG51bGwgPyB2b2lkIDAgOiBzdGF0ZS5ldmVudHMuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgKF9zdGF0ZSRnbCA9IHN0YXRlLmdsKSA9PSBudWxsID8gdm9pZCAwIDogKF9zdGF0ZSRnbCRyZW5kZXJMaXN0cyA9IF9zdGF0ZSRnbC5yZW5kZXJMaXN0cykgPT0gbnVsbCA/IHZvaWQgMCA6IF9zdGF0ZSRnbCRyZW5kZXJMaXN0cy5kaXNwb3NlID09IG51bGwgPyB2b2lkIDAgOiBfc3RhdGUkZ2wkcmVuZGVyTGlzdHMuZGlzcG9zZSgpO1xuICAgICAgICAgICAgKF9zdGF0ZSRnbDIgPSBzdGF0ZS5nbCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9zdGF0ZSRnbDIuZm9yY2VDb250ZXh0TG9zcyA9PSBudWxsID8gdm9pZCAwIDogX3N0YXRlJGdsMi5mb3JjZUNvbnRleHRMb3NzKCk7XG4gICAgICAgICAgICBpZiAoKF9zdGF0ZSRnbDMgPSBzdGF0ZS5nbCkgIT0gbnVsbCAmJiBfc3RhdGUkZ2wzLnhyKSBzdGF0ZS54ci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICBkaXNwb3NlKHN0YXRlLnNjZW5lKTtcbiAgICAgICAgICAgIF9yb290cy5kZWxldGUoY2FudmFzKTtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soY2FudmFzKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvKiAuLi4gKi9cbiAgICAgICAgICB9XG4gICAgICAgIH0sIDUwMCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVBvcnRhbChjaGlsZHJlbiwgY29udGFpbmVyLCBzdGF0ZSkge1xuICByZXR1cm4gLyojX19QVVJFX18qL2pzeChQb3J0YWwsIHtcbiAgICBjaGlsZHJlbjogY2hpbGRyZW4sXG4gICAgY29udGFpbmVyOiBjb250YWluZXIsXG4gICAgc3RhdGU6IHN0YXRlXG4gIH0pO1xufVxuZnVuY3Rpb24gUG9ydGFsKHtcbiAgc3RhdGUgPSB7fSxcbiAgY2hpbGRyZW4sXG4gIGNvbnRhaW5lclxufSkge1xuICAvKiogVGhpcyBoYXMgdG8gYmUgYSBjb21wb25lbnQgYmVjYXVzZSBpdCB3b3VsZCBub3QgYmUgYWJsZSB0byBjYWxsIHVzZVRocmVlL3VzZVN0b3JlIG90aGVyd2lzZSBzaW5jZVxyXG4gICAqICBpZiB0aGlzIGlzIG91ciBlbnZpcm9ubWVudCwgdGhlbiB3ZSBhcmUgbm90IGluIHIzZidzIHJlbmRlcmVyIGJ1dCBpbiByZWFjdC1kb20sIGl0IHdvdWxkIHRyaWdnZXJcclxuICAgKiAgdGhlIFwiUjNGIGhvb2tzIGNhbiBvbmx5IGJlIHVzZWQgd2l0aGluIHRoZSBDYW52YXMgY29tcG9uZW50IVwiIHdhcm5pbmc6XHJcbiAgICogIDxDYW52YXM+XHJcbiAgICogICAge2NyZWF0ZVBvcnRhbCguLi4pfSAqL1xuICBjb25zdCB7XG4gICAgZXZlbnRzLFxuICAgIHNpemUsXG4gICAgLi4ucmVzdFxuICB9ID0gc3RhdGU7XG4gIGNvbnN0IHByZXZpb3VzUm9vdCA9IHVzZVN0b3JlKCk7XG4gIGNvbnN0IFtyYXljYXN0ZXJdID0gUmVhY3QudXNlU3RhdGUoKCkgPT4gbmV3IFRIUkVFLlJheWNhc3RlcigpKTtcbiAgY29uc3QgW3BvaW50ZXJdID0gUmVhY3QudXNlU3RhdGUoKCkgPT4gbmV3IFRIUkVFLlZlY3RvcjIoKSk7XG4gIGNvbnN0IGluamVjdCA9IHVzZU11dGFibGVDYWxsYmFjaygocm9vdFN0YXRlLCBpbmplY3RTdGF0ZSkgPT4ge1xuICAgIGxldCB2aWV3cG9ydCA9IHVuZGVmaW5lZDtcbiAgICBpZiAoaW5qZWN0U3RhdGUuY2FtZXJhICYmIHNpemUpIHtcbiAgICAgIGNvbnN0IGNhbWVyYSA9IGluamVjdFN0YXRlLmNhbWVyYTtcbiAgICAgIC8vIENhbGN1bGF0ZSB0aGUgb3ZlcnJpZGUgdmlld3BvcnQsIGlmIHByZXNlbnRcbiAgICAgIHZpZXdwb3J0ID0gcm9vdFN0YXRlLnZpZXdwb3J0LmdldEN1cnJlbnRWaWV3cG9ydChjYW1lcmEsIG5ldyBUSFJFRS5WZWN0b3IzKCksIHNpemUpO1xuICAgICAgLy8gVXBkYXRlIHRoZSBwb3J0YWwgY2FtZXJhLCBpZiBpdCBkaWZmZXJzIGZyb20gdGhlIHByZXZpb3VzIGxheWVyXG4gICAgICBpZiAoY2FtZXJhICE9PSByb290U3RhdGUuY2FtZXJhKSB1cGRhdGVDYW1lcmEoY2FtZXJhLCBzaXplKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFRoZSBpbnRlcnNlY3QgY29uc2lzdHMgb2YgdGhlIHByZXZpb3VzIHJvb3Qgc3RhdGVcbiAgICAgIC4uLnJvb3RTdGF0ZSxcbiAgICAgIC4uLmluamVjdFN0YXRlLFxuICAgICAgLy8gUG9ydGFscyBoYXZlIHRoZWlyIG93biBzY2VuZSwgd2hpY2ggZm9ybXMgdGhlIHJvb3QsIGEgcmF5Y2FzdGVyIGFuZCBhIHBvaW50ZXJcbiAgICAgIHNjZW5lOiBjb250YWluZXIsXG4gICAgICByYXljYXN0ZXIsXG4gICAgICBwb2ludGVyLFxuICAgICAgbW91c2U6IHBvaW50ZXIsXG4gICAgICAvLyBUaGVpciBwcmV2aW91cyByb290IGlzIHRoZSBsYXllciBiZWZvcmUgaXRcbiAgICAgIHByZXZpb3VzUm9vdCxcbiAgICAgIC8vIEV2ZW50cywgc2l6ZSBhbmQgdmlld3BvcnQgY2FuIGJlIG92ZXJyaWRkZW4gYnkgdGhlIGluamVjdCBsYXllclxuICAgICAgZXZlbnRzOiB7XG4gICAgICAgIC4uLnJvb3RTdGF0ZS5ldmVudHMsXG4gICAgICAgIC4uLmluamVjdFN0YXRlLmV2ZW50cyxcbiAgICAgICAgLi4uZXZlbnRzXG4gICAgICB9LFxuICAgICAgc2l6ZToge1xuICAgICAgICAuLi5yb290U3RhdGUuc2l6ZSxcbiAgICAgICAgLi4uc2l6ZVxuICAgICAgfSxcbiAgICAgIHZpZXdwb3J0OiB7XG4gICAgICAgIC4uLnJvb3RTdGF0ZS52aWV3cG9ydCxcbiAgICAgICAgLi4udmlld3BvcnRcbiAgICAgIH0sXG4gICAgICAvLyBMYXllcnMgYXJlIGFsbG93ZWQgdG8gb3ZlcnJpZGUgZXZlbnRzXG4gICAgICBzZXRFdmVudHM6IGV2ZW50cyA9PiBpbmplY3RTdGF0ZS5zZXQoc3RhdGUgPT4gKHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIGV2ZW50czoge1xuICAgICAgICAgIC4uLnN0YXRlLmV2ZW50cyxcbiAgICAgICAgICAuLi5ldmVudHNcbiAgICAgICAgfVxuICAgICAgfSkpXG4gICAgfTtcbiAgfSk7XG4gIGNvbnN0IHVzZVBvcnRhbFN0b3JlID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgLy8gQ3JlYXRlIGEgbWlycm9yZWQgc3RvcmUsIGJhc2VkIG9uIHRoZSBwcmV2aW91cyByb290IHdpdGggYSBmZXcgb3ZlcnJpZGVzIC4uLlxuICAgIGNvbnN0IHN0b3JlID0gY3JlYXRlV2l0aEVxdWFsaXR5Rm4oKHNldCwgZ2V0KSA9PiAoe1xuICAgICAgLi4ucmVzdCxcbiAgICAgIHNldCxcbiAgICAgIGdldFxuICAgIH0pKTtcblxuICAgIC8vIFN1YnNjcmliZSB0byBwcmV2aW91cyByb290LXN0YXRlIGFuZCBjb3B5IGNoYW5nZXMgb3ZlciB0byB0aGUgbWlycm9yZWQgcG9ydGFsLXN0YXRlXG4gICAgY29uc3Qgb25NdXRhdGUgPSBwcmV2ID0+IHN0b3JlLnNldFN0YXRlKHN0YXRlID0+IGluamVjdC5jdXJyZW50KHByZXYsIHN0YXRlKSk7XG4gICAgb25NdXRhdGUocHJldmlvdXNSb290LmdldFN0YXRlKCkpO1xuICAgIHByZXZpb3VzUm9vdC5zdWJzY3JpYmUob25NdXRhdGUpO1xuICAgIHJldHVybiBzdG9yZTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtwcmV2aW91c1Jvb3QsIGNvbnRhaW5lcl0pO1xuICByZXR1cm4gKFxuICAgIC8qI19fUFVSRV9fKi9cbiAgICAvLyBAdHMtaWdub3JlLCByZWNvbmNpbGVyIHR5cGVzIGFyZSBub3QgbWFpbnRhaW5lZFxuICAgIGpzeChGcmFnbWVudCwge1xuICAgICAgY2hpbGRyZW46IHJlY29uY2lsZXIuY3JlYXRlUG9ydGFsKCAvKiNfX1BVUkVfXyovanN4KGNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgICAgdmFsdWU6IHVzZVBvcnRhbFN0b3JlLFxuICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgICAgIH0pLCB1c2VQb3J0YWxTdG9yZSwgbnVsbClcbiAgICB9KVxuICApO1xufVxuXG4vKipcclxuICogRm9yY2UgUmVhY3QgdG8gZmx1c2ggYW55IHVwZGF0ZXMgaW5zaWRlIHRoZSBwcm92aWRlZCBjYWxsYmFjayBzeW5jaHJvbm91c2x5IGFuZCBpbW1lZGlhdGVseS5cclxuICogQWxsIHRoZSBzYW1lIGNhdmVhdHMgZG9jdW1lbnRlZCBmb3IgcmVhY3QtZG9tJ3MgYGZsdXNoU3luY2AgYXBwbHkgaGVyZSAoc2VlIGh0dHBzOi8vcmVhY3QuZGV2L3JlZmVyZW5jZS9yZWFjdC1kb20vZmx1c2hTeW5jKS5cclxuICogTmV2ZXJ0aGVsZXNzLCBzb21ldGltZXMgb25lIG5lZWRzIHRvIHJlbmRlciBzeW5jaHJvbm91c2x5LCBmb3IgZXhhbXBsZSB0byBrZWVwIERPTSBhbmQgM0QgY2hhbmdlcyBpbiBsb2NrLXN0ZXAgd2l0aG91dFxyXG4gKiBoYXZpbmcgdG8gcmV2ZXJ0IHRvIGEgbm9uLVJlYWN0IHNvbHV0aW9uLiBOb3RlOiB0aGlzIHdpbGwgb25seSBmbHVzaCB1cGRhdGVzIHdpdGhpbiB0aGUgYENhbnZhc2Agcm9vdC5cclxuICovXG5mdW5jdGlvbiBmbHVzaFN5bmMoZm4pIHtcbiAgLy8gQHRzLWlnbm9yZSAtIHJlY29uY2lsZXIgdHlwZXMgYXJlIG5vdCBtYWludGFpbmVkXG4gIHJldHVybiByZWNvbmNpbGVyLmZsdXNoU3luY0Zyb21SZWNvbmNpbGVyKGZuKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlU3VicyhjYWxsYmFjaywgc3Vicykge1xuICBjb25zdCBzdWIgPSB7XG4gICAgY2FsbGJhY2tcbiAgfTtcbiAgc3Vicy5hZGQoc3ViKTtcbiAgcmV0dXJuICgpID0+IHZvaWQgc3Vicy5kZWxldGUoc3ViKTtcbn1cbmNvbnN0IGdsb2JhbEVmZmVjdHMgPSBuZXcgU2V0KCk7XG5jb25zdCBnbG9iYWxBZnRlckVmZmVjdHMgPSBuZXcgU2V0KCk7XG5jb25zdCBnbG9iYWxUYWlsRWZmZWN0cyA9IG5ldyBTZXQoKTtcblxuLyoqXHJcbiAqIEFkZHMgYSBnbG9iYWwgcmVuZGVyIGNhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCBlYWNoIGZyYW1lLlxyXG4gKiBAc2VlIGh0dHBzOi8vZG9jcy5wbW5kLnJzL3JlYWN0LXRocmVlLWZpYmVyL2FwaS9hZGRpdGlvbmFsLWV4cG9ydHMjYWRkRWZmZWN0XHJcbiAqL1xuY29uc3QgYWRkRWZmZWN0ID0gY2FsbGJhY2sgPT4gY3JlYXRlU3VicyhjYWxsYmFjaywgZ2xvYmFsRWZmZWN0cyk7XG5cbi8qKlxyXG4gKiBBZGRzIGEgZ2xvYmFsIGFmdGVyLXJlbmRlciBjYWxsYmFjayB3aGljaCBpcyBjYWxsZWQgZWFjaCBmcmFtZS5cclxuICogQHNlZSBodHRwczovL2RvY3MucG1uZC5ycy9yZWFjdC10aHJlZS1maWJlci9hcGkvYWRkaXRpb25hbC1leHBvcnRzI2FkZEFmdGVyRWZmZWN0XHJcbiAqL1xuY29uc3QgYWRkQWZ0ZXJFZmZlY3QgPSBjYWxsYmFjayA9PiBjcmVhdGVTdWJzKGNhbGxiYWNrLCBnbG9iYWxBZnRlckVmZmVjdHMpO1xuXG4vKipcclxuICogQWRkcyBhIGdsb2JhbCBjYWxsYmFjayB3aGljaCBpcyBjYWxsZWQgd2hlbiByZW5kZXJpbmcgc3RvcHMuXHJcbiAqIEBzZWUgaHR0cHM6Ly9kb2NzLnBtbmQucnMvcmVhY3QtdGhyZWUtZmliZXIvYXBpL2FkZGl0aW9uYWwtZXhwb3J0cyNhZGRUYWlsXHJcbiAqL1xuY29uc3QgYWRkVGFpbCA9IGNhbGxiYWNrID0+IGNyZWF0ZVN1YnMoY2FsbGJhY2ssIGdsb2JhbFRhaWxFZmZlY3RzKTtcbmZ1bmN0aW9uIHJ1bihlZmZlY3RzLCB0aW1lc3RhbXApIHtcbiAgaWYgKCFlZmZlY3RzLnNpemUpIHJldHVybjtcbiAgZm9yIChjb25zdCB7XG4gICAgY2FsbGJhY2tcbiAgfSBvZiBlZmZlY3RzLnZhbHVlcygpKSB7XG4gICAgY2FsbGJhY2sodGltZXN0YW1wKTtcbiAgfVxufVxuZnVuY3Rpb24gZmx1c2hHbG9iYWxFZmZlY3RzKHR5cGUsIHRpbWVzdGFtcCkge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdiZWZvcmUnOlxuICAgICAgcmV0dXJuIHJ1bihnbG9iYWxFZmZlY3RzLCB0aW1lc3RhbXApO1xuICAgIGNhc2UgJ2FmdGVyJzpcbiAgICAgIHJldHVybiBydW4oZ2xvYmFsQWZ0ZXJFZmZlY3RzLCB0aW1lc3RhbXApO1xuICAgIGNhc2UgJ3RhaWwnOlxuICAgICAgcmV0dXJuIHJ1bihnbG9iYWxUYWlsRWZmZWN0cywgdGltZXN0YW1wKTtcbiAgfVxufVxubGV0IHN1YnNjcmliZXJzO1xubGV0IHN1YnNjcmlwdGlvbjtcbmZ1bmN0aW9uIHVwZGF0ZSh0aW1lc3RhbXAsIHN0YXRlLCBmcmFtZSkge1xuICAvLyBSdW4gbG9jYWwgZWZmZWN0c1xuICBsZXQgZGVsdGEgPSBzdGF0ZS5jbG9jay5nZXREZWx0YSgpO1xuXG4gIC8vIEluIGZyYW1lbG9vcD0nbmV2ZXInIG1vZGUsIGNsb2NrIHRpbWVzIGFyZSB1cGRhdGVkIHVzaW5nIHRoZSBwcm92aWRlZCB0aW1lc3RhbXBcbiAgaWYgKHN0YXRlLmZyYW1lbG9vcCA9PT0gJ25ldmVyJyAmJiB0eXBlb2YgdGltZXN0YW1wID09PSAnbnVtYmVyJykge1xuICAgIGRlbHRhID0gdGltZXN0YW1wIC0gc3RhdGUuY2xvY2suZWxhcHNlZFRpbWU7XG4gICAgc3RhdGUuY2xvY2sub2xkVGltZSA9IHN0YXRlLmNsb2NrLmVsYXBzZWRUaW1lO1xuICAgIHN0YXRlLmNsb2NrLmVsYXBzZWRUaW1lID0gdGltZXN0YW1wO1xuICB9XG5cbiAgLy8gQ2FsbCBzdWJzY3JpYmVycyAodXNlRnJhbWUpXG4gIHN1YnNjcmliZXJzID0gc3RhdGUuaW50ZXJuYWwuc3Vic2NyaWJlcnM7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3Vic2NyaWJlcnMubGVuZ3RoOyBpKyspIHtcbiAgICBzdWJzY3JpcHRpb24gPSBzdWJzY3JpYmVyc1tpXTtcbiAgICBzdWJzY3JpcHRpb24ucmVmLmN1cnJlbnQoc3Vic2NyaXB0aW9uLnN0b3JlLmdldFN0YXRlKCksIGRlbHRhLCBmcmFtZSk7XG4gIH1cblxuICAvLyBSZW5kZXIgY29udGVudFxuICBpZiAoIXN0YXRlLmludGVybmFsLnByaW9yaXR5ICYmIHN0YXRlLmdsLnJlbmRlcikgc3RhdGUuZ2wucmVuZGVyKHN0YXRlLnNjZW5lLCBzdGF0ZS5jYW1lcmEpO1xuXG4gIC8vIERlY3JlYXNlIGZyYW1lIGNvdW50XG4gIHN0YXRlLmludGVybmFsLmZyYW1lcyA9IE1hdGgubWF4KDAsIHN0YXRlLmludGVybmFsLmZyYW1lcyAtIDEpO1xuICByZXR1cm4gc3RhdGUuZnJhbWVsb29wID09PSAnYWx3YXlzJyA/IDEgOiBzdGF0ZS5pbnRlcm5hbC5mcmFtZXM7XG59XG5sZXQgcnVubmluZyA9IGZhbHNlO1xubGV0IHVzZUZyYW1lSW5Qcm9ncmVzcyA9IGZhbHNlO1xubGV0IHJlcGVhdDtcbmxldCBmcmFtZTtcbmxldCBzdGF0ZTtcbmZ1bmN0aW9uIGxvb3AodGltZXN0YW1wKSB7XG4gIGZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICBydW5uaW5nID0gdHJ1ZTtcbiAgcmVwZWF0ID0gMDtcblxuICAvLyBSdW4gZWZmZWN0c1xuICBmbHVzaEdsb2JhbEVmZmVjdHMoJ2JlZm9yZScsIHRpbWVzdGFtcCk7XG5cbiAgLy8gUmVuZGVyIGFsbCByb290c1xuICB1c2VGcmFtZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICBmb3IgKGNvbnN0IHJvb3Qgb2YgX3Jvb3RzLnZhbHVlcygpKSB7XG4gICAgdmFyIF9zdGF0ZSRnbCR4cjtcbiAgICBzdGF0ZSA9IHJvb3Quc3RvcmUuZ2V0U3RhdGUoKTtcblxuICAgIC8vIElmIHRoZSBmcmFtZWxvb3AgaXMgaW52YWxpZGF0ZWQsIGRvIG5vdCBydW4gYW5vdGhlciBmcmFtZVxuICAgIGlmIChzdGF0ZS5pbnRlcm5hbC5hY3RpdmUgJiYgKHN0YXRlLmZyYW1lbG9vcCA9PT0gJ2Fsd2F5cycgfHwgc3RhdGUuaW50ZXJuYWwuZnJhbWVzID4gMCkgJiYgISgoX3N0YXRlJGdsJHhyID0gc3RhdGUuZ2wueHIpICE9IG51bGwgJiYgX3N0YXRlJGdsJHhyLmlzUHJlc2VudGluZykpIHtcbiAgICAgIHJlcGVhdCArPSB1cGRhdGUodGltZXN0YW1wLCBzdGF0ZSk7XG4gICAgfVxuICB9XG4gIHVzZUZyYW1lSW5Qcm9ncmVzcyA9IGZhbHNlO1xuXG4gIC8vIFJ1biBhZnRlci1lZmZlY3RzXG4gIGZsdXNoR2xvYmFsRWZmZWN0cygnYWZ0ZXInLCB0aW1lc3RhbXApO1xuXG4gIC8vIFN0b3AgdGhlIGxvb3AgaWYgbm90aGluZyBpbnZhbGlkYXRlcyBpdFxuICBpZiAocmVwZWF0ID09PSAwKSB7XG4gICAgLy8gVGFpbCBjYWxsIGVmZmVjdHMsIHRoZXkgYXJlIGNhbGxlZCB3aGVuIHJlbmRlcmluZyBzdG9wc1xuICAgIGZsdXNoR2xvYmFsRWZmZWN0cygndGFpbCcsIHRpbWVzdGFtcCk7XG5cbiAgICAvLyBGbGFnIGVuZCBvZiBvcGVyYXRpb25cbiAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgcmV0dXJuIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGZyYW1lKTtcbiAgfVxufVxuXG4vKipcclxuICogSW52YWxpZGF0ZXMgdGhlIHZpZXcsIHJlcXVlc3RpbmcgYSBmcmFtZSB0byBiZSByZW5kZXJlZC4gV2lsbCBnbG9iYWxseSBpbnZhbGlkYXRlIHVubGVzcyBwYXNzZWQgYSByb290J3Mgc3RhdGUuXHJcbiAqIEBzZWUgaHR0cHM6Ly9kb2NzLnBtbmQucnMvcmVhY3QtdGhyZWUtZmliZXIvYXBpL2FkZGl0aW9uYWwtZXhwb3J0cyNpbnZhbGlkYXRlXHJcbiAqL1xuZnVuY3Rpb24gaW52YWxpZGF0ZShzdGF0ZSwgZnJhbWVzID0gMSkge1xuICB2YXIgX3N0YXRlJGdsJHhyMjtcbiAgaWYgKCFzdGF0ZSkgcmV0dXJuIF9yb290cy5mb3JFYWNoKHJvb3QgPT4gaW52YWxpZGF0ZShyb290LnN0b3JlLmdldFN0YXRlKCksIGZyYW1lcykpO1xuICBpZiAoKF9zdGF0ZSRnbCR4cjIgPSBzdGF0ZS5nbC54cikgIT0gbnVsbCAmJiBfc3RhdGUkZ2wkeHIyLmlzUHJlc2VudGluZyB8fCAhc3RhdGUuaW50ZXJuYWwuYWN0aXZlIHx8IHN0YXRlLmZyYW1lbG9vcCA9PT0gJ25ldmVyJykgcmV0dXJuO1xuICBpZiAoZnJhbWVzID4gMSkge1xuICAgIC8vIGxlZ2FjeSBzdXBwb3J0IGZvciBwZW9wbGUgdXNpbmcgZnJhbWVzIHBhcmFtZXRlcnNcbiAgICAvLyBJbmNyZWFzZSBmcmFtZXMsIGRvIG5vdCBnbyBoaWdoZXIgdGhhbiA2MFxuICAgIHN0YXRlLmludGVybmFsLmZyYW1lcyA9IE1hdGgubWluKDYwLCBzdGF0ZS5pbnRlcm5hbC5mcmFtZXMgKyBmcmFtZXMpO1xuICB9IGVsc2Uge1xuICAgIGlmICh1c2VGcmFtZUluUHJvZ3Jlc3MpIHtcbiAgICAgIC8vY2FsbGVkIGZyb20gd2l0aGluIGEgdXNlRnJhbWUsIGl0IG1lYW5zIHRoZSB1c2VyIHdhbnRzIGFuIGFkZGl0aW9uYWwgZnJhbWVcbiAgICAgIHN0YXRlLmludGVybmFsLmZyYW1lcyA9IDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vdGhlIHVzZXIgbmVlZCBhIG5ldyBmcmFtZSwgbm8gbmVlZCB0byBpbmNyZW1lbnQgZnVydGhlciB0aGFuIDFcbiAgICAgIHN0YXRlLmludGVybmFsLmZyYW1lcyA9IDE7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgdGhlIHJlbmRlci1sb29wIGlzbid0IGFjdGl2ZSwgc3RhcnQgaXRcbiAgaWYgKCFydW5uaW5nKSB7XG4gICAgcnVubmluZyA9IHRydWU7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICB9XG59XG5cbi8qKlxyXG4gKiBBZHZhbmNlcyB0aGUgZnJhbWVsb29wIGFuZCBydW5zIHJlbmRlciBlZmZlY3RzLCB1c2VmdWwgZm9yIHdoZW4gbWFudWFsbHkgcmVuZGVyaW5nIHZpYSBgZnJhbWVsb29wPVwibmV2ZXJcImAuXHJcbiAqIEBzZWUgaHR0cHM6Ly9kb2NzLnBtbmQucnMvcmVhY3QtdGhyZWUtZmliZXIvYXBpL2FkZGl0aW9uYWwtZXhwb3J0cyNhZHZhbmNlXHJcbiAqL1xuZnVuY3Rpb24gYWR2YW5jZSh0aW1lc3RhbXAsIHJ1bkdsb2JhbEVmZmVjdHMgPSB0cnVlLCBzdGF0ZSwgZnJhbWUpIHtcbiAgaWYgKHJ1bkdsb2JhbEVmZmVjdHMpIGZsdXNoR2xvYmFsRWZmZWN0cygnYmVmb3JlJywgdGltZXN0YW1wKTtcbiAgaWYgKCFzdGF0ZSkgZm9yIChjb25zdCByb290IG9mIF9yb290cy52YWx1ZXMoKSkgdXBkYXRlKHRpbWVzdGFtcCwgcm9vdC5zdG9yZS5nZXRTdGF0ZSgpKTtlbHNlIHVwZGF0ZSh0aW1lc3RhbXAsIHN0YXRlLCBmcmFtZSk7XG4gIGlmIChydW5HbG9iYWxFZmZlY3RzKSBmbHVzaEdsb2JhbEVmZmVjdHMoJ2FmdGVyJywgdGltZXN0YW1wKTtcbn1cblxuY29uc3QgRE9NX0VWRU5UUyA9IHtcbiAgb25DbGljazogWydjbGljaycsIGZhbHNlXSxcbiAgb25Db250ZXh0TWVudTogWydjb250ZXh0bWVudScsIGZhbHNlXSxcbiAgb25Eb3VibGVDbGljazogWydkYmxjbGljaycsIGZhbHNlXSxcbiAgb25XaGVlbDogWyd3aGVlbCcsIHRydWVdLFxuICBvblBvaW50ZXJEb3duOiBbJ3BvaW50ZXJkb3duJywgdHJ1ZV0sXG4gIG9uUG9pbnRlclVwOiBbJ3BvaW50ZXJ1cCcsIHRydWVdLFxuICBvblBvaW50ZXJMZWF2ZTogWydwb2ludGVybGVhdmUnLCB0cnVlXSxcbiAgb25Qb2ludGVyTW92ZTogWydwb2ludGVybW92ZScsIHRydWVdLFxuICBvblBvaW50ZXJDYW5jZWw6IFsncG9pbnRlcmNhbmNlbCcsIHRydWVdLFxuICBvbkxvc3RQb2ludGVyQ2FwdHVyZTogWydsb3N0cG9pbnRlcmNhcHR1cmUnLCB0cnVlXVxufTtcblxuLyoqIERlZmF1bHQgUjNGIGV2ZW50IG1hbmFnZXIgZm9yIHdlYiAqL1xuZnVuY3Rpb24gY3JlYXRlUG9pbnRlckV2ZW50cyhzdG9yZSkge1xuICBjb25zdCB7XG4gICAgaGFuZGxlUG9pbnRlclxuICB9ID0gY3JlYXRlRXZlbnRzKHN0b3JlKTtcbiAgcmV0dXJuIHtcbiAgICBwcmlvcml0eTogMSxcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGNvbXB1dGUoZXZlbnQsIHN0YXRlLCBwcmV2aW91cykge1xuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BtbmRycy9yZWFjdC10aHJlZS1maWJlci9wdWxsLzc4MlxuICAgICAgLy8gRXZlbnRzIHRyaWdnZXIgb3V0c2lkZSBvZiBjYW52YXMgd2hlbiBtb3ZlZCwgdXNlIG9mZnNldFgvWSBieSBkZWZhdWx0IGFuZCBhbGxvdyBvdmVycmlkZXNcbiAgICAgIHN0YXRlLnBvaW50ZXIuc2V0KGV2ZW50Lm9mZnNldFggLyBzdGF0ZS5zaXplLndpZHRoICogMiAtIDEsIC0oZXZlbnQub2Zmc2V0WSAvIHN0YXRlLnNpemUuaGVpZ2h0KSAqIDIgKyAxKTtcbiAgICAgIHN0YXRlLnJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKHN0YXRlLnBvaW50ZXIsIHN0YXRlLmNhbWVyYSk7XG4gICAgfSxcbiAgICBjb25uZWN0ZWQ6IHVuZGVmaW5lZCxcbiAgICBoYW5kbGVyczogT2JqZWN0LmtleXMoRE9NX0VWRU5UUykucmVkdWNlKChhY2MsIGtleSkgPT4gKHtcbiAgICAgIC4uLmFjYyxcbiAgICAgIFtrZXldOiBoYW5kbGVQb2ludGVyKGtleSlcbiAgICB9KSwge30pLFxuICAgIHVwZGF0ZTogKCkgPT4ge1xuICAgICAgdmFyIF9pbnRlcm5hbCRsYXN0RXZlbnQ7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGV2ZW50cyxcbiAgICAgICAgaW50ZXJuYWxcbiAgICAgIH0gPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgaWYgKChfaW50ZXJuYWwkbGFzdEV2ZW50ID0gaW50ZXJuYWwubGFzdEV2ZW50KSAhPSBudWxsICYmIF9pbnRlcm5hbCRsYXN0RXZlbnQuY3VycmVudCAmJiBldmVudHMuaGFuZGxlcnMpIGV2ZW50cy5oYW5kbGVycy5vblBvaW50ZXJNb3ZlKGludGVybmFsLmxhc3RFdmVudC5jdXJyZW50KTtcbiAgICB9LFxuICAgIGNvbm5lY3Q6IHRhcmdldCA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHNldCxcbiAgICAgICAgZXZlbnRzXG4gICAgICB9ID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgIGV2ZW50cy5kaXNjb25uZWN0ID09IG51bGwgPyB2b2lkIDAgOiBldmVudHMuZGlzY29ubmVjdCgpO1xuICAgICAgc2V0KHN0YXRlID0+ICh7XG4gICAgICAgIGV2ZW50czoge1xuICAgICAgICAgIC4uLnN0YXRlLmV2ZW50cyxcbiAgICAgICAgICBjb25uZWN0ZWQ6IHRhcmdldFxuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgICBpZiAoZXZlbnRzLmhhbmRsZXJzKSB7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBldmVudHMuaGFuZGxlcnMpIHtcbiAgICAgICAgICBjb25zdCBldmVudCA9IGV2ZW50cy5oYW5kbGVyc1tuYW1lXTtcbiAgICAgICAgICBjb25zdCBbZXZlbnROYW1lLCBwYXNzaXZlXSA9IERPTV9FVkVOVFNbbmFtZV07XG4gICAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBldmVudCwge1xuICAgICAgICAgICAgcGFzc2l2ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBkaXNjb25uZWN0OiAoKSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHNldCxcbiAgICAgICAgZXZlbnRzXG4gICAgICB9ID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgIGlmIChldmVudHMuY29ubmVjdGVkKSB7XG4gICAgICAgIGlmIChldmVudHMuaGFuZGxlcnMpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gZXZlbnRzLmhhbmRsZXJzKSB7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IGV2ZW50cy5oYW5kbGVyc1tuYW1lXTtcbiAgICAgICAgICAgIGNvbnN0IFtldmVudE5hbWVdID0gRE9NX0VWRU5UU1tuYW1lXTtcbiAgICAgICAgICAgIGV2ZW50cy5jb25uZWN0ZWQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0KHN0YXRlID0+ICh7XG4gICAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgICAuLi5zdGF0ZS5ldmVudHMsXG4gICAgICAgICAgICBjb25uZWN0ZWQ6IHVuZGVmaW5lZFxuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IHsgdXNlU3RvcmUgYXMgQSwgQmxvY2sgYXMgQiwgdXNlVGhyZWUgYXMgQywgdXNlRnJhbWUgYXMgRCwgRXJyb3JCb3VuZGFyeSBhcyBFLCB1c2VHcmFwaCBhcyBGLCB1c2VMb2FkZXIgYXMgRywgX3Jvb3RzIGFzIF8sIHVzZU11dGFibGVDYWxsYmFjayBhcyBhLCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IGFzIGIsIGNyZWF0ZVJvb3QgYXMgYywgdW5tb3VudENvbXBvbmVudEF0Tm9kZSBhcyBkLCBleHRlbmQgYXMgZSwgY3JlYXRlUG9pbnRlckV2ZW50cyBhcyBmLCBjcmVhdGVFdmVudHMgYXMgZywgZmx1c2hHbG9iYWxFZmZlY3RzIGFzIGgsIGlzUmVmIGFzIGksIGFkZEVmZmVjdCBhcyBqLCBhZGRBZnRlckVmZmVjdCBhcyBrLCBhZGRUYWlsIGFzIGwsIGludmFsaWRhdGUgYXMgbSwgYWR2YW5jZSBhcyBuLCBjcmVhdGVQb3J0YWwgYXMgbywgZmx1c2hTeW5jIGFzIHAsIGNvbnRleHQgYXMgcSwgcmVjb25jaWxlciBhcyByLCBhcHBseVByb3BzIGFzIHMsIHRocmVlVHlwZXMgYXMgdCwgdXNlQnJpZGdlIGFzIHUsIGdldFJvb3RTdGF0ZSBhcyB2LCBkaXNwb3NlIGFzIHcsIGFjdCBhcyB4LCBidWlsZEdyYXBoIGFzIHksIHVzZUluc3RhbmNlSGFuZGxlIGFzIHogfTtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsIkRlZmF1bHRFdmVudFByaW9yaXR5IiwiQ29udGludW91c0V2ZW50UHJpb3JpdHkiLCJEaXNjcmV0ZUV2ZW50UHJpb3JpdHkiLCJDb25jdXJyZW50Um9vdCIsIlRIUkVFIiwiY3JlYXRlV2l0aEVxdWFsaXR5Rm4iLCJzdXNwZW5kIiwicHJlbG9hZCIsImNsZWFyIiwiUmVjb25jaWxlciIsInVuc3RhYmxlX3NjaGVkdWxlQ2FsbGJhY2siLCJ1bnN0YWJsZV9JZGxlUHJpb3JpdHkiLCJqc3giLCJGcmFnbWVudCIsInVzZUZpYmVyIiwidXNlQ29udGV4dEJyaWRnZSIsInRyYXZlcnNlRmliZXIiLCJ0aHJlZVR5cGVzIiwiT2JqZWN0IiwiZnJlZXplIiwiX19wcm90b19fIiwiZmluZEluaXRpYWxSb290IiwiaW5zdGFuY2UiLCJyb290IiwiZ2V0U3RhdGUiLCJwcmV2aW91c1Jvb3QiLCJhY3QiLCJpc09ydGhvZ3JhcGhpY0NhbWVyYSIsImRlZiIsImlzUmVmIiwib2JqIiwiaGFzT3duUHJvcGVydHkiLCJpc0NvbG9yUmVwcmVzZW50YXRpb24iLCJ2YWx1ZSIsImlzQ29sb3IiLCJ1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IiwiX3dpbmRvdyRkb2N1bWVudCIsIl93aW5kb3ckbmF2aWdhdG9yIiwid2luZG93IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwibmF2aWdhdG9yIiwicHJvZHVjdCIsInVzZUxheW91dEVmZmVjdCIsInVzZUVmZmVjdCIsInVzZU11dGFibGVDYWxsYmFjayIsImZuIiwicmVmIiwidXNlUmVmIiwiY3VycmVudCIsInVzZUJyaWRnZSIsImZpYmVyIiwiQ29udGV4dEJyaWRnZSIsInVzZU1lbW8iLCJjaGlsZHJlbiIsInN0cmljdCIsIm5vZGUiLCJ0eXBlIiwiU3RyaWN0TW9kZSIsIlJvb3QiLCJCbG9jayIsInNldCIsIlByb21pc2UiLCJFcnJvckJvdW5kYXJ5IiwiX0Vycm9yQm91bmRhcnkiLCJDb21wb25lbnQiLCJhcmdzIiwic3RhdGUiLCJlcnJvciIsImNvbXBvbmVudERpZENhdGNoIiwiZXJyIiwicHJvcHMiLCJyZW5kZXIiLCJnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IiLCJjYWxjdWxhdGVEcHIiLCJkcHIiLCJfd2luZG93JGRldmljZVBpeGVsUmEiLCJ0YXJnZXQiLCJkZXZpY2VQaXhlbFJhdGlvIiwiQXJyYXkiLCJpc0FycmF5IiwiTWF0aCIsIm1pbiIsIm1heCIsImdldFJvb3RTdGF0ZSIsIl9yM2YiLCJfX3IzZiIsImlzIiwiYSIsImFyciIsImZ1biIsInN0ciIsIm51bSIsImJvbyIsInVuZCIsIm51bCIsImVxdSIsImIiLCJhcnJheXMiLCJvYmplY3RzIiwiaXNPYmoiLCJpc0FyciIsImkiLCJsZW5ndGgiLCJrZXlzIiwiYnVpbGRHcmFwaCIsIm9iamVjdCIsImRhdGEiLCJub2RlcyIsIm1hdGVyaWFscyIsIm1lc2hlcyIsInRyYXZlcnNlIiwibmFtZSIsIm1hdGVyaWFsIiwiaXNNZXNoIiwiZGlzcG9zZSIsInAiLCJwcm9wIiwiUkVBQ1RfSU5URVJOQUxfUFJPUFMiLCJnZXRJbnN0YW5jZVByb3BzIiwicXVldWUiLCJrZXkiLCJpbmNsdWRlcyIsInByZXBhcmUiLCJwYXJlbnQiLCJldmVudENvdW50IiwiaGFuZGxlcnMiLCJpc0hpZGRlbiIsInJlc29sdmUiLCJwYXJ0Iiwic3BsaXQiLCJfdGFyZ2V0IiwiSU5ERVhfUkVHRVgiLCJhdHRhY2giLCJjaGlsZCIsInRlc3QiLCJpbmRleCIsInJlcGxhY2UiLCJwcmV2aW91c0F0dGFjaCIsImRldGFjaCIsInByZXZpb3VzIiwidW5kZWZpbmVkIiwiUkVTRVJWRURfUFJPUFMiLCJNRU1PSVpFRF9QUk9UT1RZUEVTIiwiTWFwIiwiZ2V0TWVtb2l6ZWRQcm90b3R5cGUiLCJjdG9yIiwiZ2V0IiwiZSIsImRpZmZQcm9wcyIsIm5ld1Byb3BzIiwiY2hhbmdlZFByb3BzIiwib3RoZXIiLCJzdGFydHNXaXRoIiwiY29sb3JNYXBzIiwiRVZFTlRfUkVHRVgiLCJhcHBseVByb3BzIiwiX2luc3RhbmNlJG9iamVjdCIsInJvb3RTdGF0ZSIsInByZXZIYW5kbGVycyIsIkxheWVycyIsIm1hc2siLCJDb2xvciIsImNvcHkiLCJmcm9tQXJyYXkiLCJzZXRTY2FsYXIiLCJfcm9vdCRrZXkiLCJsaW5lYXIiLCJpc1RleHR1cmUiLCJmb3JtYXQiLCJSR0JBRm9ybWF0IiwiVW5zaWduZWRCeXRlVHlwZSIsImNvbG9yU3BhY2UiLCJTUkdCQ29sb3JTcGFjZSIsImludGVybmFsIiwiaXNPYmplY3QzRCIsImludGVyYWN0aW9uIiwiaW5kZXhPZiIsInNwbGljZSIsInJheWNhc3QiLCJwdXNoIiwiaXNCdWZmZXJHZW9tZXRyeSIsImlzTWF0ZXJpYWwiLCJpbnZhbGlkYXRlSW5zdGFuY2UiLCJfaW5zdGFuY2Ukcm9vdCIsIm9uVXBkYXRlIiwiZnJhbWVzIiwiaW52YWxpZGF0ZSIsInVwZGF0ZUNhbWVyYSIsImNhbWVyYSIsInNpemUiLCJtYW51YWwiLCJsZWZ0Iiwid2lkdGgiLCJyaWdodCIsInRvcCIsImhlaWdodCIsImJvdHRvbSIsImFzcGVjdCIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJtYWtlSWQiLCJldmVudCIsImV2ZW50T2JqZWN0IiwidXVpZCIsImluc3RhbmNlSWQiLCJyZWxlYXNlSW50ZXJuYWxQb2ludGVyQ2FwdHVyZSIsImNhcHR1cmVkTWFwIiwiY2FwdHVyZXMiLCJwb2ludGVySWQiLCJjYXB0dXJlRGF0YSIsImRlbGV0ZSIsInJlbGVhc2VQb2ludGVyQ2FwdHVyZSIsInJlbW92ZUludGVyYWN0aXZpdHkiLCJzdG9yZSIsImZpbHRlciIsIm8iLCJpbml0aWFsSGl0cyIsImhvdmVyZWQiLCJmb3JFYWNoIiwiY3JlYXRlRXZlbnRzIiwiY2FsY3VsYXRlRGlzdGFuY2UiLCJkeCIsIm9mZnNldFgiLCJpbml0aWFsQ2xpY2siLCJkeSIsIm9mZnNldFkiLCJyb3VuZCIsInNxcnQiLCJmaWx0ZXJQb2ludGVyRXZlbnRzIiwic29tZSIsImludGVyc2VjdCIsImR1cGxpY2F0ZXMiLCJTZXQiLCJpbnRlcnNlY3Rpb25zIiwiZXZlbnRzT2JqZWN0cyIsInJheWNhc3RlciIsImV2ZW50cyIsImNvbXB1dGUiLCJoYW5kbGVSYXljYXN0IiwiZW5hYmxlZCIsIl9zdGF0ZSRwcmV2aW91c1Jvb3QiLCJpbnRlcnNlY3RPYmplY3QiLCJoaXRzIiwiZmxhdE1hcCIsInNvcnQiLCJhU3RhdGUiLCJiU3RhdGUiLCJkaXN0YW5jZSIsInByaW9yaXR5IiwiaXRlbSIsImlkIiwiaGFzIiwiYWRkIiwiaGl0IiwiX3IzZjIiLCJ2YWx1ZXMiLCJpbnRlcnNlY3Rpb24iLCJoYW5kbGVJbnRlcnNlY3RzIiwiZGVsdGEiLCJjYWxsYmFjayIsImxvY2FsU3RhdGUiLCJzdG9wcGVkIiwidHJhdmVyc2VBbmNlc3RvcnMiLCJwYXJlbnRTdGF0ZSIsInBvaW50ZXIiLCJ1bnByb2plY3RlZFBvaW50IiwiVmVjdG9yMyIsIngiLCJ5IiwidW5wcm9qZWN0IiwiaGFzUG9pbnRlckNhcHR1cmUiLCJfaW50ZXJuYWwkY2FwdHVyZWRNYXAiLCJfaW50ZXJuYWwkY2FwdHVyZWRNYXAyIiwic2V0UG9pbnRlckNhcHR1cmUiLCJleHRyYWN0RXZlbnRQcm9wcyIsInByb3BlcnR5IiwicmF5Y2FzdEV2ZW50IiwicmF5Iiwic3RvcFByb3BhZ2F0aW9uIiwiY2FwdHVyZXNGb3JQb2ludGVyIiwiZnJvbSIsImZpbmQiLCJoaWdoZXIiLCJzbGljZSIsImNhbmNlbFBvaW50ZXIiLCJjdXJyZW50VGFyZ2V0IiwibmF0aXZlRXZlbnQiLCJob3ZlcmVkT2JqIiwib25Qb2ludGVyT3V0Iiwib25Qb2ludGVyTGVhdmUiLCJwb2ludGVyTWlzc2VkIiwib25Qb2ludGVyTWlzc2VkIiwiaGFuZGxlUG9pbnRlciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImhhbmRsZUV2ZW50IiwibGFzdEV2ZW50IiwiaXNQb2ludGVyTW92ZSIsImlzQ2xpY2tFdmVudCIsIm1hcCIsIm9uSW50ZXJzZWN0Iiwib25Qb2ludGVyT3ZlciIsIm9uUG9pbnRlckVudGVyIiwiaG92ZXJlZEl0ZW0iLCJvblBvaW50ZXJNb3ZlIiwiaGFuZGxlciIsImlzUmVuZGVyZXIiLCJjb250ZXh0IiwiY3JlYXRlQ29udGV4dCIsImNyZWF0ZVN0b3JlIiwiYWR2YW5jZSIsInJvb3RTdG9yZSIsInBvc2l0aW9uIiwiZGVmYXVsdFRhcmdldCIsInRlbXBUYXJnZXQiLCJnZXRDdXJyZW50Vmlld3BvcnQiLCJpc1ZlY3RvcjMiLCJnZXRXb3JsZFBvc2l0aW9uIiwiZGlzdGFuY2VUbyIsInpvb20iLCJmYWN0b3IiLCJmb3YiLCJQSSIsImgiLCJ0YW4iLCJ3IiwicGVyZm9ybWFuY2VUaW1lb3V0Iiwic2V0UGVyZm9ybWFuY2VDdXJyZW50IiwicGVyZm9ybWFuY2UiLCJWZWN0b3IyIiwiZ2wiLCJjb25uZWN0ZWQiLCJzY2VuZSIsInhyIiwidGltZXN0YW1wIiwicnVuR2xvYmFsRWZmZWN0cyIsImxlZ2FjeSIsImZsYXQiLCJjb250cm9scyIsImNsb2NrIiwiQ2xvY2siLCJtb3VzZSIsImZyYW1lbG9vcCIsImRlYm91bmNlIiwicmVncmVzcyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJ2aWV3cG9ydCIsImluaXRpYWxEcHIiLCJzZXRFdmVudHMiLCJzZXRTaXplIiwic2V0RHByIiwicmVzb2x2ZWQiLCJzZXRGcmFtZWxvb3AiLCJzdG9wIiwiZWxhcHNlZFRpbWUiLCJzdGFydCIsInN1YnNjcmliZXJzIiwiY3JlYXRlUmVmIiwiYWN0aXZlIiwic3Vic2NyaWJlIiwicyIsIm9sZFNpemUiLCJvbGREcHIiLCJvbGRDYW1lcmEiLCJzZXRQaXhlbFJhdGlvIiwidXBkYXRlU3R5bGUiLCJIVE1MQ2FudmFzRWxlbWVudCIsImRvbUVsZW1lbnQiLCJ1c2VJbnN0YW5jZUhhbmRsZSIsInVzZUltcGVyYXRpdmVIYW5kbGUiLCJ1c2VTdG9yZSIsInVzZUNvbnRleHQiLCJFcnJvciIsInVzZVRocmVlIiwic2VsZWN0b3IiLCJlcXVhbGl0eUZuIiwidXNlRnJhbWUiLCJyZW5kZXJQcmlvcml0eSIsInVzZUdyYXBoIiwibWVtb2l6ZWRMb2FkZXJzIiwiV2Vha01hcCIsImlzQ29uc3RydWN0b3IkMSIsIl92YWx1ZSRwcm90b3R5cGUiLCJwcm90b3R5cGUiLCJsb2FkaW5nRm4iLCJleHRlbnNpb25zIiwib25Qcm9ncmVzcyIsIlByb3RvIiwiaW5wdXQiLCJsb2FkZXIiLCJhbGwiLCJyZXMiLCJyZWplY3QiLCJsb2FkIiwiYXNzaWduIiwibWVzc2FnZSIsInVzZUxvYWRlciIsInJlc3VsdHMiLCJlcXVhbCIsImNyZWF0ZVJlY29uY2lsZXIiLCJjb25maWciLCJyZWNvbmNpbGVyIiwiaW5qZWN0SW50b0RldlRvb2xzIiwiYnVuZGxlVHlwZSIsInByb2Nlc3MiLCJyZW5kZXJlclBhY2thZ2VOYW1lIiwidmVyc2lvbiIsIk5vRXZlbnRQcmlvcml0eSIsImNhdGFsb2d1ZSIsIlBSRUZJWF9SRUdFWCIsInRvUGFzY2FsQ2FzZSIsInRvVXBwZXJDYXNlIiwiaXNDb25zdHJ1Y3RvciIsImV4dGVuZCIsInZhbGlkYXRlSW5zdGFuY2UiLCJjcmVhdGVJbnN0YW5jZSIsIl9wcm9wcyRvYmplY3QiLCJoaWRlSW5zdGFuY2UiLCJfaW5zdGFuY2UkcGFyZW50IiwidmlzaWJsZSIsInVuaGlkZUluc3RhbmNlIiwiX2luc3RhbmNlJHBhcmVudDIiLCJoYW5kbGVDb250YWluZXJFZmZlY3RzIiwiYmVmb3JlQ2hpbGQiLCJfY2hpbGQkcHJvcHMkb2JqZWN0IiwiX2NoaWxkJHByb3BzJGFyZ3MiLCJjaGlsZEluZGV4IiwiZXhpc3RpbmdJbmRleCIsImFkanVzdGVkSW5kZXgiLCJkaXNwYXRjaEV2ZW50IiwiY2hpbGRJbnN0YW5jZSIsImFwcGVuZENoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiZGlzcG9zZU9uSWRsZSIsImhhbmRsZURpc3Bvc2UiLCJJU19SRUFDVF9BQ1RfRU5WSVJPTk1FTlQiLCJyZW1vdmVDaGlsZCIsInJlbW92ZSIsInNob3VsZERpc3Bvc2UiLCJzZXRGaWJlclJlZiIsInB1YmxpY0luc3RhbmNlIiwiX2ZpYmVyIiwiYWx0ZXJuYXRlIiwicmVmQ2xlYW51cCIsImNsZWFudXAiLCJyZWNvbnN0cnVjdGVkIiwic3dhcEluc3RhbmNlcyIsIl9pbnN0YW5jZSRwcm9wcyRvYmplYyIsIl9pbnN0YW5jZSRwcm9wcyRhcmdzIiwiaGFuZGxlVGV4dEluc3RhbmNlIiwiTk9fQ09OVEVYVCIsImN1cnJlbnRVcGRhdGVQcmlvcml0eSIsIk5vRmxhZ3MiLCJVcGRhdGUiLCJpc1ByaW1hcnlSZW5kZXJlciIsIndhcm5zSWZOb3RBY3RpbmciLCJzdXBwb3J0c011dGF0aW9uIiwic3VwcG9ydHNQZXJzaXN0ZW5jZSIsInN1cHBvcnRzSHlkcmF0aW9uIiwiYXBwZW5kSW5pdGlhbENoaWxkIiwiYXBwZW5kQ2hpbGRUb0NvbnRhaW5lciIsImNvbnRhaW5lciIsInJlbW92ZUNoaWxkRnJvbUNvbnRhaW5lciIsImluc2VydEluQ29udGFpbmVyQmVmb3JlIiwiZ2V0Um9vdEhvc3RDb250ZXh0IiwiZ2V0Q2hpbGRIb3N0Q29udGV4dCIsImNvbW1pdFVwZGF0ZSIsIm9sZFByb3BzIiwiX25ld1Byb3BzJGFyZ3MiLCJfb2xkUHJvcHMkYXJncyIsIl9uZXdQcm9wcyRhcmdzMiIsInJlY29uc3RydWN0IiwiX29sZFByb3BzJGFyZ3MyIiwiaXNUYWlsU2libGluZyIsInNpYmxpbmciLCJmbGFncyIsImZpbmFsaXplSW5pdGlhbENoaWxkcmVuIiwiY29tbWl0TW91bnQiLCJnZXRQdWJsaWNJbnN0YW5jZSIsInByZXBhcmVGb3JDb21taXQiLCJwcmVwYXJlUG9ydGFsTW91bnQiLCJyZXNldEFmdGVyQ29tbWl0Iiwic2hvdWxkU2V0VGV4dENvbnRlbnQiLCJjbGVhckNvbnRhaW5lciIsImNyZWF0ZVRleHRJbnN0YW5jZSIsImhpZGVUZXh0SW5zdGFuY2UiLCJ1bmhpZGVUZXh0SW5zdGFuY2UiLCJzY2hlZHVsZVRpbWVvdXQiLCJjYW5jZWxUaW1lb3V0Iiwibm9UaW1lb3V0IiwiZ2V0SW5zdGFuY2VGcm9tTm9kZSIsImJlZm9yZUFjdGl2ZUluc3RhbmNlQmx1ciIsImFmdGVyQWN0aXZlSW5zdGFuY2VCbHVyIiwiZGV0YWNoRGVsZXRlZEluc3RhbmNlIiwicHJlcGFyZVNjb3BlVXBkYXRlIiwiZ2V0SW5zdGFuY2VGcm9tU2NvcGUiLCJzaG91bGRBdHRlbXB0RWFnZXJUcmFuc2l0aW9uIiwidHJhY2tTY2hlZHVsZXJFdmVudCIsInJlc29sdmVFdmVudFR5cGUiLCJyZXNvbHZlRXZlbnRUaW1lU3RhbXAiLCJyZXF1ZXN0UG9zdFBhaW50Q2FsbGJhY2siLCJtYXlTdXNwZW5kQ29tbWl0IiwicHJlbG9hZEluc3RhbmNlIiwic3RhcnRTdXNwZW5kaW5nQ29tbWl0Iiwic3VzcGVuZEluc3RhbmNlIiwid2FpdEZvckNvbW1pdFRvQmVSZWFkeSIsIk5vdFBlbmRpbmdUcmFuc2l0aW9uIiwiSG9zdFRyYW5zaXRpb25Db250ZXh0Iiwic2V0Q3VycmVudFVwZGF0ZVByaW9yaXR5IiwibmV3UHJpb3JpdHkiLCJnZXRDdXJyZW50VXBkYXRlUHJpb3JpdHkiLCJyZXNvbHZlVXBkYXRlUHJpb3JpdHkiLCJfd2luZG93JGV2ZW50IiwicmVzZXRGb3JtSW5zdGFuY2UiLCJfcm9vdHMiLCJzaGFsbG93TG9vc2UiLCJjb21wdXRlSW5pdGlhbFNpemUiLCJjYW52YXMiLCJwYXJlbnRFbGVtZW50IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiT2Zmc2NyZWVuQ2FudmFzIiwiY3JlYXRlUm9vdCIsInByZXZSb290IiwicHJldkZpYmVyIiwicHJldlN0b3JlIiwiY29uc29sZSIsIndhcm4iLCJsb2dSZWNvdmVyYWJsZUVycm9yIiwicmVwb3J0RXJyb3IiLCJjcmVhdGVDb250YWluZXIiLCJvbkNyZWF0ZWQiLCJsYXN0Q2FtZXJhIiwiY29uZmlndXJlZCIsInBlbmRpbmciLCJjb25maWd1cmUiLCJfcmVzb2x2ZSIsImdsQ29uZmlnIiwicHJvcHNTaXplIiwic2NlbmVPcHRpb25zIiwib25DcmVhdGVkQ2FsbGJhY2siLCJzaGFkb3dzIiwib3J0aG9ncmFwaGljIiwicmF5Y2FzdE9wdGlvbnMiLCJjYW1lcmFPcHRpb25zIiwiZGVmYXVsdFByb3BzIiwicG93ZXJQcmVmZXJlbmNlIiwiYW50aWFsaWFzIiwiYWxwaGEiLCJjdXN0b21SZW5kZXJlciIsIldlYkdMUmVuZGVyZXIiLCJSYXljYXN0ZXIiLCJwYXJhbXMiLCJvcHRpb25zIiwiaXNDYW1lcmEiLCJPcnRob2dyYXBoaWNDYW1lcmEiLCJQZXJzcGVjdGl2ZUNhbWVyYSIsInoiLCJyb3RhdGlvbiIsImxvb2tBdCIsImlzU2NlbmUiLCJTY2VuZSIsIl9nbCR4ciIsImhhbmRsZVhSRnJhbWUiLCJmcmFtZSIsImhhbmRsZVNlc3Npb25DaGFuZ2UiLCJpc1ByZXNlbnRpbmciLCJzZXRBbmltYXRpb25Mb29wIiwiY29ubmVjdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkaXNjb25uZWN0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNoYWRvd01hcCIsIm9sZEVuYWJsZWQiLCJvbGRUeXBlIiwiUENGU29mdFNoYWRvd01hcCIsIl90eXBlcyRzaGFkb3dzIiwidHlwZXMiLCJiYXNpYyIsIkJhc2ljU2hhZG93TWFwIiwicGVyY2VudGFnZSIsIlBDRlNoYWRvd01hcCIsInNvZnQiLCJ2YXJpYW5jZSIsIlZTTVNoYWRvd01hcCIsIm5lZWRzVXBkYXRlIiwiQ29sb3JNYW5hZ2VtZW50Iiwib3V0cHV0Q29sb3JTcGFjZSIsIkxpbmVhclNSR0JDb2xvclNwYWNlIiwidG9uZU1hcHBpbmciLCJOb1RvbmVNYXBwaW5nIiwiQUNFU0ZpbG1pY1RvbmVNYXBwaW5nIiwidGhlbiIsInVwZGF0ZUNvbnRhaW5lciIsIlByb3ZpZGVyIiwicm9vdEVsZW1lbnQiLCJ1bm1vdW50IiwidW5tb3VudENvbXBvbmVudEF0Tm9kZSIsIl9zdGF0ZSRnbCIsIl9zdGF0ZSRnbCRyZW5kZXJMaXN0cyIsIl9zdGF0ZSRnbDIiLCJfc3RhdGUkZ2wzIiwicmVuZGVyTGlzdHMiLCJmb3JjZUNvbnRleHRMb3NzIiwiY3JlYXRlUG9ydGFsIiwiUG9ydGFsIiwicmVzdCIsInVzZVN0YXRlIiwiaW5qZWN0IiwiaW5qZWN0U3RhdGUiLCJ1c2VQb3J0YWxTdG9yZSIsIm9uTXV0YXRlIiwicHJldiIsInNldFN0YXRlIiwiZmx1c2hTeW5jIiwiZmx1c2hTeW5jRnJvbVJlY29uY2lsZXIiLCJjcmVhdGVTdWJzIiwic3VicyIsInN1YiIsImdsb2JhbEVmZmVjdHMiLCJnbG9iYWxBZnRlckVmZmVjdHMiLCJnbG9iYWxUYWlsRWZmZWN0cyIsImFkZEVmZmVjdCIsImFkZEFmdGVyRWZmZWN0IiwiYWRkVGFpbCIsInJ1biIsImVmZmVjdHMiLCJmbHVzaEdsb2JhbEVmZmVjdHMiLCJzdWJzY3JpcHRpb24iLCJ1cGRhdGUiLCJnZXREZWx0YSIsIm9sZFRpbWUiLCJydW5uaW5nIiwidXNlRnJhbWVJblByb2dyZXNzIiwicmVwZWF0IiwibG9vcCIsIl9zdGF0ZSRnbCR4ciIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiX3N0YXRlJGdsJHhyMiIsIkRPTV9FVkVOVFMiLCJvbkNsaWNrIiwib25Db250ZXh0TWVudSIsIm9uRG91YmxlQ2xpY2siLCJvbldoZWVsIiwib25Qb2ludGVyRG93biIsIm9uUG9pbnRlclVwIiwib25Qb2ludGVyQ2FuY2VsIiwib25Mb3N0UG9pbnRlckNhcHR1cmUiLCJjcmVhdGVQb2ludGVyRXZlbnRzIiwic2V0RnJvbUNhbWVyYSIsInJlZHVjZSIsImFjYyIsIl9pbnRlcm5hbCRsYXN0RXZlbnQiLCJldmVudE5hbWUiLCJwYXNzaXZlIiwiQSIsIkIiLCJDIiwiRCIsIkUiLCJGIiwiRyIsIl8iLCJjIiwiZCIsImYiLCJnIiwiaiIsImsiLCJsIiwibSIsIm4iLCJxIiwiciIsInQiLCJ1IiwidiJdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/fiber/dist/events-e3cb66e2.esm.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@react-three/fiber/dist/react-three-fiber.esm.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@react-three/fiber/dist/react-three-fiber.esm.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Canvas: () => (/* binding */ Canvas),\n/* harmony export */   ReactThreeFiber: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.t),\n/* harmony export */   _roots: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__._),\n/* harmony export */   act: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.x),\n/* harmony export */   addAfterEffect: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.k),\n/* harmony export */   addEffect: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.j),\n/* harmony export */   addTail: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.l),\n/* harmony export */   advance: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.n),\n/* harmony export */   applyProps: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.s),\n/* harmony export */   buildGraph: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.y),\n/* harmony export */   context: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.q),\n/* harmony export */   createEvents: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.g),\n/* harmony export */   createPortal: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.o),\n/* harmony export */   createRoot: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.c),\n/* harmony export */   dispose: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.w),\n/* harmony export */   events: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.f),\n/* harmony export */   extend: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.e),\n/* harmony export */   flushGlobalEffects: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.h),\n/* harmony export */   flushSync: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.p),\n/* harmony export */   getRootState: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.v),\n/* harmony export */   invalidate: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.m),\n/* harmony export */   reconciler: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.r),\n/* harmony export */   unmountComponentAtNode: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.d),\n/* harmony export */   useFrame: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.D),\n/* harmony export */   useGraph: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.F),\n/* harmony export */   useInstanceHandle: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.z),\n/* harmony export */   useLoader: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.G),\n/* harmony export */   useStore: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.A),\n/* harmony export */   useThree: () => (/* reexport safe */ _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.C)\n/* harmony export */ });\n/* harmony import */ var _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events-e3cb66e2.esm.js */ \"(ssr)/./node_modules/@react-three/fiber/dist/events-e3cb66e2.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three */ \"(ssr)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var react_use_measure__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-use-measure */ \"(ssr)/./node_modules/react-use-measure/dist/index.js\");\n/* harmony import */ var its_fine__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! its-fine */ \"(ssr)/./node_modules/its-fine/dist/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_reconciler_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-reconciler/constants */ \"(ssr)/./node_modules/react-reconciler/constants.js\");\n/* harmony import */ var react_reconciler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-reconciler */ \"(ssr)/./node_modules/react-reconciler/index.js\");\n/* harmony import */ var react_reconciler__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_reconciler__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var scheduler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! scheduler */ \"(ssr)/./node_modules/scheduler/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\nfunction CanvasImpl({ ref, children, fallback, resize, style, gl, events = _events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.f, eventSource, eventPrefix, shadows, linear, flat, legacy, orthographic, frameloop, dpr, performance, raycaster, camera, scene, onPointerMissed, onCreated, ...props }) {\n    // Create a known catalogue of Threejs-native elements\n    // This will include the entire THREE namespace by default, users can extend\n    // their own elements by using the createRoot API instead\n    react__WEBPACK_IMPORTED_MODULE_1__.useMemo({\n        \"CanvasImpl.useMemo\": ()=>(0,_events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.e)(three__WEBPACK_IMPORTED_MODULE_6__)\n    }[\"CanvasImpl.useMemo\"], []);\n    const Bridge = (0,_events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.u)();\n    const [containerRef, containerRect] = (0,react_use_measure__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({\n        scroll: true,\n        debounce: {\n            scroll: 50,\n            resize: 0\n        },\n        ...resize\n    });\n    const canvasRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    const divRef = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    react__WEBPACK_IMPORTED_MODULE_1__.useImperativeHandle(ref, {\n        \"CanvasImpl.useImperativeHandle\": ()=>canvasRef.current\n    }[\"CanvasImpl.useImperativeHandle\"]);\n    const handlePointerMissed = (0,_events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.a)(onPointerMissed);\n    const [block, setBlock] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    const [error, setError] = react__WEBPACK_IMPORTED_MODULE_1__.useState(false);\n    // Suspend this component if block is a promise (2nd run)\n    if (block) throw block;\n    // Throw exception outwards if anything within canvas throws\n    if (error) throw error;\n    const root = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);\n    (0,_events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.b)({\n        \"CanvasImpl.useIsomorphicLayoutEffect\": ()=>{\n            const canvas = canvasRef.current;\n            if (containerRect.width > 0 && containerRect.height > 0 && canvas) {\n                if (!root.current) root.current = (0,_events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.c)(canvas);\n                async function run() {\n                    await root.current.configure({\n                        gl,\n                        scene,\n                        events,\n                        shadows,\n                        linear,\n                        flat,\n                        legacy,\n                        orthographic,\n                        frameloop,\n                        dpr,\n                        performance,\n                        raycaster,\n                        camera,\n                        size: containerRect,\n                        // Pass mutable reference to onPointerMissed so it's free to update\n                        onPointerMissed: {\n                            \"CanvasImpl.useIsomorphicLayoutEffect.run\": (...args)=>handlePointerMissed.current == null ? void 0 : handlePointerMissed.current(...args)\n                        }[\"CanvasImpl.useIsomorphicLayoutEffect.run\"],\n                        onCreated: {\n                            \"CanvasImpl.useIsomorphicLayoutEffect.run\": (state)=>{\n                                // Connect to event source\n                                state.events.connect == null ? void 0 : state.events.connect(eventSource ? (0,_events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.i)(eventSource) ? eventSource.current : eventSource : divRef.current);\n                                // Set up compute function\n                                if (eventPrefix) {\n                                    state.setEvents({\n                                        compute: {\n                                            \"CanvasImpl.useIsomorphicLayoutEffect.run\": (event, state)=>{\n                                                const x = event[eventPrefix + 'X'];\n                                                const y = event[eventPrefix + 'Y'];\n                                                state.pointer.set(x / state.size.width * 2 - 1, -(y / state.size.height) * 2 + 1);\n                                                state.raycaster.setFromCamera(state.pointer, state.camera);\n                                            }\n                                        }[\"CanvasImpl.useIsomorphicLayoutEffect.run\"]\n                                    });\n                                }\n                                // Call onCreated callback\n                                onCreated == null ? void 0 : onCreated(state);\n                            }\n                        }[\"CanvasImpl.useIsomorphicLayoutEffect.run\"]\n                    });\n                    root.current.render(/*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Bridge, {\n                        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.E, {\n                            set: setError,\n                            children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react__WEBPACK_IMPORTED_MODULE_1__.Suspense, {\n                                fallback: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.B, {\n                                    set: setBlock\n                                }),\n                                children: children != null ? children : null\n                            })\n                        })\n                    }));\n                }\n                run();\n            }\n        }\n    }[\"CanvasImpl.useIsomorphicLayoutEffect\"]);\n    react__WEBPACK_IMPORTED_MODULE_1__.useEffect({\n        \"CanvasImpl.useEffect\": ()=>{\n            const canvas = canvasRef.current;\n            if (canvas) return ({\n                \"CanvasImpl.useEffect\": ()=>(0,_events_e3cb66e2_esm_js__WEBPACK_IMPORTED_MODULE_0__.d)(canvas)\n            })[\"CanvasImpl.useEffect\"];\n        }\n    }[\"CanvasImpl.useEffect\"], []);\n    // When the event source is not this div, we need to set pointer-events to none\n    // Or else the canvas will block events from reaching the event source\n    const pointerEvents = eventSource ? 'none' : 'auto';\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", {\n        ref: divRef,\n        style: {\n            position: 'relative',\n            width: '100%',\n            height: '100%',\n            overflow: 'hidden',\n            pointerEvents,\n            ...style\n        },\n        ...props,\n        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", {\n            ref: containerRef,\n            style: {\n                width: '100%',\n                height: '100%'\n            },\n            children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"canvas\", {\n                ref: canvasRef,\n                style: {\n                    display: 'block'\n                },\n                children: fallback\n            })\n        })\n    });\n}\n/**\r\n * A DOM canvas which accepts threejs elements as children.\r\n * @see https://docs.pmnd.rs/react-three-fiber/api/canvas\r\n */ function Canvas(props) {\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(its_fine__WEBPACK_IMPORTED_MODULE_8__.FiberProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CanvasImpl, {\n            ...props\n        })\n    });\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2ZpYmVyL2Rpc3QvcmVhY3QtdGhyZWUtZmliZXIuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW9QO0FBQ2tSO0FBQ3ZlO0FBQ0E7QUFDWTtBQUNGO0FBQ0Q7QUFDSjtBQUNQO0FBQ047QUFDRztBQUNQO0FBRW5CLFNBQVMwRSxXQUFXLEVBQ2xCQyxHQUFHLEVBQ0hDLFFBQVEsRUFDUkMsUUFBUSxFQUNSQyxNQUFNLEVBQ05DLEtBQUssRUFDTEMsRUFBRSxFQUNGbEMsU0FBUzNCLHNEQUFtQixFQUM1QjhELFdBQVcsRUFDWEMsV0FBVyxFQUNYQyxPQUFPLEVBQ1BDLE1BQU0sRUFDTkMsSUFBSSxFQUNKQyxNQUFNLEVBQ05DLFlBQVksRUFDWkMsU0FBUyxFQUNUQyxHQUFHLEVBQ0hDLFdBQVcsRUFDWEMsU0FBUyxFQUNUQyxNQUFNLEVBQ05DLEtBQUssRUFDTEMsZUFBZSxFQUNmQyxTQUFTLEVBQ1QsR0FBR0MsT0FDSjtJQUNDLHNEQUFzRDtJQUN0RCw0RUFBNEU7SUFDNUUseURBQXlEO0lBQ3pEM0IsMENBQWE7OEJBQUMsSUFBTXBFLDBEQUFNQSxDQUFDcUUsa0NBQUtBOzZCQUFHLEVBQUU7SUFDckMsTUFBTTRCLFNBQVMvRiwwREFBU0E7SUFDeEIsTUFBTSxDQUFDZ0csY0FBY0MsY0FBYyxHQUFHN0IsNkRBQVVBLENBQUM7UUFDL0M4QixRQUFRO1FBQ1JDLFVBQVU7WUFDUkQsUUFBUTtZQUNSdkIsUUFBUTtRQUNWO1FBQ0EsR0FBR0EsTUFBTTtJQUNYO0lBQ0EsTUFBTXlCLFlBQVlsQyx5Q0FBWSxDQUFDO0lBQy9CLE1BQU1vQyxTQUFTcEMseUNBQVksQ0FBQztJQUM1QkEsc0RBQXlCLENBQUNNOzBDQUFLLElBQU00QixVQUFVSSxPQUFPOztJQUN0RCxNQUFNQyxzQkFBc0J2RywwREFBa0JBLENBQUN5RjtJQUMvQyxNQUFNLENB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Q0FBQyxPQUFPO1FBQzdCRSxLQUFLOEI7UUFDTDFCLE9BQU87WUFDTHVELFVBQVU7WUFDVmxCLE9BQU87WUFDUEMsUUFBUTtZQUNSa0IsVUFBVTtZQUNWRjtZQUNBLEdBQUd0RCxLQUFLO1FBQ1Y7UUFDQSxHQUFHaUIsS0FBSztRQUNScEIsVUFBVSxXQUFXLEdBQUVILHNEQUFHQSxDQUFDLE9BQU87WUFDaENFLEtBQUt3QjtZQUNMcEIsT0FBTztnQkFDTHFDLE9BQU87Z0JBQ1BDLFFBQVE7WUFDVjtZQUNBekMsVUFBVSxXQUFXLEdBQUVILHNEQUFHQSxDQUFDLFVBQVU7Z0JBQ25DRSxLQUFLNEI7Z0JBQ0x4QixPQUFPO29CQUNMeUQsU0FBUztnQkFDWDtnQkFDQTVELFVBQVVDO1lBQ1o7UUFDRjtJQUNGO0FBQ0Y7QUFFQTs7O0NBR0MsR0FDRCxTQUFTNEQsT0FBT3pDLEtBQUs7SUFDbkIsT0FBTyxXQUFXLEdBQUV2QixzREFBR0EsQ0FBQ0QsbURBQWFBLEVBQUU7UUFDckNJLFVBQVUsV0FBVyxHQUFFSCxzREFBR0EsQ0FBQ0MsWUFBWTtZQUNyQyxHQUFHc0IsS0FBSztRQUNWO0lBQ0Y7QUFDRjtBQUVrQiIsInNvdXJjZXMiOlsiL1VzZXJzL25ha2FtdXJhL2dpdC8zZC9ub2RlX21vZHVsZXMvQHJlYWN0LXRocmVlL2ZpYmVyL2Rpc3QvcmVhY3QtdGhyZWUtZmliZXIuZXNtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGUgYXMgZXh0ZW5kLCB1IGFzIHVzZUJyaWRnZSwgYSBhcyB1c2VNdXRhYmxlQ2FsbGJhY2ssIGIgYXMgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCwgYyBhcyBjcmVhdGVSb290LCBpIGFzIGlzUmVmLCBFIGFzIEVycm9yQm91bmRhcnksIEIgYXMgQmxvY2ssIGQgYXMgdW5tb3VudENvbXBvbmVudEF0Tm9kZSwgZiBhcyBjcmVhdGVQb2ludGVyRXZlbnRzIH0gZnJvbSAnLi9ldmVudHMtZTNjYjY2ZTIuZXNtLmpzJztcbmV4cG9ydCB7IHQgYXMgUmVhY3RUaHJlZUZpYmVyLCBfIGFzIF9yb290cywgeCBhcyBhY3QsIGsgYXMgYWRkQWZ0ZXJFZmZlY3QsIGogYXMgYWRkRWZmZWN0LCBsIGFzIGFkZFRhaWwsIG4gYXMgYWR2YW5jZSwgcyBhcyBhcHBseVByb3BzLCB5IGFzIGJ1aWxkR3JhcGgsIHEgYXMgY29udGV4dCwgZyBhcyBjcmVhdGVFdmVudHMsIG8gYXMgY3JlYXRlUG9ydGFsLCBjIGFzIGNyZWF0ZVJvb3QsIHcgYXMgZGlzcG9zZSwgZiBhcyBldmVudHMsIGUgYXMgZXh0ZW5kLCBoIGFzIGZsdXNoR2xvYmFsRWZmZWN0cywgcCBhcyBmbHVzaFN5bmMsIHYgYXMgZ2V0Um9vdFN0YXRlLCBtIGFzIGludmFsaWRhdGUsIHIgYXMgcmVjb25jaWxlciwgZCBhcyB1bm1vdW50Q29tcG9uZW50QXROb2RlLCBEIGFzIHVzZUZyYW1lLCBGIGFzIHVzZUdyYXBoLCB6IGFzIHVzZUluc3RhbmNlSGFuZGxlLCBHIGFzIHVzZUxvYWRlciwgQSBhcyB1c2VTdG9yZSwgQyBhcyB1c2VUaHJlZSB9IGZyb20gJy4vZXZlbnRzLWUzY2I2NmUyLmVzbS5qcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgdXNlTWVhc3VyZSBmcm9tICdyZWFjdC11c2UtbWVhc3VyZSc7XG5pbXBvcnQgeyBGaWJlclByb3ZpZGVyIH0gZnJvbSAnaXRzLWZpbmUnO1xuaW1wb3J0IHsganN4IH0gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnO1xuaW1wb3J0ICdyZWFjdC1yZWNvbmNpbGVyL2NvbnN0YW50cyc7XG5pbXBvcnQgJ3p1c3RhbmQvdHJhZGl0aW9uYWwnO1xuaW1wb3J0ICdzdXNwZW5kLXJlYWN0JztcbmltcG9ydCAncmVhY3QtcmVjb25jaWxlcic7XG5pbXBvcnQgJ3NjaGVkdWxlcic7XG5cbmZ1bmN0aW9uIENhbnZhc0ltcGwoe1xuICByZWYsXG4gIGNoaWxkcmVuLFxuICBmYWxsYmFjayxcbiAgcmVzaXplLFxuICBzdHlsZSxcbiAgZ2wsXG4gIGV2ZW50cyA9IGNyZWF0ZVBvaW50ZXJFdmVudHMsXG4gIGV2ZW50U291cmNlLFxuICBldmVudFByZWZpeCxcbiAgc2hhZG93cyxcbiAgbGluZWFyLFxuICBmbGF0LFxuICBsZWdhY3ksXG4gIG9ydGhvZ3JhcGhpYyxcbiAgZnJhbWVsb29wLFxuICBkcHIsXG4gIHBlcmZvcm1hbmNlLFxuICByYXljYXN0ZXIsXG4gIGNhbWVyYSxcbiAgc2NlbmUsXG4gIG9uUG9pbnRlck1pc3NlZCxcbiAgb25DcmVhdGVkLFxuICAuLi5wcm9wc1xufSkge1xuICAvLyBDcmVhdGUgYSBrbm93biBjYXRhbG9ndWUgb2YgVGhyZWVqcy1uYXRpdmUgZWxlbWVudHNcbiAgLy8gVGhpcyB3aWxsIGluY2x1ZGUgdGhlIGVudGlyZSBUSFJFRSBuYW1lc3BhY2UgYnkgZGVmYXVsdCwgdXNlcnMgY2FuIGV4dGVuZFxuICAvLyB0aGVpciBvd24gZWxlbWVudHMgYnkgdXNpbmcgdGhlIGNyZWF0ZVJvb3QgQVBJIGluc3RlYWRcbiAgUmVhY3QudXNlTWVtbygoKSA9PiBleHRlbmQoVEhSRUUpLCBbXSk7XG4gIGNvbnN0IEJyaWRnZSA9IHVzZUJyaWRnZSgpO1xuICBjb25zdCBbY29udGFpbmVyUmVmLCBjb250YWluZXJSZWN0XSA9IHVzZU1lYXN1cmUoe1xuICAgIHNjcm9sbDogdHJ1ZSxcbiAgICBkZWJvdW5jZToge1xuICAgICAgc2Nyb2xsOiA1MCxcbiAgICAgIHJlc2l6ZTogMFxuICAgIH0sXG4gICAgLi4ucmVzaXplXG4gIH0pO1xuICBjb25zdCBjYW52YXNSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIGNvbnN0IGRpdlJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+IGNhbnZhc1JlZi5jdXJyZW50KTtcbiAgY29uc3QgaGFuZGxlUG9pbnRlck1pc3NlZCA9IHVzZU11dGFibGVDYWxsYmFjayhvblBvaW50ZXJNaXNzZWQpO1xuICBjb25zdCBbYmxvY2ssIHNldEJsb2NrXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gU3VzcGVuZCB0aGlzIGNvbXBvbmVudCBpZiBibG9jayBpcyBhIHByb21pc2UgKDJuZCBydW4pXG4gIGlmIChibG9jaykgdGhyb3cgYmxvY2s7XG4gIC8vIFRocm93IGV4Y2VwdGlvbiBvdXR3YXJkcyBpZiBhbnl0aGluZyB3aXRoaW4gY2FudmFzIHRocm93c1xuICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuICBjb25zdCByb290ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBpZiAoY29udGFpbmVyUmVjdC53aWR0aCA+IDAgJiYgY29udGFpbmVyUmVjdC5oZWlnaHQgPiAwICYmIGNhbnZhcykge1xuICAgICAgaWYgKCFyb290LmN1cnJlbnQpIHJvb3QuY3VycmVudCA9IGNyZWF0ZVJvb3QoY2FudmFzKTtcbiAgICAgIGFzeW5jIGZ1bmN0aW9uIHJ1bigpIHtcbiAgICAgICAgYXdhaXQgcm9vdC5jdXJyZW50LmNvbmZpZ3VyZSh7XG4gICAgICAgICAgZ2wsXG4gICAgICAgICAgc2NlbmUsXG4gICAgICAgICAgZXZlbnRzLFxuICAgICAgICAgIHNoYWRvd3MsXG4gICAgICAgICAgbGluZWFyLFxuICAgICAgICAgIGZsYXQsXG4gICAgICAgICAgbGVnYWN5LFxuICAgICAgICAgIG9ydGhvZ3JhcGhpYyxcbiAgICAgICAgICBmcmFtZWxvb3AsXG4gICAgICAgICAgZHByLFxuICAgICAgICAgIHBlcmZvcm1hbmNlLFxuICAgICAgICAgIHJheWNhc3RlcixcbiAgICAgICAgICBjYW1lcmEsXG4gICAgICAgICAgc2l6ZTogY29udGFpbmVyUmVjdCxcbiAgICAgICAgICAvLyBQYXNzIG11dGFibGUgcmVmZXJlbmNlIHRvIG9uUG9pbnRlck1pc3NlZCBzbyBpdCdzIGZyZWUgdG8gdXBkYXRlXG4gICAgICAgICAgb25Qb2ludGVyTWlzc2VkOiAoLi4uYXJncykgPT4gaGFuZGxlUG9pbnRlck1pc3NlZC5jdXJyZW50ID09IG51bGwgPyB2b2lkIDAgOiBoYW5kbGVQb2ludGVyTWlzc2VkLmN1cnJlbnQoLi4uYXJncyksXG4gICAgICAgICAgb25DcmVhdGVkOiBzdGF0ZSA9PiB7XG4gICAgICAgICAgICAvLyBDb25uZWN0IHRvIGV2ZW50IHNvdXJjZVxuICAgICAgICAgICAgc3RhdGUuZXZlbnRzLmNvbm5lY3QgPT0gbnVsbCA/IHZvaWQgMCA6IHN0YXRlLmV2ZW50cy5jb25uZWN0KGV2ZW50U291cmNlID8gaXNSZWYoZXZlbnRTb3VyY2UpID8gZXZlbnRTb3VyY2UuY3VycmVudCA6IGV2ZW50U291cmNlIDogZGl2UmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgLy8gU2V0IHVwIGNvbXB1dGUgZnVuY3Rpb25cbiAgICAgICAgICAgIGlmIChldmVudFByZWZpeCkge1xuICAgICAgICAgICAgICBzdGF0ZS5zZXRFdmVudHMoe1xuICAgICAgICAgICAgICAgIGNvbXB1dGU6IChldmVudCwgc3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHggPSBldmVudFtldmVudFByZWZpeCArICdYJ107XG4gICAgICAgICAgICAgICAgICBjb25zdCB5ID0gZXZlbnRbZXZlbnRQcmVmaXggKyAnWSddO1xuICAgICAgICAgICAgICAgICAgc3RhdGUucG9pbnRlci5zZXQoeCAvIHN0YXRlLnNpemUud2lkdGggKiAyIC0gMSwgLSh5IC8gc3RhdGUuc2l6ZS5oZWlnaHQpICogMiArIDEpO1xuICAgICAgICAgICAgICAgICAgc3RhdGUucmF5Y2FzdGVyLnNldEZyb21DYW1lcmEoc3RhdGUucG9pbnRlciwgc3RhdGUuY2FtZXJhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2FsbCBvbkNyZWF0ZWQgY2FsbGJhY2tcbiAgICAgICAgICAgIG9uQ3JlYXRlZCA9PSBudWxsID8gdm9pZCAwIDogb25DcmVhdGVkKHN0YXRlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByb290LmN1cnJlbnQucmVuZGVyKCAvKiNfX1BVUkVfXyovanN4KEJyaWRnZSwge1xuICAgICAgICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovanN4KEVycm9yQm91bmRhcnksIHtcbiAgICAgICAgICAgIHNldDogc2V0RXJyb3IsXG4gICAgICAgICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL2pzeChSZWFjdC5TdXNwZW5zZSwge1xuICAgICAgICAgICAgICBmYWxsYmFjazogLyojX19QVVJFX18qL2pzeChCbG9jaywge1xuICAgICAgICAgICAgICAgIHNldDogc2V0QmxvY2tcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlbiAhPSBudWxsID8gY2hpbGRyZW4gOiBudWxsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICAgIHJ1bigpO1xuICAgIH1cbiAgfSk7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgaWYgKGNhbnZhcykgcmV0dXJuICgpID0+IHVubW91bnRDb21wb25lbnRBdE5vZGUoY2FudmFzKTtcbiAgfSwgW10pO1xuXG4gIC8vIFdoZW4gdGhlIGV2ZW50IHNvdXJjZSBpcyBub3QgdGhpcyBkaXYsIHdlIG5lZWQgdG8gc2V0IHBvaW50ZXItZXZlbnRzIHRvIG5vbmVcbiAgLy8gT3IgZWxzZSB0aGUgY2FudmFzIHdpbGwgYmxvY2sgZXZlbnRzIGZyb20gcmVhY2hpbmcgdGhlIGV2ZW50IHNvdXJjZVxuICBjb25zdCBwb2ludGVyRXZlbnRzID0gZXZlbnRTb3VyY2UgPyAnbm9uZScgOiAnYXV0byc7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovanN4KFwiZGl2XCIsIHtcbiAgICByZWY6IGRpdlJlZixcbiAgICBzdHlsZToge1xuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICBwb2ludGVyRXZlbnRzLFxuICAgICAgLi4uc3R5bGVcbiAgICB9LFxuICAgIC4uLnByb3BzLFxuICAgIGNoaWxkcmVuOiAvKiNfX1BVUkVfXyovanN4KFwiZGl2XCIsIHtcbiAgICAgIHJlZjogY29udGFpbmVyUmVmLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgaGVpZ2h0OiAnMTAwJSdcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL2pzeChcImNhbnZhc1wiLCB7XG4gICAgICAgIHJlZjogY2FudmFzUmVmLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIGRpc3BsYXk6ICdibG9jaydcbiAgICAgICAgfSxcbiAgICAgICAgY2hpbGRyZW46IGZhbGxiYWNrXG4gICAgICB9KVxuICAgIH0pXG4gIH0pO1xufVxuXG4vKipcclxuICogQSBET00gY2FudmFzIHdoaWNoIGFjY2VwdHMgdGhyZWVqcyBlbGVtZW50cyBhcyBjaGlsZHJlbi5cclxuICogQHNlZSBodHRwczovL2RvY3MucG1uZC5ycy9yZWFjdC10aHJlZS1maWJlci9hcGkvY2FudmFzXHJcbiAqL1xuZnVuY3Rpb24gQ2FudmFzKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovanN4KEZpYmVyUHJvdmlkZXIsIHtcbiAgICBjaGlsZHJlbjogLyojX19QVVJFX18qL2pzeChDYW52YXNJbXBsLCB7XG4gICAgICAuLi5wcm9wc1xuICAgIH0pXG4gIH0pO1xufVxuXG5leHBvcnQgeyBDYW52YXMgfTtcbiJdLCJuYW1lcyI6WyJlIiwiZXh0ZW5kIiwidSIsInVzZUJyaWRnZSIsImEiLCJ1c2VNdXRhYmxlQ2FsbGJhY2siLCJiIiwidXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCIsImMiLCJjcmVhdGVSb290IiwiaSIsImlzUmVmIiwiRSIsIkVycm9yQm91bmRhcnkiLCJCIiwiQmxvY2siLCJkIiwidW5tb3VudENvbXBvbmVudEF0Tm9kZSIsImYiLCJjcmVhdGVQb2ludGVyRXZlbnRzIiwidCIsIlJlYWN0VGhyZWVGaWJlciIsIl8iLCJfcm9vdHMiLCJ4IiwiYWN0IiwiayIsImFkZEFmdGVyRWZmZWN0IiwiaiIsImFkZEVmZmVjdCIsImwiLCJhZGRUYWlsIiwibiIsImFkdmFuY2UiLCJzIiwiYXBwbHlQcm9wcyIsInkiLCJidWlsZEdyYXBoIiwicSIsImNvbnRleHQiLCJnIiwiY3JlYXRlRXZlbnRzIiwibyIsImNyZWF0ZVBvcnRhbCIsInciLCJkaXNwb3NlIiwiZXZlbnRzIiwiaCIsImZsdXNoR2xvYmFsRWZmZWN0cyIsInAiLCJmbHVzaFN5bmMiLCJ2IiwiZ2V0Um9vdFN0YXRlIiwibSIsImludmFsaWRhdGUiLCJyIiwicmVjb25jaWxlciIsIkQiLCJ1c2VGcmFtZSIsIkYiLCJ1c2VHcmFwaCIsInoiLCJ1c2VJbnN0YW5jZUhhbmRsZSIsIkciLCJ1c2VMb2FkZXIiLCJBIiwidXNlU3RvcmUiLCJDIiwidXNlVGhyZWUiLCJSZWFjdCIsIlRIUkVFIiwidXNlTWVhc3VyZSIsIkZpYmVyUHJvdmlkZXIiLCJqc3giLCJDYW52YXNJbXBsIiwicmVmIiwiY2hpbGRyZW4iLCJmYWxsYmFjayIsInJlc2l6ZSIsInN0eWxlIiwiZ2wiLCJldmVudFNvdXJjZSIsImV2ZW50UHJlZml4Iiwic2hhZG93cyIsImxpbmVhciIsImZsYXQiLCJsZWdhY3kiLCJvcnRob2dyYXBoaWMiLCJmcmFtZWxvb3AiLCJkcHIiLCJwZXJmb3JtYW5jZSIsInJheWNhc3RlciIsImNhbWVyYSIsInNjZW5lIiwib25Qb2ludGVyTWlzc2VkIiwib25DcmVhdGVkIiwicHJvcHMiLCJ1c2VNZW1vIiwiQnJpZGdlIiwiY29udGFpbmVyUmVmIiwiY29udGFpbmVyUmVjdCIsInNjcm9sbCIsImRlYm91bmNlIiwiY2FudmFzUmVmIiwidXNlUmVmIiwiZGl2UmVmIiwidXNlSW1wZXJhdGl2ZUhhbmRsZSIsImN1cnJlbnQiLCJoYW5kbGVQb2ludGVyTWlzc2VkIiwiYmxvY2siLCJzZXRCbG9jayIsInVzZVN0YXRlIiwiZXJyb3IiLCJzZXRFcnJvciIsInJvb3QiLCJjYW52YXMiLCJ3aWR0aCIsImhlaWdodCIsInJ1biIsImNvbmZpZ3VyZSIsInNpemUiLCJhcmdzIiwic3RhdGUiLCJjb25uZWN0Iiwic2V0RXZlbnRzIiwiY29tcHV0ZSIsImV2ZW50IiwicG9pbnRlciIsInNldCIsInNldEZyb21DYW1lcmEiLCJyZW5kZXIiLCJTdXNwZW5zZSIsInVzZUVmZmVjdCIsInBvaW50ZXJFdmVudHMiLCJwb3NpdGlvbiIsIm92ZXJmbG93IiwiZGlzcGxheSIsIkNhbnZhcyJdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@react-three/fiber/dist/react-three-fiber.esm.js\n");

/***/ })

};
;